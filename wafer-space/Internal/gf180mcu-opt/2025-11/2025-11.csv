AuthorID,Author,Date,Content,Attachments,Reactions
"492702620759228416","mattvenn","2025-04-14T14:54:33.3770000+00:00",":asic_hats:","",""
"596068704471482370","246tnt","2025-04-14T14:58:23.8730000+00:00","What's the `-opt` for ?","",""
"323371864074485771","mole99","2025-04-14T17:40:20.9230000+00:00","Cost optimization I assume if it is about the metal layer reduction","",""
"169786952432746498","mithro_","2025-04-16T16:25:42.3930000+00:00","Yes","",""
"169786952432746498","mithro_","2025-04-16T16:26:31.6590000+00:00","https://docs.google.com/document/d/1Uf6xGZHpuA_G4iyAvxDwEENMjPBAf0Q16D0c8F0lbDQ/edit?tab=t.0#heading=h.vv35m449hl9p","",""
"596068704471482370","246tnt","2025-04-16T18:00:12.0910000+00:00","@Tim 'mithro' Ansell Don't have access. Sent request ðŸ™‚","",""
"596068704471482370","246tnt","2025-04-16T18:04:58.4140000+00:00","Which metal stackup would we get ?","",""
"169786952432746498","mithro_","2025-04-16T18:18:03.3430000+00:00","@tnt - TBD - I would like to get us to three metal layers but I know it will be a headache for TinyTapeout","",""
"596068704471482370","246tnt","2025-04-16T18:18:35.9530000+00:00","That's just not doable.","",""
"596068704471482370","246tnt","2025-04-16T18:19:12.1820000+00:00","The standard cell need 1 metal layer pretty much for their exclusive use. TT need a metal layer for its exclusive use.","",""
"596068704471482370","246tnt","2025-04-16T18:21:25.2120000+00:00","So the only way to do routing would basically be a channel router but (1) AFAIK that's not supported by the tooling and (2) this would make the logic density ridiculously low. gf180 was already not the greatest logic density because we only had 5v standard cell but limited to channel routing, it would easily divide it by 2 (and that's optimistic).","",""
"169786952432746498","mithro_","2025-04-19T02:13:10.1410000+00:00","@tnt - I'd like to eventually get some actual numbers and results - the ""default option"" is the exact same configuration at GFMPW-0 / GFMPW-1","",""
"596068704471482370","246tnt","2025-04-19T07:56:03.1630000+00:00","Thing is it depends what you want to do ... for just pure basic digital designs, sure you can get rid of a lot of the stuff ... but to me that's also makes the process boring and not interesting. I can create full digital designs in a FPGA just fine so meh ðŸ¤· 
The interesting part is analog/mixed-signal design and that's were those weird things like native Vt, deep-nwells, or the efuse stuff because they're the ""fun bits"" to play with.
That's just my 2ct at least.","","ðŸ’¯ (2)"
"596068704471482370","246tnt","2025-04-19T08:15:44.0370000+00:00","For TT itself, as stated above, you couldn't just ""port"" whatever we have now to 3 metal, that just wouldn't work out. You could imagine something TT-like, but you'd basically be starting from scratch since you'd have to using comb power routing and that completely change the way you need to combine stuff and also limits layout option (like, you couldn't do combining of tile area vertically like we do now since that'd be cutting power rails ...).

To realistically port the current ""architecture"" you'd need 4 metal layers, ( 1 for local interconnect of standard cells, 2 for XY routing, 1 for top level PDN for TT ) with the top one being thick metal ( say 30KA ).

And if you stick with 3 metal, you also have a balance to find for the TopMetal. Because on one hand you ideally want it to be thin, because it's a routing layer, you need to have a relatively fine grid. But on the other, it's your sole layer for PDN so you want its sheet resistance to be low so you don't need rails that are unpractically wide ...
11KA is the thickest option that still has a realistic pitch to use as signal routing and that's 40 mOhms/sq ( ~ 30% higher than in sky130 top metal ).","",""
"169786952432746498","mithro_","2025-04-19T21:08:23.0080000+00:00","@tnt - Why did you run the PDN over the top of the designs rather than down channels between each tile?","",""
"169786952432746498","mithro_","2025-04-19T21:08:46.2690000+00:00","@tnt - Trying to get as many projects onto one shuttle as possible?","",""
"169786952432746498","mithro_","2025-04-19T21:13:30.4630000+00:00","@tnt - Also, does that mean TinyTapeout designs can't use Metal 5?","",""
"596068704471482370","246tnt","2025-04-19T21:13:33.1410000+00:00","Several reason :
(1) It'd be wasting space between tiles
(2) Powering only from one side isn't great for IR drop for large tiles. We actually have a minimum of 2 rails going over each tile. More for larger tiles.
(3) We allow to combine multiple tiles, if you have something running between them, you can't do that because it would cut your power rail ... shutting down power to other projects on the same row.
(4) We power gate each project. That's a lot of different ""power domains"" (think like 500 different power domains on a tiny chip !) so our PDN routing takes quite a bit of space and even though we pretty much fill the entire thick top metal (at least as much as density allows), we still end up with PDN impedance higher than I'd like. So imagine using the space between tiles, we'd need quite the area ...","",""
"596068704471482370","246tnt","2025-04-19T21:14:18.1300000+00:00","And yes, on sky130 tiny tapeout designs can't use `Metal5`. And on IHP they can't use `TopMetal2`","",""
"169786952432746498","mithro_","2025-04-19T21:15:05.6860000+00:00","BTW Have you written this up somewhere?","",""
"596068704471482370","246tnt","2025-04-19T21:16:05.4770000+00:00","The only case were people wanted to use it is to make inductors but :
* Inductors are impractically large anyway, given the cost of a tile, for the price you'd need to pay to put your inductor you might as well have paid for a ChipIgnite-mini slot ...
* The IO speed wouldn't allow you any kind of RF frequency interface
So it wasn't all that much of an issue ...","",""
"596068704471482370","246tnt","2025-04-19T21:17:42.5860000+00:00","Written what up ?
The whole TT code is public and people can have a look if they choose to. The final GDS of each shuttle is published and people are free to lookup how things are assembled.
There was also some video from Matt about the TT organization and why some of the choices were made.","",""
"169786952432746498","mithro_","2025-04-19T21:20:50.3320000+00:00","@tnt - Do you mean this video series -> https://www.youtube.com/watch?v=oFz6XTZvfB4 ?","","â¤ï¸ (1)"
"596068704471482370","246tnt","2025-04-19T21:20:58.9520000+00:00","Yes.","",""
"596068704471482370","246tnt","2025-04-19T21:21:34.2730000+00:00","Although I'm not sure we get much into PDN anywhere.
People tend to think power distribution is boring stuff ðŸ˜…","",""
"596068704471482370","246tnt","2025-04-19T21:21:57.2020000+00:00","Just the stuff blocking the view of their chip art that lies underneath.","","â¤ï¸ (1)"
"169786952432746498","mithro_","2025-04-19T21:22:06.9770000+00:00","Yeah ðŸ™‚","",""
"596068704471482370","246tnt","2025-04-19T21:23:27.3950000+00:00","I did a bunch of measurement and improvements over the various shuttles ... and TT8 would have been the final iteration with all the improvements done ðŸ˜…  But I guess I'll never see the result of that ...","",""
"169786952432746498","mithro_","2025-04-19T21:26:52.0740000+00:00","> we still end up with PDN impedance higher than I'd like

What is the effect of the higher PDN impedance?","",""
"596068704471482370","246tnt","2025-04-19T21:28:56.1910000+00:00","For digital it can cause voltage drops when power spikes on clock transition, that can screw up your timings.
For analog, well your supply drop more with power usage, so depending on how much current you use, that can get your design out of its correct operating point.","",""
"596068704471482370","246tnt","2025-04-19T21:31:42.3540000+00:00","For GF180 you probably have a bit more margin ... simply because dropping 0.1V of 5V isn't quite as bad as loosing 0.1V when your VDD is 1.8V (or 1.2V for IHP).","",""
"169786952432746498","mithro_","2025-04-19T22:01:53.0130000+00:00","Yeah","",""
