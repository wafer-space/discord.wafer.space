==============================================================
Guild: wafer.space Community
Channel: Information / general
==============================================================

[04/14/2025 14:38] GitHubber#4612
Joined the server.


[04/14/2025 14:52] mithro_
Testing?


[04/14/2025 14:54] mattvenn
hey!


[04/14/2025 14:54] mithro_
Slowly getting things set up


[04/14/2025 14:54] mithro_
Should have a new website up with a whole bunch more information within a day or two

{Reactions}
ðŸ‘ (2) â¤ï¸ (2)

[04/14/2025 16:15] saladchap
Hello


[04/14/2025 16:58] _mwelling_
ðŸ‘‹


[04/14/2025 17:38] mole99
Hi all ðŸ‘‹


[04/15/2025 02:22] mithro_
A better website should now be up at https://wafer.space

{Embed}
https://wafer.space/
wafer.space - Budget silicon manufacturing.
Create integrated circuits without breaking the bank!


[04/15/2025 03:33] _mwelling_
The icon at the top of the page links to https://snowlake-jekyll-v2.pages.dev/

{Embed}
https://snowlake-jekyll-v2.pages.dev/
Snowlake - Digital Startup - Creative Business and Startup Jekyll ...
Snowlake Jekyll Theme is a perfectly crafted fast loading and SEO-friendly static site generator theme
with a variety of UI elements and countless features. A perfect theme to build your next dream project.


[04/15/2025 03:33] _mwelling_
Should probably redirect to home page


[04/15/2025 08:35] mithro_
Should be fixed now.


[04/15/2025 10:52] algofoogle
Howdy folks! Good to see you all here ðŸ™‚ @Tim 'mithro' Ansell the website's off to a good start.

{Reactions}
ðŸ‘‹ (3) ðŸ˜‹

[04/15/2025 18:09] proppy
How's the progress guys?


[04/15/2025 18:27] mithro_
Slowly getting there - new website is up at https://wafer.space

{Embed}
https://wafer.space/
wafer.space - Budget silicon manufacturing.
Create integrated circuits without breaking the bank!


[04/15/2025 18:32] mithro_
I have an official company in Singapore


[04/16/2025 00:07] mithro_
@everyone  - Hey braintrust! I'd like your thoughts on potential wafer.space logos, can you vote @ https://www.freelancer.com/contest/poll-MjU0NTgwNjox

{Embed}
https://www.freelancer.com/contest/poll-MjU0NTgwNjox
Help me choose the winner!
I'm running a contest for Logo design for Wafer.Space on Freelancer.
Help me select a winner by voting in my poll! https://www.freelancer.com/contest/poll-MjU0NTgwNjox
general_media/fb-share-poll-377ac396-16B21.jpg

{Reactions}
ðŸš€ (3) ðŸ”¥

[04/16/2025 06:09] saladchap
All of them are too rocket ship / outer space - y imo, could be easily interpreted as a space or satellite company rather than asic or wafer fab service


[04/16/2025 06:28] proppy
With "wafer" as the name and all, I think this really represents what our company logo could be.

{Attachments}
general_media/foto-teaser-newsletter-4-martie-Sshutterst-8F5D9.png

{Reactions}
â¤ï¸

[04/16/2025 06:29] proppy
lmk what ya'll think though, let's get some ideas going guys.


[04/16/2025 07:40] algofoogle
I agree with @stuart though Iâ€™m partial to the Saturn-like one, if it perhaps had the flat-bottom of a wafer. Also, now Iâ€™m hungry @proppy ðŸ˜‰


[04/16/2025 07:52] saladchap
I'm AFK so can't do much creativity rn but will do some thinking ðŸ‘Œ


[04/16/2025 09:45] algofoogle
I would normally fire up Illustrator and try a few things but I have been AFK for most of today too so I let ChatGPT try a few things with the planet concept. I'm sharing these ones in case it helps stimulate any other ideas. I wanted it to try progressively morphing the "floating dice" from squares to "stars" but it wouldn't play ball. If I were to riff on this more, it would be to combine the two right-side ones, merging the "horizon" effect (which doubles as a wafer "flat" edge) better with the floating dice/stars.

{Attachments}
general_media/waferspace-planet-D8C72.png


[04/16/2025 13:05] saladchap
Still a bit too outer space-y imo, but I might be suffering bias from TT spasics project


[04/16/2025 13:06] saladchap


{Attachments}
general_media/file_00000000c390620a82672efebef3f333_conv-E0BDC.png


[04/16/2025 13:06] saladchap
I'm feeding the gpt robots too


[04/16/2025 16:06] mithro_
Round two - https://www.freelancer.com/contest/poll-MjU0NTgwNjoy


[04/16/2025 16:25] mithro_
So far the two most popular entries are


[04/16/2025 16:25] mithro_


{Attachments}
general_media/67f7bbfcacc55_thumb-760C1.png
general_media/67f82de7e808a_thumb-A242C.png


[04/17/2025 16:09] digshadow
Left is a bit busy to me


[04/17/2025 16:58] mattvenn
how about get rid of the planet and add a notch on the left one

{Reactions}
ðŸ‘

[04/17/2025 21:44] algofoogle
Yeah I think that might be an improvement


[05/03/2025 17:52] mithro_
Hi everyone! The logo I've ended up going with is the following


[05/03/2025 17:52] mithro_


{Attachments}
general_media/Wafer.Space.bw.128x128-F9BAE.png

{Reactions}
âœ¨ (4) ðŸš€ (2) â›µ

[05/12/2025 03:12] mithro_
BTW I've started putting together a list of projects and stuff I'm thinking about putting in empty slots on the first shuttle run


[05/12/2025 03:12] mithro_
https://docs.google.com/document/d/1kyo9Qcsu0RMXwUS2woMCOvf14YvA0IqpgDkZmIRFZpc/edit?tab=t.0

{Embed}
https://docs.google.com/document/d/1kyo9Qcsu0RMXwUS2woMCOvf14YvA0IqpgDkZmIRFZpc/edit?tab=t.0
wafer.space GF180MCU Projects
wafer.space GF180MCU Projects
general_media/AHkbwyJzt_CdjKoS94LsetZZh7Rab7FNnVZdpGAPlR-6FD21

{Reactions}
ðŸš€

[05/13/2025 05:31] algofoogle
Iâ€™m trying to think of wacky ideasâ€¦ maybe some sort of die that is actually a micro-probe array for testing other dice, flip-chip-bed-of-nails? I wonder if thereâ€™s any way you could make a â€œsquishyâ€ interposer to put between such a die and the thing you want to probe


[05/15/2025 14:10] mattvenn
how are things going @Tim 'mithro' Ansell ?


[05/15/2025 14:31] mithro_
Slowly getting there with everything

{Reactions}
ðŸ‘

[05/15/2025 14:56] mithro_
@Matt Venn - It's been fun to actually get closer to the metal then I have been for a while


[05/15/2025 15:11] mithro_
@Matt Venn - Figuring out what the limits are has been interesting, specially things like this table ->

{Attachments}
general_media/image-7BDE8.png


[05/15/2025 16:00] 246tnt
What are you trying to compare with that table ðŸ¤”


[05/15/2025 16:01] 246tnt
It's the number of 3 input AND cells you can put in the same area as an SRAM ... But I'm not sure how that metric is helpful ?


[05/15/2025 16:09] mithro_
@tnt - Number of latches (IE 1 bit of storage) to SRAM


[05/15/2025 16:10] 246tnt
Where did you find a latch in the gf180 standard cell library ? I didn't see one at first glance.


[05/15/2025 16:10] mithro_
@tnt -

{Attachments}
general_media/image-E6826.png


[05/15/2025 16:11] mithro_
https://docs.google.com/spreadsheets/d/1__CaMhJ88QpAhJFrScrBWYnRrFHs8kl6nTi9r7uFDIw/edit?gid=498165305#gid=498165305

{Embed}
https://docs.google.com/spreadsheets/d/1__CaMhJ88QpAhJFrScrBWYnRrFHs8kl6nTi9r7uFDIw/edit?gid=498165305
GF180MCU Standard Sizing um sizing
general_media/AHkbwyJ_P9R_ZrS41gkPSLiD6HvQxHYS2D1vuJlaEI-0EB86


[05/15/2025 16:11] 246tnt
Oh, I see, they don't have the same naming scheme.


[05/15/2025 16:12] 246tnt
I was looking for `dlxxx` for latches but it's named `latq`


[05/15/2025 16:12] mithro_


{Attachments}
general_media/image-CF2A4.png


[05/15/2025 16:13] mithro_
@tnt - Dammit, that was an oversight, seems like they should have been dlxxx


[05/15/2025 16:13] mithro_
@tnt - I was looking at how to do a compact standard cell based "programmable" mux


[05/15/2025 16:13] mithro_
https://docs.google.com/drawings/d/1YEM74jc4aNdtRJ-IsS7GyEP_q4M2Ckr523fqsclLHLc/edit

{Embed}
https://docs.google.com/drawings/d/1YEM74jc4aNdtRJ-IsS7GyEP_q4M2Ckr523fqsclLHLc/edit
GF180MCU Programmable Mux Layout
I2 I3 I1 I0 Z S1 S0 Latch A Latch B Latch D Latch C MUX4 Q I2 I3 Q Q Q I1 I0 Z S1 S0 D E D E D E D E Latch A Latch B Latch D Latch C MUX4 Q Q D E D E D Q D Q Q E E Programming Data Shift Register Path Programming Data Clock Path Programming Data to Mux Path Latch A BUFZ Latch A BUFZ Latch A BUFZ ...
general_media/AHkbwyJm3oowToxfoXcAzXjmOt3iyMXm-I31sdBHzj-FDF05


[05/15/2025 16:14] mithro_
```
gf180mcu_fd_sc_mcu7t5v0__mux4_4 -- 21.28 um
gf180mcu_fd_sc_mcu7t5v0__latq_1 -- 11.20 um
```


[05/15/2025 16:16] mithro_
Then I discovered the `bufz_4` is also 11.20um in size


[05/15/2025 16:17] 246tnt
Not sure what you mean exactly by "programmable mux" TBH.


[05/15/2025 16:19] mithro_
A mux where the input choice is controlled by a storage element


[05/15/2025 16:19] 246tnt
Ok. So like a FPGA LUT cell basically.


[05/15/2025 16:20] 246tnt
But your diagram seem to show a serial configuraiton like a shift register ... and you can only do that with actul register (i.e. FFs), you can't make a shift register with latches, that just doesn't work.


[05/15/2025 16:20] mithro_
Oh, yeah - I guess you are right


[05/15/2025 16:25] mithro_
@tnt - Actually, if you had two enables then it should work, right?


[05/15/2025 16:26] 246tnt
No. Two consecutive latches will always have the same output.


[05/15/2025 16:26] 246tnt
Basically two latches with non overlapping enable is one flip-flop ...


[05/15/2025 16:32] mithro_
@tnt - If you have Enable A and Enable B, then every "even numbered latch" in the chain is connected to Enable A and ever "old numbered" latch in the chain is connected to Enable B, then you should be able to pulse Enable A, then Enable B, right?


[05/15/2025 16:35] 246tnt
Say you pulse Enable A ... all `A` latches now hold the value of the `B` latches before them. Whatever value they used to hold is now gone. So you only have N/2 distinct values in the chain.


[05/15/2025 16:39] mithro_
Ahh, yeah


[05/15/2025 16:40] mithro_
Having the alternative enables does prevent hold violations between the elements if they where flipflops


[05/15/2025 16:43] mithro_
What is it that the AI's always say when you point out that there stuff is borked? ðŸ˜›


[05/15/2025 16:50] mithro_
```
2 * gf180mcu_fd_sc_mcu7t5v0__dffq_1 ~= 1 * gf180mcu_fd_sc_mcu7t5v0__mux4_1 + 1 * gf180mcu_fd_sc_mcu7t5v0__inv_8
```


[05/15/2025 16:54] mithro_
I also have yet to understand if the routing I'm drawing is even possible on the technology


[05/15/2025 16:58] mithro_
Sadly the numbers don't line up as well....


[05/15/2025 17:01] mithro_
Stupid reality screwing up nice theory ðŸ™‚


[05/15/2025 17:11] mithro_


{Attachments}
general_media/image-3D558.png


[05/15/2025 17:26] mithro_
I wonder how the drive strength effects timing and stuff


[05/15/2025 17:31] mithro_
I assume that a higher drive strength cell also puts more load on the cell driving it?


[05/15/2025 17:32] mithro_
@tnt - I do have your talk with Matt Venn on the Tiny Tapeout multiplexer stuff on my to watch list


[05/15/2025 18:02] 246tnt
Usually large size buffer like _8 / _12 / _16 will have a progressive build up internally. Like the first stage will be a single transitor inverter, then driving a 4 transistor one then drivingthe final 16 one for instance.


[05/15/2025 18:12] 246tnt
And  2 clock for FFs is a horrible idea. It doesn't help for hold violations, on the contrary, it's a sure way to have more issues ...


[05/15/2025 23:16] mithro_
@tnt - I found these diagrams from a long while back. I think it actually connected back to the N/2 distinct values on the chain issue you pointed out with the latches -- Tim Edwards explained something about how flip flops are kinda of built internally with two latches with one enable driven by an inverted clock signal so both latches are never "open/passing data" at the same time. Somehow I've forgotten all the correct details and am super fuzzy on what I'm trying to say here.

{Attachments}
general_media/image-C538E.png
general_media/image-412E2.png


[05/16/2025 01:19] mithro_
Ahh ha

{Attachments}
general_media/7a022f70-9594-4233-8ff0-a80683b59b9b-82087.png


[05/16/2025 07:44] 246tnt
Yes, if you construct the FFs "manually" using 2 latches, then using two non-overlapping clocks you can make things safer ... assuming you generate those two non overlapping clocks correcly.


[05/16/2025 08:00] mattvenn
I'm missing how this relates to an mpw service, can someone explain?


[05/16/2025 09:30] 246tnt
ðŸ¤·


[05/16/2025 11:55] mattvenn
ðŸ˜…


[05/17/2025 17:51] mithro_
@Matt Venn - The discussion started at "Figuring out what the limits are has been interesting"

{Reactions}
ðŸ‘

[05/17/2025 17:54] mithro_
@Matt Venn - All comes back to trying to make sure that I can run the MPW even if not fully full.

{Reactions}
ðŸ‘

[05/20/2025 16:30] carlfk
what does "not full" mean?


[05/20/2025 16:30] mattvenn
as in if only 50% of the project slots are sold


[05/20/2025 16:32] carlfk
other than money, what would prevent doing a run?


[05/20/2025 16:33] carlfk
does more mask detail cost more?


[05/20/2025 16:35] carlfk
I would expect blank slots could be filled in with something, like lets make a bunch of similar tests to see how well they line up with simulations


[05/20/2025 16:38] mattvenn
If it were me, just the money. How long can I go before I'm broke


[05/20/2025 16:39] mattvenn
And yes blank slots can be filled, but high quality projects are rare and take a lot of work


[05/20/2025 16:42] carlfk
k - that all fits with what I figured.


[05/20/2025 16:42] carlfk
sounds like we should have a bunch of filler projects so the space doesn't go to waste


[05/20/2025 20:56] algofoogle
Totallyâ€¦ get cracking! https://discord.com/channels/1361349522684510449/1361349523724570941/1371324214178611271


[05/26/2025 02:35] mithro_
That is what https://docs.google.com/document/d/1kyo9Qcsu0RMXwUS2woMCOvf14YvA0IqpgDkZmIRFZpc/edit?tab=t.0 is all about

{Embed}
https://docs.google.com/document/d/1kyo9Qcsu0RMXwUS2woMCOvf14YvA0IqpgDkZmIRFZpc/edit?tab=t.0
wafer.space GF180MCU Projects
wafer.space GF180MCU Projects      Single Usage Tiles    Programmable Tiles    One Time Programmable
general_media/AHkbwyLSQFHCS919akN0IpqXAAh_tM5wJFTcoUhOPY-90B47


[05/26/2025 15:37] carlfk
how about:  power rail popper.  a set of decreasing width traces? to see how much power they can really handle compared to what the simulator says

{Reactions}
ðŸ‘

[05/27/2025 04:09] algofoogle
I always wanted to try a project like thatâ€¦ a way to test all the things that could go wrong. DRC violations (so long as they donâ€™t violate MR), wrong voltages going to a bunch of devices, chips that could self-destruct (charge pumps?), ESD-unprotected stuffâ€¦ what else?


[05/29/2025 01:08] mithro_
@algofoogle (Anton Maurovic) - https://github.com/egorxe/gf180_efuse_compiler

{Embed}
https://github.com/egorxe/gf180_efuse_compiler
GitHub - egorxe/gf180_efuse_compiler: eFuse memory compiler for GF1...
eFuse memory compiler for GF180MCU. Contribute to egorxe/gf180_efuse_compiler development by creating an account on GitHub.
general_media/gf180_efuse_compiler-23014


[05/29/2025 01:45] algofoogle
Oh thatâ€™s interesting. Thanks Tim ðŸ™‚ I wonder how reliable the array was on GFMPW0/1. Efabless was always worried about how to produce a safe/reliable eFuse solution for Sky130. I remember fears about things either not popping, or doing so too violently (rupturing laminations or leading to shorts elsewhere)


[05/29/2025 01:46] mithro_
I'm sending an email to enquire about the status


[05/29/2025 01:46] mithro_
I don't think it ended up being taped out because the efuses require an extra mask layer or something


[05/29/2025 06:00] proppy
Looking good guys, keep up the fantastic work!


[05/29/2025 06:00] proppy
https://tenor.com/view/cat-cat-meme-funnt-cat-black-cat-sleepy-cat-gif-16409614852005252877

{Embed}
https://tenor.com/view/cat-cat-meme-funnt-cat-black-cat-sleepy-cat-gif-16409614852005252877
general_media/cat-cat-meme-BEDA4.png


[05/29/2025 21:49] mithro_
From the developer of the Efuse Compiler:
```
Here is a history of this Efuse compiler:
1. Originally the compiler was made in haste for the GFMPW-0 run. My chip with a 9 kBit Efuse block was accepted by Efabless, but unfortunately there was no full chip LVS available in Efabless tapeout flow at the time. So I've missed a critical flaw in this chip - VDD & GND stripes in Efuse blocks were not connected to top level power stripes. The only missing thing were vias connecting stripes on Metal5 to stripes on Metal4.
2. After discovering the power issue I thought there would be no hope to verify the Efuse block in this chip so when the chips arrived I tested mostly other parts of the chip. Efuse was dead as expected, but Caravel and some of my digital test structures worked flawlessly with VDD in range from 3 to 8 Volts which amazed me. GF180MCU seems to be a really robust process :).
3. For the GFMPW-1 I've submitted a chip with fixed power connections problem and introduced several small improvements in Efuse macro, but my chip was not selected for the run.
4. As missing top metal vias was the only thing standing between my curiosity and testing Efuse on GFMPW-0 chips, I thought that maybe it's possible to create vias on finished chips somehow. Some time ago I've got a contact of guys from chip testing industry from a friend, and they agreed to create a couple of vias for me.
5. After chip decap and vias creation on two of Efuse subblocks these subblocks miraculously just worked. I had no single write (one time obviously) or read error on all efuse bytes that were powered during several days I've tested this chip.
6. As I thought that accessible GF180 runs would never happen again I kinda lost the motivation in improving the compiler, but now if there is such a possibility I would like to make it useful.
```


[05/29/2025 21:49] mithro_
@digshadow


[05/29/2025 21:56] mithro_
@digshadow - Should I ask the guy to send us some spare parts for you to look at / play with? 

(BTW Feel to respond to this next week after your conference.)

{Reactions}
ðŸ‘

[05/29/2025 22:22] digshadow
Yes, I don't really want to think about this right now, but in general I'm up for a lab day next week if you want to image some things


[05/30/2025 00:45] algofoogle
Very cool ðŸ™‚ thanks for following up


[05/31/2025 02:09] mithro_
I started documenting my understanding around the GF's 180nm process technologies @ https://bit.ly/ws-gf180

{Embed}
https://bit.ly/ws-gf180
GlobalFoundries 180nm Technologies (GF180MCU, GF180ULL, GF180BCD, G...
GlobalFoundries 180nm Technologies bit.ly/ws-gf180  GlobalFoundries offers a wide range of different 180nm based technologies. These 180nm technologies are very configurable and offer; Multiple options in the number of metal layers. Different thickness for the top metal layer. A large number of "...
general_media/AHkbwyI50vAck6KoFlJnZO4jWyoaARcGy0BCrcZQ4i-0A279


[06/01/2025 18:56] nnod
ðŸ‘‹

{Reactions}
ðŸ‘‹ (2)

[06/01/2025 19:56] mithro_
@Donn - What is the state of GF180MCU support in OpenLane 2?


[06/01/2025 19:59] mithro_
If you have any more comments / thoughts / resources on eFuse releated stuff, please put it into the document @ https://bit.ly/ws-gf180mcu-efuses

{Embed}
https://bit.ly/ws-gf180mcu-efuses
wafer.space - GF180MCU eFuse Information - bit.ly/ws-gf180mcu-efuses
wafer.space - GF180MCU eFuse Information https://bit.ly/ws-gf180mcu-efuses   Current Status Egorxe has created an efure compiler @ https://github.com/egorxe/gf180_efuse_compiler These efuses were taped out on the Google GFMPW-0 free shuttle. An issue with missing via's meant the design didn't wor...
general_media/AHkbwyKh-uPtDcXfD0xLDeKLspqZiJeoUuQJI1Tbfq-205A4


[06/01/2025 20:31] nnod
Right behind sky130, it's been in the CI forever


[06/01/2025 20:32] nnod
The key is OL2/LibreLane weren't really used for any GFMPW designs so that practical part is missing


[06/01/2025 20:32] mithro_
Do you know if people have used it to tape out? I don't recall how the timeline of Openlane 2 and the MPW programs ended going


[06/01/2025 20:33] nnod
I don't believe so, no.


[06/01/2025 20:33] mithro_
Okay


[06/01/2025 20:34] mithro_
@Donn - BTW volare has been moved / renamed too?


[06/01/2025 20:34] nnod
Yes - https://github.com/fossi-foundation/ciel

{Embed}
https://github.com/fossi-foundation/ciel
GitHub - fossi-foundation/ciel: Open-source PDK version manager
Open-source PDK version manager. Contribute to fossi-foundation/ciel development by creating an account on GitHub.
general_media/ciel-6FA9F


[06/01/2025 20:37] mithro_
@Donn - Thanks! Also thanks for all your work on these things.

{Reactions}
ðŸ’¯

[06/01/2025 22:11] algofoogle
Cheers Tim. Thereâ€™s a typo in that URL BTW: â€œwfâ€ should be â€œwsâ€


[06/01/2025 22:12] mithro_
Fixed I think...


[06/11/2025 19:33] mithro_
I have wafer.space business cards! The ones on the right have silver foil look on the logo, while the ones on the right are slightly embossed / raised.

{Attachments}
general_media/AP1GczPFxSCd9BPckmg6cSsHIpTDO8L0dagWkAoQWa-FEE71.png


[06/12/2025 20:28] mithro_
Anyone know much about https://ishi-kai.org/openmpw/shuttle/ptc06/2025/05/24/shuttle_ISHI-Kai_OpenMPW-PTC06-2_start.html ?

{Embed}
https://ishi-kai.org/openmpw/shuttle/ptc06/2025/05/24/shuttle_ISHI-Kai_OpenMPW-PTC06-2_start.html
ISHIä¼šç‰ˆOpenMPW PTC06-2é–‹å§‹ï¼ï¼ï¼ï½ž2025å¹´PTC06ï¼ˆãƒ•ã‚§ãƒ‹...
ISHIä¼šç‰ˆOpenMPW PTC06-2é–‹å§‹ï¼ï¼ï¼ï½ž2025å¹´PTC06ï¼ˆãƒ•ã‚§ãƒ‹ãƒ†ãƒƒã‚¯ã‚·ãƒ£ãƒˆãƒ«ï¼‰ã®ç›¸ä¹—ã‚Šå‹Ÿé›†ï½ž åŽ»å¹´ã®ISHIä¼šç‰ˆOpenMPW PTC06-1ã«ç¶šã„ã¦ã€ä»Šå¹´ã¯ã‚µãƒ³ã‚±ãƒ³é›»æ°—æ ªå¼ä¼šç¤¾æ§˜ãŒã‚¹ãƒãƒ³ã‚µãƒ¼ã¨ã—ã¦ä»˜ãå½¢ã§ãƒ•ã‚§ãƒ‹ãƒ†ãƒƒã‚¯ã‚·ãƒ£ãƒˆãƒ«ã®ç›¸ä¹—ã‚Šå‹Ÿé›†ã‚’ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸï¼ ã™ãªã‚ã¡ã€å°...


[06/17/2025 21:06] mithro_
This is super cool -> https://www.youtube.com/watch?v=RFPe4FT126M

{Embed}
Zero To ASIC Course
https://www.youtube.com/watch?v=RFPe4FT126M
180 GHz chip design with open source tools - an interview with Shaf...
Follow Shafin on Linkedin: https://www.linkedin.com/feed/update/urn:li:activity:7336358749382549504/
Design repo: https://github.com/shafinhossain/TO_May2025
OpenEMS script: https://github.com/VolkerMuehlhaus/openems_ihp_sg13g2

00:00 Intro 
00:41 Shafin intro 
02:33 Ironman Inspiration 
04:11 G band power amplifier on IHP 130 BiCMOS 
15:37 Desi...
general_media/maxresdefault-2FBCF.jpg


[06/19/2025 09:26] tholin
Hi! I joined recently and I just realized I should maybe introduce myself for those that donâ€™t know me yet. Iâ€™m here because I have a lot of experience with GF180MCU from my three submissions to GFMPW shuttles (one of which was a multi-project die), and a lot of tapeout experience overall.
I want to help however I can, considering how much time Iâ€™ve spent working with gf180. And am also just excited to get to make chips again using this PDK.

{Reactions}
ðŸ‘‹ (2) ðŸŽ‰

[06/19/2025 12:54] tholin
I may actually be interested in making a custom standard cell library for gf180, just as I have for sky130. I took a look at the 7 track cells in magic, and I see room for improvement, I think.


[06/25/2025 10:48] tholin
After a little bit of fighting with gf180mcuâ€™s oddities, I was able to extract, simulate and characterize one of the 7-track standard cells with magic, SPICE and lctime. So it looks like my usual workflow can work here.
Well, ignoring the fact that the output values of my characterization are up to 50% off from whats in the PDKâ€™s liberty files. Still investigating this.

{Reactions}
ðŸ‘

[07/02/2025 23:54] tholin
I've begun work on a SCL for gf180mcu using 3.3V transistors


[07/02/2025 23:56] tholin
I created an inv_2 cell and characterized it using the exact same parameters for input slew and output load as I did for the inv_2 cell in my sky130 SCL and got promising results.


[07/02/2025 23:56] tholin
3.3V gf180 is at least as fast as sky130_fd_sc_hd

{Reactions}
ðŸ‘€

[07/02/2025 23:56] tholin
But most likely faster


[07/02/2025 23:57] tholin
It trades punches with my sky130_as_sc_hs SCL, which outperforms fd_sc_hd by a wide margin.


[07/03/2025 16:27] tholin
I have all the cells that I need for yosys and OpenLane to do their things, except a D-Flip-Flop. That one is gonna take a bit. I always struggle with them a bit.

{Attachments}
general_media/image-D2C91.png

{Reactions}
blobclap (4)

[07/04/2025 17:41] mithro_
@Tholin - Awesome work!


[07/04/2025 19:14] tholin
DFF done. About to test it all in a flow for the first time. And then its time for an initial commit to GitHub.

{Reactions}
ðŸ‘

[07/04/2025 19:55] tholin


{Attachments}
general_media/image-62331.png


[07/04/2025 19:55] tholin
Gimme a minute for the commit


[07/04/2025 22:14] tholin
Apologies for the delay. I encountered some DRC errors, but I canâ€™t test my changes because OpenLane continues to use the previous version of the cell layout files. I donâ€™t know where its getting those from, they are long overwritten. Sadly, I donâ€™t remember what I did to fix this issue the last time I had it.


[07/05/2025 15:40] tholin
https://github.com/AvalonSemiconductors/gf180mcu_as_sc_mcu7t3v3

{Embed}
https://github.com/AvalonSemiconductors/gf180mcu_as_sc_mcu7t3v3
GitHub - AvalonSemiconductors/gf180mcu_as_sc_mcu7t3v3: Custom Stand...
Custom Standard Cell Library for GF180MCU process node on open PDK. - AvalonSemiconductors/gf180mcu_as_sc_mcu7t3v3
general_media/gf180mcu_as_sc_mcu7t3v3-101A7


[07/05/2025 15:41] tholin
And with that, the hardest parts are actually already behind me. The project is now in the "smooth sailing" phase where I can just add more combinatorial logic cells in whatever order I like.

{Reactions}
ðŸ‘ ðŸŽ‰ (3)

[07/05/2025 15:42] tholin
And since I've done this before, I can copy my own work from sky130_as_sc_hs

{Reactions}
ðŸ‘

[07/08/2025 10:45] tholin
Progress on the SCL has been halted for two days now because I added a mux2 cell and even though nothing appears bad in the liberty file, the GL tests fail unless I disable this cell. Yosys is simply synthesizing bad logic when the mux2 is defined. If anyone has any leads on this, please reach out.


[07/08/2025 10:47] mattvenn
you could try asking here: https://yosyshq.discourse.group/

{Embed}
https://yosyshq.discourse.group/
YosysHQ
A place to discuss YosysHQ software and tools
general_media/discourse-logo-sketch-small-1B62A.png


[07/15/2025 18:45] tholin
Here, ya'll might get a kick out of this.  The AS2650v2 is a custom MCU/CPU I taped out for GFMPW-1 and on one of the test boards for it, I created this demo. I actually did this almost a year ago, I only just bothered to record it.
https://www.youtube.com/watch?v=8YNhw6dvOw4

{Embed}
Tholin
https://www.youtube.com/watch?v=8YNhw6dvOw4
AS2650v2 Bad Apple Demo
https://avalonsemiconductors.github.io/AS2650/
general_media/maxresdefault-52BDC.jpg

{Reactions}
ðŸ’¯ (2) ðŸ¦„ (2)

[07/15/2025 18:47] tholin
Audio also generated by the AS2650v2, but recorded directly from the DAC output. That piezzo is...not good.


[07/25/2025 17:10] _mwelling_
@Tim 'mithro' Ansell nice seeing you at open sauce... Hopefully I can find a way to contribute to the first wafer.space shuttle.

{Reactions}
ðŸ‘

[07/26/2025 16:59] tholin
SCL update: ran a flow on a custom RV32IM core with a tweaked config to optimize for delay to see how far I can push it speed-wise and ended with an fmax=105MHz, while retaining the same density as the 7-track 5V cells. If I let the fmax drop and optimize for area, on the other hand, my SCL has a noticably higher density than the 7-track 5V cells.
And this is all before I added most of the aoi combo cells I planned, so this is likely to improve even more as I keep working. I also have to add that this is not a good RISC-V core I'm compiling here. Its something I threw together in a few hours. Architectural improvements could easily throw this past the 150MHz mark right now.

{Reactions}
ðŸ’¯

[07/26/2025 17:01] tholin
Another note is that I am testing my SCL against RTL from one of my GFMPW-1 submissions, which means it uses caravel_user_project and OpenLane 1. I don't know what the recommended setup for wafer.space will be, but I assume LibreLane and an OpenFrame-equivalent?
I'll still need to test my SCL against LibreLane and see if that also yields performance improvements.


[07/26/2025 17:09] tholin
In other news, I've also started collecting ideas on things I can put onto my submission for the first shuttle. I am planning to again do a multi-project die. The ideas list is quite long by now. I will soon pick out a handful of them and start writing up requirements documents so I can start implementation work the moment the deadline becomes known. I can share a bit of this list if anyone else still needs inspiration.

{Reactions}
ðŸ‘ (2)

[07/27/2025 07:30] mole99
I would expect LibreLane to be used for wafer.space submissions. That's where future development takes place, and it already has quite some nice features (and bug fixes) compared to OpenLane 2 (not to mention OL1). Ultimately it depends on the users how they create their layout, but IMO LibreLane should be the recommended path.

There is of course the existing pad frame from the GFMPW shuttles at Efabless, which is going to be used for the first wafer.space shuttle run.

I'm working on an OpenROAD.PadRing step for IHP, which should work for GF as well, since the IO pads are really not that complicated (compared to e.g. sky130...).
This would make it possible for each submission to wafer.space to have a different die area, which would of course require a more sophisticated reticle stitching. I would assume there to be one or two standard sizes to enable cost-effective packaging of the dies (if needed).


[07/27/2025 12:59] tholin
When you say using the existing pad frame from GFMPW, does that mean caravel including the management controller? I have my own (not so good) opinions about caravel, but I don't think I'll be able to test my 3.3V SCL effectively without changes to the IO pads, which I already volunteered to look into sometime soon.


[07/27/2025 13:22] tholin
TL;DR the existing IO pads are really slow at 3.3V, so pads specifically geared for 3.3V IO voltage (I assume using the low-voltage FET devices instead) is something that is desperately needed.


[07/27/2025 13:28] mole99
No, just the pad frame without Caravel. That should work for most submissions. However, if you want to create your own pad frame, feel free to do so. What matters is that the die size stays the same, as that will make the reticle stitching easy.


[07/27/2025 13:32] mattvenn
and probably use the same position for the wirebond, otherwise you'll have a much higher NRE for doing packaging


[07/27/2025 13:39] mole99
Yes, although I think Tim wants to try CoB where such changes could be more easily accommodated?


[07/27/2025 13:43] 246tnt
I really don't understand how programming a CoB machine is cheaper than programming a wire bonder for QFN ... the packaging made by swissbit is literally doing CoB since they use a PCB as the substrate , so if you find someone that does CoB cheap, why can't they do the same thing as swissbit ?


[07/27/2025 13:51] tholin
I thought wafer.space won't do packaging? Raw dies only?


[07/27/2025 13:51] tholin
I was already looking into options for getting dies packaged on my own.


[07/27/2025 13:52] tholin
Anyways, yeah, that sounds good. So its basically OpenFrame, but for gf180.


[07/27/2025 13:52] tholin
Hmmmm


[07/27/2025 13:53] tholin
Yeah, if I make custom IO pads, I can arrange them in the same pattern as is required.


[07/27/2025 13:54] mole99
I was thinking more along the lines of doing a few pieces with a manual wire bonder, like you guys did with TT-CoB. That should be enough to verify Tholin's standard cells. Anyway, Tim will have to tell you what he actually has planned for the packaging.


[07/27/2025 13:55] mole99
Yeah, kind of OpenFrame but you can change the IO pads.


[07/27/2025 13:58] tholin
I still gotta understand how the current IO pads work. I took a look at the files in the PDK, but they're very complicated. So I think I'll have to make it a weekend project just to read into the topic.


[07/27/2025 14:04] tholin
Are there any additional files for these sitting in a repo somewhere that are not part of the PDK download? xschem schematic files would be incredibly helpful.


[07/27/2025 14:04] mole99
Let us know your progress, I'm interested in that too ðŸ˜€ 
But you're in luck, compared to sky130, the IO pads in gf180mcu seem to be pretty straightforward.


[07/27/2025 14:05] mole99
I don't think that schematics exist, same as on sky130. Mitch even created the schematics for some of the IOs in sky130.


[07/27/2025 14:07] mole99
You have some functional schematics in the docs: https://gf180mcu-pdk.readthedocs.io/en/latest/IPs/IO/gf180mcu_fd_io/tri_state_1.html


[07/27/2025 14:11] mole99
Here is the repository for Mitch's gpiov2 cell on sky130 as a reference: https://github.com/d-m-bailey/sky130_fd_io


[07/27/2025 14:15] tholin
One of the cells in the PDK is marked "gf180mcu_**ef**_io__bi_t". An efabless engineer created it?


[07/27/2025 14:15] 246tnt
Yeah, it just exports the `ana` signal they needed for caravel for analog stuff mixed with a digital io ...


[07/27/2025 14:16] 246tnt
(which is not something that exists in the default io cell)


[07/27/2025 15:04] tholin
Ah. Well, that sucks.


[07/27/2025 15:05] tholin
But yeah, the functional schematic does look like the simplest possible bi-directional buffer one can build.


[07/27/2025 15:06] tholin
The only concern I have is that activating PU and PD at the same time appears to generate a short circuit.


[07/27/2025 15:10] tholin
Actually, it appears to have some additional complexity in the form of the slew rate and drive strength control lines on the output buffer and the Schmitt Trigger enable on the input buffer. Wondering if we really need those for most use cases. Definitely a nice-to-have, but not something I can imagine ever needing myself.


[07/27/2025 15:25] tholin
Going to build this for now. Nothing fancy. I'll see about experimenting with more advanced features once I get the hang of things.

{Attachments}
general_media/image-CCBC8.png

{Reactions}
ðŸ‘

[07/27/2025 16:19] mole99
Just asking because I don't know any better: Is it not possible to just replace the HV transistor with LV transistors directly in the layout of the IO pads?


[07/27/2025 16:40] tholin
Technically yes, but the LV transistors obviously have different characteristics than the HV transistors, which concerns me.


[07/27/2025 16:40] tholin
I know that there is liberty files with characterizations of the IO pads, which I also need to figure out how to generate.


[07/27/2025 17:39] tholin
Iâ€™ve begun reverse-engineering the existing IO pads. Going to record the information in a google doc soon.


[07/27/2025 17:52] 246tnt
GF180's 5V IO compatibility is one of the thing making that process interesting. So making IO pads that perform properly at 3.3V while maintaining is what's really needed, along with proper separation of IO and core voltages.


[07/27/2025 18:00] tholin
The output drivers on the IO pads actually use the even higher voltage 6V FETs


[07/27/2025 18:00] tholin
Which explains why they perform ultra poorly at 3.3V


[07/27/2025 18:05] tholin
But makes sense. Gives the chips some upwards margin when operating at 5V.


[07/27/2025 19:06] mole99
From what I've heard those aren't different devices, but just a different model for a specific W/L. But yeah, they could probably be downsized then.


[07/28/2025 23:06] tholin
I present to you: a complete reverse engineering of gf180mcu_fd_io__bi_24t

{Attachments}
general_media/image-0579E.png


[07/28/2025 23:07] tholin
This is a purely "functional" schematic. I did not yet record specific device properties like FET width and length.


[07/28/2025 23:07] tholin
Turning this into xschem files is next.


[07/28/2025 23:07] tholin
Top is the input path, bottom is the output path.


[07/28/2025 23:08] tholin
I think there is still a few things I got wrong, but Iâ€™ll tweak them tomorrow.


[07/28/2025 23:09] tholin
For my purposes, I technically donâ€™t need to go and make accurate xschem files, but I feel like others will find the information useful.


[07/28/2025 23:09] tholin
A couple insights


[07/28/2025 23:10] tholin
The concept of having separate IO and core voltages actually seems represented in these cells. There is two power rails, "VDD/VSS" and "DVDD/DVSS" and a majority of the transistor count here is actually just extensive buffering to translate between the two power domains.


[07/28/2025 23:11] tholin
There is also significant amounts of protection diodes on internal signals, which makes no sense to me unless said signals cross power domains.


[07/28/2025 23:14] tholin
Iâ€™ve just spent all day staring at Klayout dissecting layouts, so logging off for today.


[07/29/2025 05:07] mole99
Nice work!


[07/29/2025 05:09] mole99
Yes, the IO cells were designed for separate power domains. However we only got the 5V standard cell library open sourced. Thus the power domains were tied together afaik.


[07/29/2025 07:32] tholin
They do not appear to be tied together inside the actual IO cell layout, so if they are, its somewhere else on the chip.


[07/29/2025 07:33] tholin
In either case, it doesnâ€™t look difficult to untangle the power domains.


[07/29/2025 07:35] tholin
However, the 6V transistors used in the output buffer are really terrible at switching 3.3V onto the pad, which weâ€™ve practically observed as well. But we know that the 5V FETs are snappy enough for logic circuits, even when powered at 3.3V. So, really, the only thing in the IO cell that needs modification is the final pad drivers.


[07/29/2025 07:36] tholin
And in particular, youâ€™re looking for something that can do 5V just as well as 3.3V. I have an idea, but let me run some simulations first.


[07/29/2025 08:18] 246tnt
They are tied together by the actual `dvdd` / `dvss` pad cells.


[07/29/2025 08:19] 246tnt
But the tracks inside the IO cells that carry `vdd` / `vss` look pretty weak to me. Only ~ 13.5u total width.


[07/29/2025 12:49] tholin
Makes sense. vdd/vss is the core voltage and just used to power some buffers. dvdd/dvss is the IO voltage.


[07/29/2025 12:52] 246tnt
In the other techs you still have decently beefy rails for it since the ring in the IO is used to also feed power to the core. Those rings being wimpy here means the added rings in the core will need to be beefier since they'll have to do the whole job.


[07/29/2025 15:54] tholin
Okay, done

{Attachments}
general_media/image-00EC8.png


[07/29/2025 15:59] tholin
https://github.com/89Mods/gf180mcu_io_re/tree/main

{Embed}
https://github.com/89Mods/gf180mcu_io_re/tree/main
GitHub - 89Mods/gf180mcu_io_re: Reverse-engineered schematics of gf...
Reverse-engineered schematics of gf180MCU IO pad cells. - 89Mods/gf180mcu_io_re
general_media/gf180mcu_io_re-303EC


[07/29/2025 16:07] 246tnt
Did you test if it pass LVS against the extraction ?


[07/29/2025 16:07] tholin
Nope


[07/29/2025 16:08] tholin
I would not know how to do that.


[07/29/2025 20:33] tholin
Okay, so, I had the idea of making an IO pad driver that uses transmission gates to re-wire itself and switch between using high-voltage or low-voltage transistors based on the chip's supply voltage. I threw something together in xschem and simulation looks good on that idea.


[07/29/2025 20:47] 246tnt
huh ?  I have trouble seeing how that would work. Adding a transmission gate in series would surely be worse than using the 5V transistor at 3v3 ...


[07/29/2025 20:56] tholin
Not like that


[07/29/2025 20:56] tholin
Its easier I just show


[07/29/2025 20:56] tholin


{Attachments}
general_media/image-8AD12.png


[07/29/2025 20:56] tholin
This is simplified. Theoretically, XM5, XM7, XM11 and XM15 could be entire banks of FETs in parallel, just how it is on the actual IO pads.


[07/29/2025 20:57] tholin
The transmission gates decide which tansistors get the buffer input signal on their gate, and which are disabled.


[07/29/2025 20:57] tholin
For disabled transistors, it is ensured that the potential difference between their gate and body is 0V.


[07/29/2025 20:58] 246tnt
But you're exposing the 3v3 transistor drain-source to > 3.3V which they are also not rated for.


[07/29/2025 20:58] tholin
From what little specs we have on these FETs, this *should* work.


[07/29/2025 20:59] tholin
Where does it say that?


[07/29/2025 20:59] tholin
I am looking at https://gf180mcu-pdk.readthedocs.io/en/latest/analog/spice/elec_specs/elec_specs_1.html


[07/29/2025 21:00] 246tnt
Actually you're exposing the gate to 5V. The transistor are symmetrical, no difference between D and S  so when you have the gate at 0V and the "drain" at 5V, you have a 5V potential difference between the gate and drain.


[07/29/2025 21:02] tholin
Hmm


[07/29/2025 21:02] tholin
Do we really have some concrete numbers on what the FETs are able to tolerate?


[07/29/2025 21:03] tholin
The closest thing I can see in the docs is `5 Punch-Through Voltage`, which is higher than a 5V difference even for low-voltage FETs.


[07/29/2025 21:05] 246tnt
No, not really.


[07/29/2025 21:06] 246tnt
Maybe @Tim 'mithro' Ansell has access to some SOA.


[07/29/2025 21:06] 246tnt
There is https://gf180mcu-pdk.readthedocs.io/en/latest/analog/spice/elec_specs/elec_specs_5_4.html


[07/29/2025 21:06] tholin
I can also just tape it out. Not as a proper IO cell, just that test circuit somewhere on the die. See what happens.


[07/29/2025 21:07] 246tnt
But by that spec you might as well just use the 3v3 transistor at 5V all the time ðŸ˜…


[07/29/2025 21:07] tholin
I mean....we can try.


[07/29/2025 21:08] tholin
My plan for the first shuttle here is it to tape out a 3.3V chip using my SCL and custom IO pads for 3.3V operation.


[07/29/2025 21:08] tholin
I can sacrifice a few to 5V experiments.


[07/29/2025 21:09] 246tnt
There is also https://gf180mcu-pdk.readthedocs.io/en/latest/analog/spice/elec_specs/elec_specs_5_5.html


[07/29/2025 21:14] 246tnt
I don't think they'd immediately die at 5V, I think it's more accelerated degradation and might only show on some percentage of a chip after hundreds or thousands of hours ...


[07/29/2025 22:50] tholin
Okay, so, basically, we don't know exactly what'd happen.


[07/29/2025 23:14] mithro_
I'm sure someone might but I wouldn't trust their answers until it was verified with a real tape out.


[07/31/2025 16:15] tholin
It would be good to have those estimates anyways. But yeah, I can absolutely tape out some test structures.


[07/31/2025 16:25] tholin
So, this is kindof an important question for what I wish to do: if customizing the types of IO pads in the pad ring is on the table for wafer.space, does that mean we get access to analog IO (which was frustratingly not a thing on GFMPWs)?


[08/01/2025 11:11] tholin
I know there was someone who was yearning for a transmission gate in the 5V 7-track SCL. Well, I made it in both _1 and _2 variants. Iâ€™m not sure how to characterize these, though. lctime canâ€™t do it.

{Attachments}
general_media/image-754CB.png
general_media/image-1BB3A.png

{Reactions}
ðŸ‘ (2)

[08/01/2025 11:13] tholin
I can characterize the delays from A -> Y when the EN = 1, ENB = 0. But I cannot characterize the turn on/off delays when switching the enables. So theyâ€™re treated like regular buffers by STA.


[08/01/2025 11:14] tholin
I can also make a version with the inverter to generate ENB built-in, but I believe the idea is that multiple of these can share one inverter.


[08/01/2025 11:16] tholin
I know a multi-bit flip-flop was also a thing that people wanted, so I may do that next.


[08/01/2025 11:20] tholin
I know a 8-to-1 mux was also on the list of desired standard cells. But that one is gonna take some doing. Thatâ€™s a lot of logic.


[08/07/2025 14:36] tholin
Do we know what actually happens when a 3.3V FET is pushed into punch-through?


[08/07/2025 14:36] tholin
What kinda currents are to be expected?


[08/07/2025 14:36] tholin
Unfortunately, its not included in the SPICE models.


[08/10/2025 11:12] mole99
I don't think so, at least not on GF180MCU.
I assume that this is often not modeled since you are outside the safe operating range.


[08/10/2025 11:13] mole99
By the way, here are a some nice I/O cell symbols for IHP as inspiration: https://github.com/IHP-GmbH/IHP-Open-PDK/pull/630


[08/10/2025 11:24] tholin
I also see we don't have a IO pad cell that can switch between analog and digital IO. I wonder how difficult that would be to do.


[08/10/2025 11:25] tholin
The naive approach I feel like taking is it to take the existing digital bi-directional IO cell and cramming a transmission gate in there somewhere to switch an analog signal.


[08/10/2025 11:26] tholin
The digital output can already be fully disabled, of course.


[08/10/2025 11:26] tholin
If that is not the stupidest idea ever, though, I think I can pull that off quite easily.


[08/10/2025 11:54] 246tnt
But ... why ?


[08/10/2025 11:55] tholin
Didn't sky130 have such cells?


[08/10/2025 11:55] tholin
I mean, sky130 caravel


[08/10/2025 11:56] tholin
I remember that being a thing in the IO configuration options in mgmt controller firmware, at least. And option for analog.


[08/10/2025 11:56] 246tnt
It did, but AFAIK no-one was using them and caravel didn't either.


[08/10/2025 11:56] tholin
It would be useful for multi-project dies


[08/10/2025 11:56] 246tnt
The option for in the mgm controller was just disabling the output buffer and input buffer.


[08/10/2025 11:57] 246tnt
The transmissions gates and analog muxing and all the analog stuff of the IO cell was never used. Instead carvel just wired directly to the pad through a resistor, no switching.


[08/10/2025 11:57] tholin
I kindof need such a cell for my own purposes, at least.


[08/10/2025 11:58] 246tnt
And that's what they did in GF too, hence the `ef` IO pad where they just added an analog connection.


[08/10/2025 11:58] tholin
Oh


[08/10/2025 11:58] tholin
Oh so that's what's different about the ef cell


[08/10/2025 11:58] 246tnt
yes


[08/10/2025 12:00] tholin
Just a resistor doesn't seem like the best approach to me, tbh


[08/10/2025 12:00] tholin
Since that does limit current


[08/10/2025 12:00] 246tnt
The resistor is just meant as ESD protection.


[08/10/2025 12:03] tholin
I mean, I'm also worried that if the pin is used for digital IO too, the digital voltages might backflow into the analog circuitry and cause damage, especially if that pin's dual purpose is analog output.


[08/10/2025 12:04] 246tnt
Well it all depends on what's wired to the analog pin of course. There is no "one-size-fit-all". Because a pass gate is a non-linear resistor which is also not a perfect solution.  And depending on its size it will also be a current limit ... or an added capacitance depending on where you lie on its size ...


[08/10/2025 12:05] tholin
Right


[08/10/2025 12:06] tholin
I'll have to evaluate that on a case-by-case basis


[08/10/2025 12:07] tholin
Of course, I do hope I'll be able to customize the pad frame and swap out the actual IO pad structures for my own so that I may do that.


[08/10/2025 12:15] tholin
Speaking of the mgmt controller, though: will wafer.space customers have the option of using the RISC-V management controller wrapper on their dies? If so, I have to report a really nasty bug in that thing's caches that I found that caused me a lot of grief and that should definitely be fixed.


[08/10/2025 12:20] 246tnt
The home page specifically states "... not requiring the usage of a specific pad frame or Caravel."


[08/10/2025 12:31] tholin
Well, "not requiring" still does not exclude the possibility of it being an option.


[08/10/2025 12:34] tholin
But basically, user area wishbone writes corrupt the latest data cache entry. So if you set a variable before doing that wishbone write, the variable write has now been undone until the cache is flushed.


[08/10/2025 12:34] tholin
Or...something like that. Its weird and hard to debug. I just have a way of reproducing it sitting in one of my repos somewhere.


[08/10/2025 12:53] mole99
It would be great if you could file an issue here: https://github.com/fossi-foundation/caravel_mgmt_soc-gf180mcu


[08/10/2025 12:58] tholin
I will! I didn't know there was new repos for this stuff.


[08/10/2025 12:58] tholin
I kinda thought I'd never get to report that bug when efabless went under.


[08/10/2025 13:25] mole99
Thanks! Yes, the repos under the FOSSi Foundation should be considered the authoritative source.


[08/21/2025 16:45] mithro_
@mole99 / @tnt / @Tholin / @psychogenic - Probably a good idea to have the discussion about the padring and chip-on-board stuff here?


[08/21/2025 16:46] mithro_
@Tholin - It appears that Tiny Tapeout finally convinced @Tim Edwards to join Discord so I invited him here too.


[08/21/2025 16:46] rtimothyedwards_19428
Yeah, I'm here.  : )

{Reactions}
ðŸ‘‹ (2)

[08/21/2025 16:52] 246tnt
Well, what I'd like is that for TT users, whatever they receive, they should have the option to use it on a custom board without having a gigantic connector and huge associated parasitics. ATM with a QFN it's easy enough to unsolder it to re-use it and we also sell kits where the QFN is not soldered and thus can be easily used on custom projects.

QFN also make testing before full assembly easier because it's easy for me to do one and validate things. For the last 2 (or3?) TT boards, there was something that went wrong and required fixing before final assembly of the whole batch.

Bare-dies and wire bonding make all of that not trivial ...


[08/21/2025 16:54] 246tnt
The only 2 ideas I had were :
* Use a tiny board-to-connector like they use on cell phones and stuff, something small and hopefull not too expensive but still doesn't have huge parasitics
* Make our "homebrew" QFN basically wirebonding the chip to a tiny ( like 15mm x 15mm ) thin PCB that exposes pads on the bottom and can be reflowed on the final PCB.


[08/21/2025 16:55] mithro_
I updated a few details on chip on board thoughts @ https://docs.google.com/document/d/1ts9o1qC_U_-j65IQ7aDVNUoQ0aruVR_bUW2TsVUjdYo/edit?tab=t.0

{Embed}
https://docs.google.com/document/d/1ts9o1qC_U_-j65IQ7aDVNUoQ0aruVR_bUW2TsVUjdYo/edit?tab=t.0
wafer.space - GF180MCU Chip-on-Board (COB) Packaging
Goal As wafer.space provides bare die -- the goal is to provide a number of existing pad rings for people which have associated PCBs already designed (with a known cost) and manufacturer pathway (which also has a known cost).  As the PCB needs to be designed for a specific pad ring -- design of ...
general_media/AHkbwyL11tj3cvfD7UzevwkoORdeaJ9W8HGrPU1S7w-7E59E


[08/21/2025 16:59] 246tnt
As far as the pad ring, the only thing I would specify is the number and position of pads _if_ you plan to offer more than bare die but also some form of "packaging" service.  What the actual pins are doesn't really matter ...  With the possible exception of marking some of the sites as being "GND" so you can bond them to a gnd pad or to the substrate via conducive epoxy or such.


[08/21/2025 17:01] mithro_
I'm working on partnering with PCB Way, Seeed and JLCPCB (talking to people at each of these companies) so they can do the packaging.


[08/21/2025 17:01] mithro_
I've also been meaning to chase up @stuart about what his partner can / can't do.


[08/21/2025 17:02] mithro_
I wrote in the document;
> As wafer.space provides bare die -- the goal is to provide a number of existing pad rings for people which have associated PCBs already designed (with a known cost) and manufacturer pathway (which also has a known cost).


[08/21/2025 17:06] mithro_
I created the #cob channel for the chip-on-board discussion.


[08/21/2025 17:08] tholin
Padrings is also another interesting topic, I'd say.


[08/21/2025 17:09] mithro_
I've see cob and padring stuff connected?


[08/21/2025 17:15] tholin
Alright


[08/21/2025 17:23] mithro_
People might find https://bit.ly/ws-tiny-riscv-proof interesting too.

{Embed}
https://bit.ly/ws-tiny-riscv-proof
wafer.space - GF180MCU Bit Serial RISC-V Implementation - bit.ly/ws...
GF180MCU Bit Serial RISC-V Implementation https://bit.ly/ws-tiny-riscv-proof  Goal The primary goal of this project is to show a potential pathway to creating â€œcustom RISC-Vâ€ chips with wafer.spaceâ€™s low volume manufacturing & chip on board packaging that are within the realm of being cost compet...
general_media/AHkbwyLB4cIdHr5BaevGBccwKPL1xmYlo7H4OScvtA-F2458

{Reactions}
ðŸ‘

[08/21/2025 17:31] 246tnt
Not really sure why you want to go bit serial ... the size of the SRAM is going to be way bigger than the rest of the logic I think.


[08/21/2025 17:31] 246tnt
Also if you have the full die for it, then space is really not much of a constraint.


[08/21/2025 17:31] urish
unless you want a 64-core MCU ðŸ˜‰


[08/21/2025 17:44] mithro_
@tnt - The idea is to sub-divide the die into even smaller die to get cost down even further


[08/21/2025 17:45] mithro_
IE Try to prove you could do a sub-$1 type thing.


[08/21/2025 17:46] 246tnt
So you're going to have different die sizes ?


[08/21/2025 17:51] saladchap
Place I know only does alu wire bonds, not gold. They can do packaging too but not asked for details, do we have any kind of spec or requirements data I can share with them?


[08/21/2025 17:52] mithro_
@digshadow Was looking at dicing the bare die even further with lasers and similar


[08/21/2025 19:38] digshadow
yeah and I would go so far to say I'll probably laser dice the "garage semiconductor" test chips at some point


[08/21/2025 20:02] mithro_
Started a thread.


[08/21/2025 20:03] mithro_
I'm clueless enough to not know why alu matters verse gold?


[08/22/2025 06:27] mole99
So do we ditch Caravel and its padframe? As @Tim Edwards mentioned in FOSSi Chat, it's excruciatingly slower than the earlier picorv32 implementation (about 100 times slower), and as @Tholin discovered, there's a major bug in it (https://github.com/fossi-foundation/caravel_mgmt_soc-gf180mcu/issues/1).

If @tnt uses the same script to create the I/O cell positions as for Tiny Tapeout on IHP, this would be compatible with the LibreLane padring generation step. I can then replicate the same padring using just the config.yaml in LibreLane, and wafer.space users could easily swap out the I/O cells for other types.


[08/22/2025 06:31] 246tnt
I was definitely going to use the same script ... (or possibly just use the one merged in LibreLane if I manage to get it to do what I need).  I mean it just distributes the IO as evenly spaced as possible so that satisfies my OCD ðŸ˜…


[08/22/2025 06:56] mole99
Well, an even distribution definitely makes sense :)
We just need to think how we can improve the script when we have differently sized cells, or cells with two bondpads. But luckily, the I/O cells in gf180mcu all have the same size again.

You would need to enter the I/O cell names and the instances similar to [here](https://github.com/mole99/greyhound-ihp/blob/dd7334364b053c3a0b52e81fc34a8fffb9808f5f/config.yaml#L162). But I think in your script you automatically place the I/O cells based on the instances?
In that case, the padring step allows you to supply a custom pad.cfg, similar to the PDN step.


[08/22/2025 07:37] 246tnt
Yeah the instance name is ... randomly picked by yosys with a bunch of `generate so the best I can do is match it with regexp but definitely not provide one complete stable name. 
And yeah, I don't see why you need to set the pad type in the config. You instanciate them in the verilog right ? So that info is available in the database already and from the name you can get the type.


[08/22/2025 07:44] mole99
True, that would be a nice improvement!


[08/22/2025 07:55] tholin
I assume all this means Iâ€™d have to cook up my own setup for generating the top level GDS and all the macros using LibreLane?


[08/22/2025 07:59] mole99
What do you mean by that? From now on, you should no longer use OpenLane anyway.

There will probably be a wafer.space example design that can be used as a starting point for creating the complete chip with padring.


[08/22/2025 08:03] tholin
I did say LibreLane. Avoiding the old OpenLane is what Iâ€™m trying to do, otherwise Iâ€™d be a little more okay with using the gf180 caravel_user_project.


[08/22/2025 08:09] mole99
Yes, I thought it was clear that we are using LibreLane for everything. So I thought your question was about something else, maybe reusing macros from OpenLane - which is possible.


[08/22/2025 08:12] tholin
No, Iâ€™m worried about *not* being able to use LibreLane. Donâ€™t wanna fall back to OL.


[08/22/2025 08:13] mole99
Then it's all fine :)


[08/22/2025 09:45] mole99


{Attachments}
general_media/Bildschirmfoto_vom_2025-08-22_11-35-06-BCD4C.png


[08/22/2025 09:45] mole99
Not bad for starters


[08/22/2025 16:27] mithro_
https://ic.onidev.fr/library/gf180mcu.html


[08/22/2025 17:37] mithro_
If anyone is procrastinating, feel free to update the info @ https://bit.ly/ws-gf180mcu-stdcells ðŸ™‚

{Embed}
https://bit.ly/ws-gf180mcu-stdcells
wafer.space - Notes around voltages and options for I/O and standar...
Notes around voltages and options for I/O and standard cells bit.ly/ws-gf180mcu-stdcells  Voltages and GF180MCU See also https://bit.ly/ws-gf180  The GF180MCU process uses the same stack as the other 180nm process technologies but changes; The default oxide to be the same as the other 180nm proce...
general_media/AHkbwyIkx20_yVUaPkY6H1IWJgHkZmbxZWsYMNxTFv-53089


[08/22/2025 18:04] tholin
I added some info


[08/22/2025 18:11] mithro_
Thanks! I moved your lib closer to the top as one which is under active development.


[08/22/2025 18:27] mithro_
BTW The LibreSilicon people have a solution called popcorn which "grows" standard cells out of an inverter - https://pdk.libresilicon.com/

{Reactions}
â¤ï¸

[08/23/2025 13:52] leviathanch.
Exactly. We also already generate standard cells for SKY130, GF180 and most recently I have introduced support for IHP's SG13G2
https://gitlab.libresilicon.com/generator-tools/standard-cell-generator

{Embed}
https://gitlab.libresilicon.com/generator-tools/standard-cell-generator
Generator tools / Standard Cell Generator Â· GitLab
GitLab Community Edition
general_media/twitter_card-570ddb06edf56a2312253c5872489-FA048.jpg


[08/23/2025 13:52] leviathanch.
Skywater and IHP's cells still have some short circuits and I'd be glad if some folks could render some support with solving it


[08/23/2025 13:53] leviathanch.
In addition, I'm also currently working on a pad cell generator, which dynamically layouts pad cells from a parametric meta design based on design rules provided


[08/23/2025 13:53] leviathanch.
first however, we need to make the DRC violations and shorts go away


[08/23/2025 14:01] leviathanch.
I wrote some text on our wiki page and built a Docker container with all the tools needed for getting started, even klayout should work (still some issues with IHP tho)
https://wiki.libresilicon.com/index.php?title=StdCellLib

{Embed}
https://wiki.libresilicon.com/index.php?title=StdCellLib
Index.php


[08/23/2025 14:01] leviathanch.
I'd be very happy about support, because right now I'm basically a one man show


[08/23/2025 14:03] leviathanch.
My own 1 micron process from Hong Kong currently refuses to route, IHP and SKY130 still produce short circuits which makes CharLib fail characterizing the cells
https://gitlab.libresilicon.com/generator-tools/standard-cell-generator/-/pipelines/148

{Embed}
https://gitlab.libresilicon.com/generator-tools/standard-cell-generator/-/pipelines/148
Pipeline Â· Generator tools / Standard Cell Generator Â· GitLab
GitLab Community Edition
general_media/twitter_card-570ddb06edf56a2312253c5872489-FA048.jpg


[08/23/2025 16:17] tholin
I have a minor question. Has it become any easier to use a custom SCL in LibreLane? Doing so in OpenLane requires me to hack the PDK install, merging my SCL in and editing some config files to get it to recognize and even so I still need some hacks in the flow configuration too. I know this approach works with LibreLane too, I did it during a TinyTapeout experimental shuttle and my sky130 SCL, but I wonder if there is a better way by now.


[08/23/2025 16:17] tholin
Can I just tell LibreLane "there is a separate SCL at this path, please include it"?


[08/23/2025 16:42] 246tnt
If you couldn't with OL2, it's unlikely you can with LL.


[08/23/2025 16:42] tholin
Talking about OL1


[08/23/2025 16:43] tholin
TT did use OL2 (or LL? I forgot), but I kinda just went with my hacky approach because I was pressed for time and knew it would work, at least


[08/23/2025 16:48] 246tnt
I'm not sure.  You could try to just override all the PDK SCL relative config options in your config ...


[08/23/2025 16:49] 246tnt
All the stuff normally set in `config.tcl` and `$(SCL)/config.tcl` that you need to change, override those in your project config.


[08/23/2025 16:50] tholin
That could work. Depends on if the project config takes precedence over the PDK configs.


[08/23/2025 16:54] 246tnt
Yes, it should, I override defaults all the time.


[08/23/2025 17:38] mithro_
@Tholin - It might be worth chatting with donn on https://matrix.to/#/#librelane:fossi-chat.org

{Embed}
https://matrix.to/
Matrix - Decentralised and secure communication
You're invited to talk on Matrix. If you don't already have a client this link will help you pick one, and join the conversation. If you already have one, this link will help you join the conversation
general_media/matrix-logo-56B2E.png


[08/24/2025 23:29] tholin
Okay, Iâ€™m still not done, BUT
this has the same size as a caravel die and is pad-out compatible! Of course, without a mgmt controller, there is 5 more GPIOs.

{Attachments}
general_media/image-66242.png


[08/24/2025 23:30] tholin
That took all weekend to get to work, even with htamasâ€™ POC repo as a starting point.

{Reactions}
â¤ï¸

[08/24/2025 23:37] tholin
Issues:
 - Iâ€™m pretty sure power isnâ€™t connected - the several thousand warnings in the log about unconnected vss and vdd nets imply as such
 - the SL, CS, PD and PU pins on the bidir IO pads are tied to constant values. Not sure what to do with them. Forward to user project area? Tie to constants according to a user config file? Feedback on this is appreciated.
 - No SDC files to define delays introduced by IO pads - top-level STA is therefore questionable
 - Needs some Makefile magic to be more user-friendly of a setup


[08/24/2025 23:37] tholin
I need to go for today, but I will work on this more tomorrow and create a repo.


[08/25/2025 06:29] mole99
Great work! But as mentioned earlier, we will most likely use new pad positions for Tiny Tapeout, which will become the new standard pad ring.

Yeah, I also need to look into power connections. @htamas I noticed that you have some `CONNECT_POWER_PADS` defines in your code. Have you managed to get your padring to connect automatically to the core PDN?


[08/25/2025 06:31] mole99
@tnt One thing to consider for the future when I/O cells with different widths are a thing: Do we distribute the positions of the bondpads evenly, or do we make sure the distance between the I/O cells is evenly distributed? Currently, because all cells have the same width, both is the case. (Might not be that relevant for TT, but I would like to make the LibreLane padring step future-proof.)

I would go for the latter. With the first approach there is the issue that you can't go as tight because a larger cell might already be touching its neighbours while the other cells still have space. If there are cells with two bondpads, such as for LVDS, it becomes difficult to ensure the same distance between all the bondpads anyways.


[08/25/2025 09:35] tholin
What is the point of having the IE (Input Enable) pin on the bidir IO cells? I thought it tri-states something, but it doesnâ€™t. Seems to just force Y to zero.


[08/25/2025 09:40] 246tnt
It probably prevents shoot through current if you maintain a mid-rail voltage at the input.


[08/25/2025 09:44] tholin
Possibly


[08/25/2025 09:44] tholin
I figured having OE and IE set at the same time might cause a conflict, but I donâ€™t see how.


[08/25/2025 10:14] 246tnt
Yeah, the doc says that's invalid, but I also didn't really see what problem it could cause ...


[08/25/2025 10:30] tholin
If you check my reverse engineered schematics, youâ€™ll see that it makes no difference to a pin set to output whether IE is also set or not.


[08/25/2025 10:39] 246tnt
Yes, that's what I concluded from the spice models too


[08/25/2025 11:26] tholin
But I think, for the sake of completeness, I will wire the IEs to the user project area on my little setup too.


[08/25/2025 13:11] tholin
@htamas I see the "GeneratePDN" step is still enabled in your top-level flow, even though it wonâ€™t actually do anything. Is there any reason for this? I had to disable it in my project because it suddenly started throwing errors for seemingly no reason.

{Attachments}
general_media/image-CA205.png


[08/25/2025 15:00] tholin
Power routing is still an issue. I checked how they did it in caravel and its...odd.


[08/25/2025 15:01] tholin
There is a macro in the hierarchy called "caravel_power_routing" that just contains short bridges on Metal3 that connect between the power rails in the pad ring, and the PDN of caravel_core.


[08/25/2025 15:02] tholin
I would like to have a general-purpose solution rather than doing that part manually, so I guess its time to write a custom step?


[08/25/2025 15:20] tholin
To visualize: The VDD and VSS IO cells have just a little bit of overhang on the Metal2 layer for all power rails, which is where caravel_power_routing latches on to and bridges to a PDNâ€™s ring further to the right.

{Attachments}
general_media/image-D061C.png


[08/25/2025 15:24] 246tnt
AFAIU `pdngen` should be capable of extending straps to the IO power rings but I'm not sure how to set that up.


[08/25/2025 15:26] 246tnt
Ah but here it's some pad kind of thing. I know for caravel sky130 I did write a custom step for that.


[08/25/2025 16:05] tholin
In any case, here is what I have so far:


[08/25/2025 16:05] tholin
https://github.com/AvalonSemiconductors/ll_gf180_full_chip

{Embed}
https://github.com/AvalonSemiconductors/ll_gf180_full_chip
GitHub - AvalonSemiconductors/ll_gf180_full_chip: Example of full c...
Example of full chip with custom padring on gf180mcu using LibreLane - AvalonSemiconductors/ll_gf180_full_chip
general_media/ll_gf180_full_chip-AD40B


[08/25/2025 16:05] tholin
You can open it in the (latest!) iic-osic-tools and do `make user_project_example`, `make user_project_wrapper`, `make chip`


[08/25/2025 16:06] tholin
Trying to emulate the efabless naming conventions a little bit.


[08/25/2025 16:07] tholin
The only thing thatâ€™s missing is the power connections to the top-level PDN in `chip`


[08/25/2025 22:49] tholin
Yeah, I believe I have to ask for help with the power connection problem. Iâ€™m not sure what the best approach would be here. Making hookups to the rails in the padring is also an option.


[08/26/2025 20:38] tholin
I decided to just cheat a little bit. Made custom VDD/VSS IO cells that are actually just copies of the PDK cells, but I gave them tails like this.

{Attachments}
general_media/image-106BB.png


[08/26/2025 20:38] tholin
I actually need to make them longer, they donâ€™t quite reach the ring of the PDN.


[08/26/2025 20:39] tholin
Literally called `gf180mcu_fd_io__dvdd_tail` because Iâ€™m not very creative.


[08/26/2025 23:11] tholin
Okay, canâ€™t get it to connect yet, but almost there.

{Attachments}
general_media/image-2FD02.png


[08/26/2025 23:29] tholin
PDN wonâ€™t lock on to these and drop down vias. Iâ€™ll figure this out tomorrow.


[08/27/2025 13:18] mole99


{Attachments}
general_media/Bildschirmfoto_vom_2025-08-27_14-51-07-8BA84.png


[08/27/2025 13:18] mole99
I managed to persuade pdngen to connect to the default I/O power/ground cells.


[08/27/2025 13:30] tholin
I got it figured out may way too!

{Attachments}
general_media/image-52C2F.png


[08/27/2025 19:01] tholin
Alright! Done! I even included a basic setup with cocotb for RTL and GL verification.
https://github.com/AvalonSemiconductors/ll_gf180_full_chip


[08/27/2025 19:03] tholin


{Attachments}
general_media/image-270AD.png

{Reactions}
blobclap

[08/27/2025 19:16] tholin
Only remaining issue is that LVS fails simply because the vsscore and vddcore nets in one circuit have a random number added to the end of their names?


[08/27/2025 19:16] tholin
Weird


[08/27/2025 21:15] tholin
24,875 magic DRC errors :flop:


[08/27/2025 21:24] tholin
Right, I remember this


[08/27/2025 21:24] tholin
When I was reverse-engineering that IO cell, I saw that it had tons of DRC errors.


[08/27/2025 21:25] tholin
The IO cells in the PDK are just....like this. They have tons of DRC errors.


[08/29/2025 13:12] tholin
Doesnâ€™t have much at the moment, but this is where I will upload all the extra standard cells Iâ€™m making:
https://github.com/AvalonSemiconductors/gf180mcu_extra_cells


[08/30/2025 16:57] tholin
Working on the multi-bit DFF now. I assume the point of that is area savings by making multiple DFFs share the same clock inverters, not just because of the reduced area from less inverters, but also because it simplifies the clock tree.


[08/30/2025 17:26] mole99
Nice, looking forward to it!


[08/30/2025 17:27] mole99
Do you know whether the I/O cells are violating the rules or whether the DRC deck is incomplete?


[08/30/2025 17:45] tholin
I've been trying to put together 3.3V compatible IO cells by simply modifying the existing ones. And so I can say that, yeah, there are actual DRC errors in there that I keep having to fix.


[08/30/2025 17:46] tholin
For instance, the pad driver macro on the 24t bidir IO cell has minimum width violations on resistive ndiff and pdiff regions.


[08/30/2025 17:56] mole99
That is interesting. I wonder how Efabless did their tapeouts then. Maybe these rules only apply to the core area? Or GF waived the DRC errors on the I/O cells? I'll have to ask Tim.


[08/30/2025 17:59] _saltypretzel
Maybe since the pad frame was the same for each tapeout, all the chips would have the same drc errors in the padring


[08/30/2025 18:01] _saltypretzel
I donâ€™t recall having drc errors in the pad ring at least when I ran drc on magic. Of course, when they submit to fab, they maybe run their own closed source calibre deck on it first.


[08/30/2025 18:57] mole99
Yes, the same padring was used for all designs on GFMPW0/1 afaik.

Did you submit a design to one of the shuttles? You probably only ran DRC on the `user_project_wrapper`, which was later integrated with the padring.


[08/31/2025 20:32] rtimothyedwards_19428
As far as I recall from the tapeouts, we got GF to waive all the errors that were inside their own cells.  But it has been a long time since we did those tapeouts, and I have forgotten all the details.  Reading other tools' GDS into magic is always a struggle, and what you see is not necessarily what you get.  I'm running DRC on the Caravel GF version chip_io padframe now to try to refresh my memory.


[08/31/2025 20:36] rtimothyedwards_19428
A review of the padframe suggests that most errors are the usual struggle to read in layers like DUALGATE that may exist outside the cell with the diffusion that it affects, which is the sort of thing that magic does not deal with very well.  Failure to see DUALGATE in the right cell then ends up triggering errors about different voltage gates in the same well.  But I have yet to see anything that is obviously a real error.


[08/31/2025 21:59] tholin
My conclusion as well. All errors to do with clearance and sizing are not technically impossible, quite clearly so if you look at all the working GFMPW chips.


[08/31/2025 22:00] tholin
Can we expect a similar waiver from GF again? Otherwise, I am 100% down to sit down and spend a few days editing the IO cells to be DRC clean.


[09/04/2025 21:24] mithro_
@Tholin / @Tim Edwards - I'm hoping to work with @mole99 to put together something using previous MPW designs to send to GF for testing very soon.


[09/04/2025 21:26] tholin
Like, this month?


[09/04/2025 21:55] mithro_
Yes


[09/04/2025 21:55] mithro_
Hopefully that isn't a surpise to @mole99  ðŸ™‚


[09/04/2025 22:08] tholin
Its was a surprise to me, heh


[09/04/2025 22:09] tholin
Would you also be interested in sending one of the WiP custom padframes to GF for testing?


[09/04/2025 22:52] mithro_
Sure! I believe @mole99 is busy this week with finishing iHP related stuff?


[09/04/2025 23:03] tholin
I have a padframe that should be working.


[09/04/2025 23:05] tholin
I can take that, populate the project area with a copy of one of my GFMPW designs and we'll see if everything still works as before.


[09/04/2025 23:05] tholin
Would allow me to do some fixes as well. The RISC-V core on my multi-project die is just a few adjustments/bugfixes away from being able to boot Linux.


[09/05/2025 00:03] tholin
@Tim 'mithro' Ansell Would this be of interest to you in general? Linux-capable CPU core on gf180?


[09/05/2025 00:04] mithro_
A bit weird but I definitely wouldn't say no.


[09/05/2025 00:08] mithro_
The uclinux on Tiny Tapeout is a pretty good demo to show people.


[09/05/2025 15:54] mole99
The idea is to get early feedback from GF, especially regarding the sealring, as the corner of the sealring is simply "best-effort" since we don't have any rules for it in the PDK. Another issue is fill generation, for which we currently only have a partial implementation in magic.

I'm just finishing up my IHP tapeout and will be at ORConf right after that. After ORConf, I will have one full week to create a test reticle and work on fill. I will also upload the template repository for wafer.space designs.
I would appreciate if you could use the template to build your chip @Tholin. It automatically adds the sealring after GDS streamout.


[09/05/2025 16:01] tholin
Alright, will do


[09/05/2025 16:02] tholin
I'm rushing some bugfixes to my multi-project die right now, and then I will tape that out a second time.


[09/05/2025 16:03] tholin
Not gonna do anything new. The multi-project die is a whole heap of designs that I already know the characteristics of, which is good.


[09/05/2025 16:11] mole99
Thanks! I'll let you know after ORConf once it's pushed.
Being able to make comparisons between previous shuttles is definitely good.


[09/05/2025 18:21] rtimothyedwards_19428
@Tholin :  I'm glad you're working on a 3.3V standard cell library for GF180MCU.  I have come to the conclusion that the OSU standard cells are invalid and probably will never be synthesizable.  I think it is the same old story with academic development---At one time in the past, they had expertise in standard cell design, but that expertise has been lost, and now all they do is academic excercises like CharLib where they are concerned about simulation efficiency and accuracy, and nobody has noticed that the layouts they're passing to the tool are unworkable for a variety of reasons (such as, for example, having a cell height that is not divisible by any track height).


[09/05/2025 18:27] tholin
Yeah! I do need to keep working on it sometime. Its on hold for now until after the first wafer.space shuttle.


[09/06/2025 08:15] mole99
@Tholin Just so you know, final submission will be in early December, so there may still be time to work on it :)


[09/06/2025 15:13] tholin
True, but my SCL is 3.3V and I do wish to tape out one more 5V chip on the first wafer.space shuttle.


[09/06/2025 15:14] tholin
Second and onwards I will be playing with 3.3V. Lets uhhh...make sure that the 5V stuff we have already works first.


[09/06/2025 15:14] tholin
Oh, that *just* reminds me that I should absolutely create a test layout for the extra 5V cells Iâ€™m making.


[09/08/2025 23:45] mithro_
@everyone - The CrowdSupply page which will allows you to purchase wafer.space slots will be live in the next day or two. I am looking for people who want to purchase a slot to be beta testers.

{Reactions}
â€¼ï¸ (4) ðŸš€ (4)

[09/09/2025 01:43] ombudsman
Hey @Tim 'mithro' Ansell which pdk will we be using?


[09/09/2025 01:45] mithro_
The gf180mcu PDK (https://gf180mcu-pdk.readthedocs.io/) - I believe at least @mole99 & @Tholin, @tnt have already been working with it.

{Reactions}
ðŸ‘ (2)

[09/09/2025 01:50] mithro_
I believe `ciel` is the best way to get the PDK?


[09/09/2025 01:51] algofoogle
Exciting times, Tim ðŸ™‚

{Reactions}
blobsignyes

[09/09/2025 03:04] always_ff_rohan
yeah, with sky130 I use this - ```
#Enable PDK with this commit
ciel enable --pdk-family sky130A 12df12e2e74145e31c5a13de02f9a1e176b56e67

# Initiate the flow from design directory
librelane --ciel-pdk -p sky130A -s sky130_fd_sc_hd --flow Classic config.json
```


[09/09/2025 03:05] always_ff_rohan
GF180 is also same I think


[09/09/2025 03:14] essen__
Hi guys, I was told this was the place to be and you where looking for beta testers.
Still need to give it some more though as to if I wish to commit 6k to my broken a0 ðŸ‘‹


[09/09/2025 11:54] polyfractal
heyo, connected with Tim at OpenSauce and might have roped me into participating as well ðŸ™‚  In the middle of a big cross-country move right now (and have no layout experience past my own little DIY projects) so not sure if I'll make this first shuttle.

Was thinking about doing some test structures / circuits for an analog'y neuromorphic chip (spiking neural net stuff)


[09/10/2025 09:23] algofoogle
I wish I had the personal budget for a whole die, but in the meantime if anyone is thinking of sharing the cost for a multi-project die, I would at least like to know ðŸ™‚


[09/10/2025 14:10] essen__
Hi @algofoogle (Anton Maurovic) 
How much area would you be looking for, and do you have any specific requirements ?


[09/10/2025 15:42] mithro_
If anyone is ready to order, please contact me with an email address and I'll add you to the access list.


[09/10/2025 17:06] mithro_
Can people test if https://buy.wafer.space sends them to https://www.crowdsupply.com/wafer-space/gf180mcu-run-1/ correctly?

{Embed}
https://buy.wafer.space/
wafer.space GF180MCU Run 1
Fabricate 1,000 chips of your own design
general_media/gf180mcu-gelpack-dice_jpg_project-main-8DB90.jpg

{Embed}
https://www.crowdsupply.com/wafer-space/gf180mcu-run-1/
wafer.space GF180MCU Run 1
Fabricate 1,000 chips of your own design
general_media/gf180mcu-gelpack-dice_jpg_open-graph-DE679.jpg

{Reactions}
ðŸ‘ (3) ðŸ’œ

[09/10/2025 17:07] tholin
Tested on Firefox and Edge. Re-direct works.

{Reactions}
ðŸ‘†

[09/10/2025 17:09] urish
Works for me (Chrome)


[09/10/2025 17:10] urish
Nice campaign page!


[09/10/2025 17:38] mithro_
As I mentioned, anyone ready to commit to a slot, please message me and I'll get you added to the ability to purchase right away.


[09/11/2025 04:48] algofoogle
Started a thread.


[09/11/2025 06:24] 246tnt
@Tim 'mithro' Ansell In the campaign page, maybe specify it's the `gf180mcuD` variant in the PDK, that should allow people to lookup anything they need about the exact spec ( like top metal thickness for instance ).

{Reactions}
âž•

[09/11/2025 07:15] mole99
Also "GlobalFoundries GF180MCU openâ€‘source PDK" should be "GlobalFoundries gf180mcu openâ€‘source PDK" or "GlobalFoundries openâ€‘source PDK for GF180MCU".


[09/15/2025 21:24] rtimothyedwards_19428
@Tholin :  Would it be okay with you if I incorporated your `gf180mcu_as_sc_mcu7t3v3` standard cells into the open_pdks build of GF180MCU as an option?  I would like to put something on the 1st wafer.space shuttle run using this library.


[09/15/2025 21:27] tholin
Okay, full disclaimer first: I never ran the full prechecks on a layout produced with the SCL. I don't know if it produces DRC correct GDSII outputs in the eyes of klayout (which was a massive pain point with my other SCL).


[09/15/2025 21:28] rtimothyedwards_19428
I understand the risks, and I'm willing to run the whole library through a large project synthesis and debug anything that looks wrong.  Maybe extend the library, as well.


[09/15/2025 21:28] rtimothyedwards_19428
I want a 3.3V standard cell library for gf180mcu, and OSU is not going to be it.


[09/15/2025 21:29] tholin
Yeah, I'm not surprised

{Reactions}
ðŸ˜†

[09/15/2025 21:29] mithro_
Hi everyone, I'm in the US/Chicago time zone until the 5th October


[09/15/2025 21:30] mithro_
@Tim Edwards - @mole99 talked with Staf from chips4makers at OrConf and apparently his cells should work on GF180MCU


[09/15/2025 21:32] tholin
I know Tim Ansell wants to do a test tapeout with GF later this month and for his consideration I'm gonna offer a GDSII of my multi-project die, but with some minor bugs fixed and using the template that mole99 is cooking up. After this, I'll be mostly free to keep developing my 3.3V SCL.


[09/15/2025 21:38] rtimothyedwards_19428
@Tim 'mithro' Ansell :  If you want people to have access to Staf's cells (SRAM, or does he have more?), then I just need a pointer to a repository and I can incorporate them into open_pdks for GF180MCU.


[09/15/2025 21:39] mithro_
@Tim Edwards - I'm guessing @mole99 is probably still travelling back from OrConf at the moment.


[09/15/2025 21:42] mithro_
This is what @mole99 sent me;
> I'm now back from ORConf, which was great! I had some interesting discussions with a lot of people.
> 
> One of the most interesting projects for us is Staf Verhaegen's SRAM compiler: https://www.youtube.com/watch?v=G9uyKw3XoiM
> It would not only allow us to generate SRAM macros in different configurations, but also for 3.3V transistors on gf180mcu.
> 
> I asked him if he would be interested to put different SRAM configurations on a shuttle slot. He is interested, although there are some changes needed to make it work on gf180mcu.
> I told him I'll get back to him after asking you whether there's still a slot available.
> 
> Moreover, we could also use Staf's FlexCell stdcell generator to generate 3.3V cells. https://gitlab.com/Chips4Makers/c4m-flexcell
> 
> Tholins cells are great, but this would give us a larger set of stdcells that we could even take to a different process. Tamas did not use them for the TT test shuttle only because he couldn't get them working with LibreLane in time for the tapeout. But it's just a matter of figuring out how to configure LibreLane with these stdcells.
> 
> The only missing part then is the separation of the 5V and 3.3V voltage domains in the padring. There's a clever workaround using breaker cells that Tamas has already used. The proper way would be to create new power/ground pad cells based on the existing ones.

{Embed}
FOSSi Foundation
https://www.youtube.com/watch?v=G9uyKw3XoiM
A portable area efficient SRAM compiler: a ... job somebody has to ...
For developing a SRAM compiler that is area efficient and performant expertise is needed but above all a lot transpiration and persistence; more so I would say than other circuits. Luckily we (e.g. ChipFlow) is developing one for IHP and their SG13G2 open source process. This work is done in the FlowSpace project funded by the German government....
general_media/maxresdefault-CA679.jpg

{Embed}
https://gitlab.com/Chips4Makers/c4m-flexcell
Chips4Makers / c4m-flexcell Â· GitLab
A flexible, scalable, open source standard cell library.
general_media/twitter_card-570ddb06edf56a2312253c5872489-60AF3.jpg


[09/15/2025 21:43] mithro_
His stuff is also listed at https://bit.ly/ws-gf180mcu-stdcells

{Embed}
https://bit.ly/ws-gf180mcu-stdcells
wafer.space - Notes around voltages and options for I/O and standar...
Notes around voltages and options for I/O and standard cells bit.ly/ws-gf180mcu-stdcells  Voltages and GF180MCU See also https://bit.ly/ws-gf180  The GF180MCU process uses the same stack as the other 180nm process technologies but changes; The default oxide to be the same as the other 180nm proce...
general_media/AHkbwyJe1agTFR-diddXHLe4QsUKu6Ea4uFT63gtAw-A643A


[09/15/2025 21:51] rtimothyedwards_19428
@Tim 'mithro' Ansell :  I have already declared my intent to work on the dual voltage I/O library problem.


[09/15/2025 22:13] mithro_
@Tim Edwards - Great! Just trying to make sure everyone knows about things.


[09/16/2025 07:02] mole99
@Tholin Thanks for working on your design so we can include it in the test tapeout. Just to be clear, this is not a real tapeout, but rather a way for us to get feedback from GF about the design of the reticle, the sealring, if the fill matches density also on their side etc. The more real world design we have on there, the better. We should probably call it a virtual tapeout :)


[09/16/2025 07:03] mole99
@Tim Edwards Great! From what I understand we need two copies of the power and ground cells each, where one is for the core domain and one for the I/O domain. It would be really helpful if you could take a look at this ðŸ‘

For now, Tamas used a nice trick to get separate power domains using custom breaker cells, see: https://github.com/TinyTapeout/tinytapeout-gf-0p1/blob/main/docs/padframe.svg
However, if we have proper power/ground cells for both domains then we wouldn't have to resort to such tricks.

If you have a PR ready just ping me and I can give it a try. We need to make sure that the pin shape for the bondpad comes first in the LEF, so that OpenROAD will promote the correct pin to a BTerm. See this commit: https://github.com/wafer-space/gf180mcu/commit/eb701885d4fc3aff546c974df1b3e7bcce6bd3c7


[09/16/2025 07:09] mole99
Yes, we would like to get Staf's FlexCell stdcells into the PDK, as well as his SRAMs.

Since both are generated, there's no repository at the moment that hosts the cells afaik. It would probably make sense for wafer.space to host repositories for both, which we keep up to date that you can then incorporate into open_pdks (unless Staf wants to host them himself).


[09/16/2025 12:41] tholin
I made a better DFF to fit into the 7-track 5V SCL. Its slightly wider and has some met2 obstructions, but is significantly faster than the DFFs  that ship with the SCL.


[09/16/2025 12:41] tholin
https://cdn.discordapp.com/attachments/1299769089220284467/1417488167581515857/image.png?ex=68caaa3a&is=68c958ba&hm=c03bbb239d8e5bb97ab8df647c00f7970b70be0423f2ef314d7568e0cb7af515&

{Embed}
https://cdn.discordapp.com/attachments/1299769089220284467/1417488167581515857/image.png?ex=68caaa3a&is=68c958ba&hm=c03bbb239d8e5bb97ab8df647c00f7970b70be0423f2ef314d7568e0cb7af515&
general_media/image-3FB96.png


[09/16/2025 12:42] tholin
Seeing clock period improvements of up to several ns using this.

{Reactions}
blobclap (2)

[09/16/2025 15:05] rtimothyedwards_19428
Where can I grab this to incorporate it into the existing standard cells?


[09/16/2025 15:07] rtimothyedwards_19428
This is a digital standard cell layout made with Tholin's 3.3V standard cells, installed into the PDK with open_pdks and run through librelane.  It was almost ludicrously easy.

{Attachments}
general_media/ffra-C18BF.png


[09/16/2025 15:07] tholin
Oh good, I expected it to completely break with librelane without major config changes.


[09/16/2025 15:09] tholin
Set `SYNTH_STRATEGY: DELAY 4` if you wanna push it to its limits.


[09/16/2025 15:10] rtimothyedwards_19428
It was almost perfect out-of-the-box.  All I was missing was the "drc_exclude.cells" file, and I had to add a "touch" command to the installer to force it to be created.
I'll give "SYNTH_STRATEGY: DELAY 4" a try.  This was really just a proof-of-concept test, though.


[09/16/2025 15:15] rtimothyedwards_19428
"SYNTH_STRATEGY: DELAY 4" apparently worked (?).  I'm not sure how to prove that it did.  Anyway, at this point it's more productive for me to be pushing my commit to open_pdks.


[09/16/2025 15:18] tholin
That option makes it optimize for pure speed! Should be able to push the clock period real low now.


[09/16/2025 15:43] tholin
I committed a blank drc_exclude.cells file into the SCLâ€™s repo


[09/16/2025 15:43] tholin
So that should be taken care of now


[09/16/2025 16:00] tholin
https://github.com/AvalonSemiconductors/gf180mcu_extra_cells

{Embed}
https://github.com/AvalonSemiconductors/gf180mcu_extra_cells
GitHub - AvalonSemiconductors/gf180mcu_extra_cells: Additional 7-tr...
Additional 7-track, 5V standard cells for gf180mcu PDK. - AvalonSemiconductors/gf180mcu_extra_cells
general_media/gf180mcu_extra_cells-C3B07


[09/16/2025 16:00] tholin
Its in here


[09/16/2025 16:01] tholin
gf180mcu_extra__dfxtp_2


[09/16/2025 17:18] rtimothyedwards_19428
Should I merge this directly into the `gf180mcu_fd_sc__` repository, or should I try to incorporate it as an extension (like I did with the "sky130_ef_sc" cells), in which case I would prefer a more targeted library name, like `gf180mcu_as_sc_9t5v0`?


[09/16/2025 17:27] tholin
It should be an extension


[09/16/2025 17:27] tholin
I mean, that's why I called it "extra cells"


[09/16/2025 17:28] tholin
The DFF I made is meant to be a full replacement for the one in the fd_sc_7t5v0, though, and you have the exclude the whole wildcard of `gf180mcu_fd_sc_7t5v0__dff*` from synthesis.


[09/16/2025 20:18] mithro_
I think a `gf180mcu_as_sc_9t5v0` makes the most sense?


[09/16/2025 20:26] tholin
7t


[09/16/2025 20:26] tholin
Its still 7-track


[09/16/2025 20:26] tholin
I'm also reserving that name for if/when I make a full 5V custom SCL


[09/16/2025 20:27] tholin
Addons to the existing SCLs should have a separate naming convention.


[09/16/2025 20:31] mithro_
I would say that everything under `gf180mcu_as_XXXX` would be your name space.


[09/16/2025 20:39] tholin
I'll probably be re-naming this to `gf180mcu_as_extra`, then. Its intended to mostly only contain non-synthesizable special cells anyways, that you have to instantiate explicitly (i.e. transmission gates).


[09/16/2025 20:44] mithro_
SGTM!


[09/16/2025 21:10] rebelmike
Hi all, I've made a start getting TinyQV building on gf180 - shamelessly stole the build script from tinytapeout-gf-0p1.  Result is here https://github.com/MichaelBell/gf180mcu-tinyQV

{Embed}
https://github.com/MichaelBell/gf180mcu-tinyQV
GitHub - MichaelBell/gf180mcu-tinyQV: TinyQV for gf180mcu
TinyQV for gf180mcu. Contribute to MichaelBell/gf180mcu-tinyQV development by creating an account on GitHub.
general_media/gf180mcu-tinyQV-226D0


[09/16/2025 21:11] rebelmike
Fits in 600x600um with 25um padding.  It's quite slow though, it wouldn't build with a 50MHz clock so I used 40MHz.  Whereas it manages over 70 on sky130, is that expected?


[09/16/2025 21:12] tholin
I've gotten pretty good at squeezing performance out of gf180 flows. Let me try.


[09/16/2025 21:13] tholin
What is tinyQV again?


[09/16/2025 21:14] rebelmike
Sure - though this is just me mucking about for now!  Don't have any particular goal yet.


[09/16/2025 21:14] rebelmike
TinyQV is my quad bit serial Risc-V CPU.  Tim was looking for a small Risc-V CPU and we thought it might be a good fit


[09/16/2025 21:16] rebelmike
Its latest outing was on the ttsky25a Risc-V peripheral competition - those versions are huge with loads of peripherals connected.  But this version is just the "standard" one


[09/16/2025 21:17] tholin
I...uhhh....Iâ€™ve never seen this happen before

{Attachments}
general_media/image-EE40A.png

{Reactions}
ðŸ˜¬

[09/16/2025 21:19] mithro_
There is some stuff about Mike's TinyQV in my doc @ https://bit.ly/ws-tiny-riscv-proof

{Embed}
https://bit.ly/ws-tiny-riscv-proof
wafer.space - GF180MCU Bit Serial RISC-V Implementation - bit.ly/ws...
GF180MCU Bit Serial RISC-V Implementation https://bit.ly/ws-tiny-riscv-proof  Goal The primary goal of this project is to show a potential pathway to creating â€œcustom RISC-Vâ€ chips with wafer.spaceâ€™s low volume manufacturing & chip on board packaging that are within the realm of being cost compet...
general_media/AHkbwyLVub4Uei-LT5TnFCJAaungYRu8uZxoPy9gfP-3A9DC


[09/16/2025 21:21] 246tnt
@RebelMike I would expect gf180 to be slower than sky130 yes, no doubt about it.  With tweaking and optimizing, you could maybe get gf180 to match a "default run" of sky130 but if you put the same effort tweaking and optimizing, I'd expect sky130 to win speed wise.

{Reactions}
ðŸ‘

[09/16/2025 21:21] mithro_
@RebelMike - Looks like you are using a bunch of flip flops for the register file? https://github.com/MichaelBell/gf180mcu-tinyQV/blob/main/src/latch_mem.v ?

{Embed}
https://github.com/MichaelBell/gf180mcu-tinyQV/blob/main/src/latch_mem.v
gf180mcu-tinyQV/src/latch_mem.v at main Â· MichaelBell/gf180mcu-tinyQV
TinyQV for gf180mcu. Contribute to MichaelBell/gf180mcu-tinyQV development by creating an account on GitHub.


[09/16/2025 21:22] mithro_
Or is that main memory?


[09/16/2025 21:22] rebelmike
That is some scratch memory - though not actually included in that build above.


[09/16/2025 21:23] rebelmike
Registers are just flip flops - they're in https://github.com/MichaelBell/tinyQV/blob/gf180mcu/cpu/register.v

{Embed}
https://github.com/MichaelBell/tinyQV/blob/gf180mcu/cpu/register.v
tinyQV/cpu/register.v at gf180mcu Â· MichaelBell/tinyQV
A Risc-V SoC for Tiny Tapeout. Contribute to MichaelBell/tinyQV development by creating an account on GitHub.
general_media/tinyQV-4674D


[09/16/2025 21:27] rebelmike
Would probably want to tweak the way this works a bit - all of the registers rotate constantly (idea came from https://github.com/Wren6991/tt02-whisk-serial-processor), but using a clock gate or plain enable in logic so only the registers being accessed are rotated would probably be preferable.


[09/16/2025 21:35] mithro_
@RebelMike - how does that build compare in size to the minimax example @Xobs did a long time ago pictured the doc @ https://bit.ly/ws-tiny-riscv-proof ?

{Attachments}
general_media/image-41F9D.png

{Embed}
https://bit.ly/ws-tiny-riscv-proof
wafer.space - GF180MCU Bit Serial RISC-V Implementation - bit.ly/ws...
GF180MCU Bit Serial RISC-V Implementation https://bit.ly/ws-tiny-riscv-proof  Goal The primary goal of this project is to show a potential pathway to creating â€œcustom RISC-Vâ€ chips with wafer.spaceâ€™s low volume manufacturing & chip on board packaging that are within the realm of being cost compet...
general_media/AHkbwyLVub4Uei-LT5TnFCJAaungYRu8uZxoPy9gfP-3A9DC


[09/16/2025 21:39] rebelmike
Is that https://github.com/gsmecher/minimax ? I hadn't come across that before.

{Embed}
https://github.com/gsmecher/minimax
GitHub - gsmecher/minimax: Minimax: a Compressed-First, Microcoded ...
Minimax: a Compressed-First, Microcoded RISC-V CPU - gsmecher/minimax
general_media/b48422f6-7d75-4c5a-a589-54efc82a55af-555BB


[09/16/2025 21:46] rebelmike
Eyeballing that it looks like the area is around 200x400?  But then there's the large register file.  TinyQV takes the approach of supporting RV32EC with the absolute minimum number of writable registers to allow normal C code to work (just 13, as gp and tp can be hardwired without breaking the C ABI).


[09/16/2025 21:56] rebelmike
TinyQV also supports interrupts and basic CSRs.  I've also included UART, SPI and PWM peripherals in that build.  I guess we would need to decide what should be included given the goal of demoing a "custom Risc-V chip".  Maybe including one of the peripherals from the TT competition would make sense to show that custom design concept.  Probably reducing the number of general purpose IOs makes sense as I imagine the pad space is going to be a limiting factor.


[09/16/2025 21:58] mithro_
@RebelMike - Yeah, I think that was the minimax CPU that @Xobs used.


[09/16/2025 22:01] mithro_
@RebelMike - I think 600um x 600um is only a bit bigger than the largest SRAM block size?

{Attachments}
general_media/image-15E84.png


[09/16/2025 22:07] mithro_
@RebelMike - Seems like you could fit somewhere like ~40ish copies on a single wafer.space slot?

{Attachments}
general_media/image-760BD.png


[09/16/2025 22:11] rebelmike
Sounds plausible - the 600x600 was just my initial guess, though I did have to work a little to make the build pass I'm sure it could go a bit smaller (but then we'd probably decide we wanted to include more things anyway).  Taking a peak at @urish's setup for Tiny Tapeout on gf180, 2x2 tiles is 711.20x325.36 - so if that's roughly equivalent to 2x2 tiles on sky130 it should be possible to squeeze it into that area.


[09/16/2025 22:13] rebelmike
Hmm, actually that is quite a lot smaller so that might be a challenge.


[09/16/2025 22:15] mithro_
>40 is much bigger than >20 that doc was potentially thinking about.


[09/16/2025 22:21] mithro_
I had some data about Tiny Tapeout tile sizes and capacities in the spreadsheet @ https://docs.google.com/spreadsheets/d/1hgfRhANt3jyG4w0tgVumoxdqkyLpXQksTHPXk9g4_NM/edit?gid=924741324#gid=924741324 -- That was from quite a long time ago, so don't know if it matches / got updated with the latest configs.

{Embed}
https://docs.google.com/spreadsheets/d/1hgfRhANt3jyG4w0tgVumoxdqkyLpXQksTHPXk9g4_NM/edit?gid=924741324
Tiny Tapeout Sizing Comparisons
general_media/AHkbwyKTMijXzaANNwofCXLWnYQyRHjerus3bpcnIs-2C152


[09/16/2025 22:22] rebelmike
That does assume no (or maybe minimal) on chip cache/RAM.  Performance is therefore not amazing.


[09/16/2025 22:23] mithro_
Well, you might be able to add a 512 bytes SRAM to your config and still fit 20 versions....

{Reactions}
ðŸ‘

[09/16/2025 22:24] rebelmike
Big unknown for me is pad size.  Looks like the TT test chip is using 355x75 with 20.3 spacing.  That could mean pads are a larger area than the CPU


[09/16/2025 22:29] mithro_
@RebelMike - I think the first subdivision configuration is probably just going to be 1/2 or 1/4, so you'll have plenty of space.

{Reactions}
ðŸ‘

[09/17/2025 00:17] xobs
Yeah, one of the downsides to the minimax was that you need two copies of the register file so it could bank everything in case of an unhandled instruction.


[09/17/2025 07:48] rebelmike
Makes sense on FPGA, but expensive on asic.


[09/17/2025 20:22] rebelmike
Some thoughts on size for meeting the eventual goal, and approach to getting TinyQV into a suitable state to enable that, here: https://docs.google.com/document/d/16-JBqH7T6T0cKGpoZkjNh42dn7F8hudmymY-CGiME2c/edit?usp=sharing

{Embed}
https://docs.google.com/document/d/16-JBqH7T6T0cKGpoZkjNh42dn7F8hudmymY-CGiME2c/edit?usp=sharing
TinyQV gf180mcu
TinyQV as custom Risc-V demo  Goal Show itâ€™s possible to create custom Risc-V chips at reasonable cost on wafer.space.  Timâ€™s doc has more: https://docs.google.com/document/d/1U5tQairqGWx1kK3jr6FB_aSNz2RWzo8jpJg-MWs9UXI/edit?tab=t.0  Preparatory work  Aim is to get TinyQV into a state where it ma...
general_media/AHkbwyLuz04cEgCPI2rMB0Z62l0OAk1Gv3-17BRRn4-71A39


[09/18/2025 21:47] mithro_
Yeah, minmax was targeting FPGAs where blockram is pretty cheap


[09/18/2025 21:58] mithro_
I updated the wafer-space GitHub organization at with a little more content https://github.com/wafer-space

{Embed}
https://github.com/wafer-space
wafer.space
Budget silicon manufacturing -- create integrated circuits without breaking the bank. - wafer.space
general_media/206372765-BA965

{Reactions}
ðŸ‘

[09/19/2025 04:21] urish
Looks good


[09/19/2025 04:21] mithro_
Slowly updating the website - https://preview.wafer.space/pr-44/

{Embed}
https://preview.wafer.space/pr-44/
wafer.space - Budget silicon manufacturing.
Create integrated circuits without breaking the bank!


[09/19/2025 05:10] mithro_
I also did an interview today with Chris Gammell for the Amp Hour, challenged him to do a Tiny Tapeout before the next time I'm on his podcast ðŸ™‚ - I believe it should be live late next week sometime.

{Reactions}
â¤ï¸

[09/19/2025 05:33] urish
Nice countdowns!


[09/19/2025 09:07] mole99
I'm glad to announce the wafer.space template! https://github.com/wafer-space/gf180mcu-project-template

{Embed}
https://github.com/wafer-space/gf180mcu-project-template
GitHub - wafer-space/gf180mcu-project-template: Project template fo...
Project template for wafer.space MPW runs using the gf180mcu PDK - wafer-space/gf180mcu-project-template
general_media/gf180mcu-project-template-97D29

{Reactions}
ðŸŽ‰ (4)

[09/19/2025 09:07] mole99
The template is a work in progress, so further changes are to be expected.

There is an issue with resizing in OpenROAD because the I/O library specifies a fanout of 1, therefore we have to wait for a fix to re-enable resizing.
However, your design may not be affected. Just enable resizing in the config file and see for yourself.
Filler generation may change in the future, however it should already be possible to meet the target densities.
DRC with magic is currently failing. There are some unknown layer/datatypes, and we need to either fix the DRC errors in the I/O cells or exclude them during DRC.


[09/19/2025 09:07] mole99
Despite these issues you can already use it to implement your design. Please give it a try and let me know how it goes!
I've also added a wrapper around the dvdd/dvss pads to allow them to be placed in the eastern and western rows of the padring.
For now feel free to change the padring as you like.


[09/19/2025 09:08] mole99
As a next step, I would need the final pad positions for the padring from Tiny Tapeout ( @tnt ). These positions will be the same for all wafer.space customers (if they opt for packaging). It is possible to change I/O types such as input/output/bidir, but the power/ground pads should stay the same, as they will be bonded to power/ground rings in the case of CoB and to the ground pad in the case of QFN.


[09/19/2025 09:19] 246tnt
@mole99 Drafting something now ...


[09/19/2025 09:20] algofoogle
This is pretty exciting! How many pads are you going for?


[09/19/2025 09:21] algofoogle
Fantastic, Tim! Canâ€™t wait to hear it, and I hope he does do a submission! I was thinking Dave Jones should do one too.


[09/19/2025 09:24] 246tnt
Well for TT the target when packaged is QFN64. What I'm drafting now will have 74 bond pads since 10 of those will be GND and will only go to the EPAD.  6 will be power so that leaves 58 "user" connections.


[09/19/2025 09:26] tholin
What Iâ€™m drafting is just a copy of the caravel pad-out, but the SPI flash pins become extra user GPIO.


[09/19/2025 09:27] tholin
Since Iâ€™m targeting a DIP-40 footprint, that is sufficient IO.


[09/19/2025 09:29] mole99
@Tholin Yes, but you'll have to map this to the Tiny Tapeout padring before your final submission if you want packaging. Some of your unused pads could be used for debugging functionality.


[09/19/2025 09:32] 246tnt
Of course if you just want raw dies and handle all packaging yourself, you do whatever you please.


[09/19/2025 09:33] mole99
Absolutely.


[09/19/2025 09:36] algofoogle
This sounds pretty cool. Just that bit more flexibility than OpenFrame


[09/19/2025 09:40] tholin
Iâ€™m probably going to have to do packaging myself if I want to bond to DIP PCB carriers


[09/19/2025 09:43] mole99
I think there was a discussion about providing your own PCBs (with the same CoB footprint?) somewhere. @Tim 'mithro' Ansell will know.


[09/19/2025 09:47] tholin
The PCBs may also have project-specific components on them


[09/19/2025 09:47] tholin
Or it may not even be DIP-40, but something smaller, like DIP-28 (the wide one)


[09/19/2025 09:48] tholin
Or some pins need to be bonded differently


[09/19/2025 09:48] tholin
So there is no one size fits all PCB layout for me. This is the downside of making a multi-project die.


[09/19/2025 09:48] tholin
And why I am desperately trying to hunt down a wire bonder for myself.


[09/19/2025 10:00] mole99
That's why a carrier board (like on Tiny Tapeout) is a good idea. But if that doesn't work for you, you'll have to go the manual route.


[09/19/2025 10:05] tholin
Iâ€™m pretty space constrained by having to fit the dimensions of those DIP footprints


[09/19/2025 10:12] 246tnt
@mole99 https://docs.google.com/spreadsheets/d/1sZCpz6yy-bHGaV2BVG4IZOLBWn--WIddM9pkCQm_Vyc/edit?usp=sharing

{Embed}
https://docs.google.com/spreadsheets/d/1sZCpz6yy-bHGaV2BVG4IZOLBWn--WIddM9pkCQm_Vyc/edit?usp=sharing
TT GF180 padframe
general_media/AHkbwyKYbpWB-91BLdfVeiyR-EDy0Jp2F1tCOeZ1We-12A32


[09/19/2025 18:42] mole99
Started a thread.


[09/19/2025 18:52] mithro_
Seems like everyone has been quite busy while I've been sleeping!


[09/19/2025 23:42] rebelmike
@mole99 Is https://github.com/wafer-space/gf180mcu-project-template/blob/main/config.yaml#L165 correct?  I think it should either be 25 more, to account for the seal ring on both sides, or exactly 5070x3880 if seal ring is added externally.


[09/20/2025 07:46] mole99
Good catch! I tested the reticle stitcher with my GF-MPW1 project, where I added the sealring externally. I've now updated the project template.

{Reactions}
ðŸ‘

[09/20/2025 20:18] mithro_
@urish / @Matt Venn - After I get the website updated with the campaign content, I would like to get Tiny Tapeout collaboration information up on the websites.

{Reactions}
ðŸ‘ (2)

[09/20/2025 21:14] mattvenn
Fyi I'm travelling next week for austrochip


[09/21/2025 03:01] mithro_
The website @ https://wafer.space has now been updated quite a bit, nothing new compared to the campaign page.

{Embed}
https://wafer.space/
wafer.space - Budget silicon manufacturing.
Create integrated circuits without breaking the bank!


[09/21/2025 04:09] urish
Started a thread.


[09/21/2025 15:21] tholin
So, if I followed the conversation about tiny RISC-V cores on GF180 so far, the biggest constraint so far appears to be the size of the register file, which actually becomes larger than the CPU core itself at some point.
Has it been considered yet that the registers can be moved into RAM? Reserve 32 words of RAM to hold the register values.


[09/21/2025 19:28] rebelmike
Started a thread.


[09/22/2025 15:35] mole99
I just updated the project template to limit the sealring generator to Metal5 and add `MAGIC_GDS_FLATGLOB` to the LibreLane config.
The remaining issues during DRC are because of some missing layer definitions, duplicate cell entries, and overlapping cuts (which is annoying to fix as per Tim ðŸ˜…).

You can update your local copy py simply pulling the latest changes and running `make clone-pdk` again.


[09/23/2025 17:23] mithro_
@mole99 - Should that fix https://github.com/wafer-space/gf180mcu-project-template/issues/1 ?

{Embed}
https://github.com/wafer-space/gf180mcu-project-template/issues/1
Encountered one or more fatal errors while running Magic. Â· Issue ...
Ran make clone-pdk, then nix-shell then make librelane ends up with the following error; Generating output for cell chip_top [INFO] GDS Write Complete Classic&#39; - Stage 57 - GDSII Stream Out (Ma...
general_media/1-8D505


[09/23/2025 18:00] mole99
Streamout should already work, it may be that the template was in a weird state. Can you pull the latest changes and clone the PDK again?
I've also now subscribed to the repo so I get notifications for the issues. Let's continue on GitHub if you get the same issue again.


[09/23/2025 18:42] mithro_
Just tried again, got the same error I think.....


[09/24/2025 09:08] mole99
Replied to your issue with a solution.


[09/24/2025 14:46] mithro_
Not sure you actually replied with a solution but I'm testing what I think you meant ðŸ™‚


[09/25/2025 10:14] mattvenn
Nice amp hour interview @Tim 'mithro' Ansell !

{Reactions}
ðŸ’¯

[09/25/2025 10:25] urish
Started a thread.


[09/25/2025 10:56] anfroholic
https://theamphour.com/703-building-wafer-space-with-tim-ansell/

{Embed}
https://theamphour.com/703-building-wafer-space-with-tim-ansell/
#703 â€“ Building wafer.space with Tim Ansell | The Amp Hour Electr...
Tim 'Mithro' Ansell returns to The Amp Hour to discuss his new Singapore based wafer sharing service called wafer.space. Now that eFabless is no more, this venture will aim to make silicon even more accessible to the masses, driving down the costs on a per chip basis. For $7K, you get 1000 chips delivered on a 180 nm process from Global Foundries.


[09/25/2025 23:50] rtimothyedwards_19428
@Tholin :  Would `lctime` be able to create timing files for an I/O library?


[09/25/2025 23:51] tholin
Probably not


[09/26/2025 01:36] mithro_
I'll also be on Teardown Sessions next week on the 3 Oct 2025 @ 2:00pm Chicago (other regions https://bit.ly/teardown-session-waferspace-1) - https://www.youtube.com/watch?v=tEOmnN8IAjs

{Embed}
https://bit.ly/teardown-session-waferspace-1)
The World Clock Meeting Planner - Details
Local time for a meeting, in user selected locations.
general_media/meeting-planner-95506.png

{Embed}
Crowd Supply
https://www.youtube.com/watch?v=tEOmnN8IAjs
Teardown Session 56: wafer.space with Tim Ansell
Join Crowd Supply's Helen Leigh for a conversation with Tim Ansell about wafer.space.

About Crowd Supply
Crowd Supply is the crowdfunding platform of choice for engineers, hackers, designers, and idealists. We help them with the funding and support they need to deliver respectful, thoughtfully crafted, open source hardware to their delighted ba...
general_media/maxresdefault_live-743AB.jpg


[09/26/2025 08:16] h.tamas
Started a thread.


[09/26/2025 09:35] algofoogle
Great Amp Hour interview @Tim 'mithro' Ansell ðŸ™‚ I feel like hassling Chris to get serious about doing a TT submission

{Reactions}
â¤ï¸ (2)

[09/26/2025 13:18] mithro_
Do it ðŸ™‚

{Reactions}
ðŸ’ª

[09/26/2025 13:34] mattvenn
I'll try as well


[09/27/2025 20:19] tholin
In about 30 minutes I'll be taking the virtual stage to hold a presentation entitled "How NOT to design an integrated circuit", the synposis for which is  `From low-level programming to now making her own integrated circuits, Tholin is a seasoned member of the Open-Source-Silicon community. Tholin has a record-breaking 8 tapeouts under her belt. In this presentation, we'll gloss over all the successes and present all the failures and mistakes that were made over those tapeouts to learn what to avoid and not to do when taking on such ambitious projects.`

{Reactions}
ðŸ’œ (2)

[09/27/2025 20:20] tholin
I'll be recording the whole thing


[09/28/2025 02:47] tholin
I made my own recording that has better audio from my mic. Threw it up on my fileserver for now. Like 75% of the presentation is about my experiences with GFMPW-0/1.
https://files.tholin.dev/Public/Videos/dgt_2025_09_27.mp4

{Reactions}
ðŸ’œ (2)

[09/28/2025 20:32] mithro_
@Tholin - Cool, I'll give it a watch later today.


[09/29/2025 01:46] mithro_
@Tholin - Great presentation! It's awesome that you didn't give up after the first few problems. It also looked like you managed to have some type of work arounds for a lot of issues?


[09/29/2025 07:46] tholin
I am incredibly persistent


[09/29/2025 07:46] tholin
I worked around most problems.


[09/29/2025 15:54] h_thoreson_71412
I have work so it will take me a bit to get through but watching around other meetings and obligations


[09/29/2025 15:58] mithro_
@Tholin - I would love to hear the gritty details about how exactly you worked around all the various problems. There is a pretty strong history of people in "our" community getting things working that industry have declared impossible (Another example of @tnt managing to the very early MPW chips going) and I would like to keep driving that home.


[09/29/2025 18:21] tholin
Well, firstly, figuring out what is even going wrong and why is the hard part.


[09/29/2025 18:22] tholin
Only then can you look at what you have and see if you can't nudge things in the right direction again.


[09/29/2025 18:24] tholin
I'm always very happy when I can fix things in software.


[09/29/2025 18:27] tholin
For the AS-11, it just needed a custom assembler frontend to handle the differences in bytecode from the PDP-11/40.


[09/29/2025 18:27] tholin
I say "just" as in, it was a logically simple solution, but took a while to actually implement.


[09/29/2025 18:29] tholin
The VLIW icache actually works under certain conditions. The fetches only fail if the icache contains any instruction packs that have breaks set. So break-free code can be cached safely. So all the software I've written for VLIW, I turn the icache on for loops where its safe and then back off, which still boosts performance decently.


[09/29/2025 18:30] tholin
QCPU is the most exciting story from a hardware perspective, AS2650-1 from a software perspective.


[09/29/2025 19:18] h_thoreson_71412
This is really interesting. It kind of answered one of the lingering questions I've had about how people are using TT to do more sophisticated designs - there's an existing testing framework somewhere?


[09/29/2025 21:51] mithro_
@h_thoreson - @Tim Edwards was also telling me about his usage of an Arty A7 FPGA board I sent him for some TT and GF180MCU testing.

{Reactions}
ðŸ‘

[09/29/2025 21:54] h_thoreson_71412
Interesting - I have one of those but I haven't used it in ages. Hopefully it still works ðŸ˜…


[09/30/2025 01:35] mithro_
I've merge the Design Help page into the wafer.space website, so https://wafer.space/design-help.html now exists.

{Embed}
https://wafer.space/design-help.html
Design Help
Budget silicon manufacturing.

{Reactions}
ðŸ‘€

[09/30/2025 01:41] mithro_
@Tholin - If you want Avalon Semiconductors listed there, 100% happy to add it.


[09/30/2025 03:50] mithro_
Started a thread.


[09/30/2025 05:42] mithro_
@mole99 and myself will be on Crowd Supply's Teardown Session talking with Helen about wafer.space this Thursday (2nd October) - http://youtu.be/tEOmnN8IAjs

{Embed}
Crowd Supply
https://www.youtube.com/watch?v=tEOmnN8IAjs
Teardown Session 56: wafer.space with Tim Ansell & Leo Moser
Join Crowd Supply's Helen Leigh for a conversation with Tim Ansell about wafer.space, a new way for chip designers to easily turn a design into real, working chips.

*About Our Guests*
Tim â€œmithroâ€ Ansell builds the bridges that make open silicon real. At Google, he helped release the SkyWater SKY130 open-source PDK and launched the Open MPW...
general_media/maxresdefault_live-743AB.jpg

{Reactions}
ðŸ‘ (3)

[09/30/2025 07:42] tholin
Not yet, unless you want to list my GFMPW-1 submissions as example projects (which you totally can). I am more interested in contributing to writing that Documentation mentioned towards the bottom of the page.


[09/30/2025 12:06] vks_007
@Tim 'mithro' Ansell Are there any reference materials or guides available for using GF180 PDK with open-source EDA tools especially for analog design ? Compared to SKY130, there appears to be lack of such publicly accessible resources for GF180.


[09/30/2025 12:06] vks_007
Any suggestions how to start exploring designs with GF180?


[09/30/2025 12:09] tholin
Its been a while since I went in-depth with sky130 - what resources for sky130 are you referring to?


[09/30/2025 12:21] vks_007
By resources, I am referring to youtube tutorials or publicly available reference flows on platforms like github that can help newcomers get started with a specific PDK (GF180 in this case) and its integration into analog design tools such as xschem, ngspice, magic, netgen.


[09/30/2025 12:22] vks_007
Analog design using open-source tools is far less streamlined than RTL-to-GDS flow available for digital design with Openlane.


[09/30/2025 12:24] tholin
Ah, analog design guides for gf180 was something that I was missing. Iâ€™ve since figured it out on my own, but it took a bit.


[09/30/2025 17:22] mithro_
Welcome @Vipul - You are correct that GF180MCU resources are a lot more limited than SKY130. We only had 2 free MPW runs for GF180MCU compared to the 8 for SKY130 and until wafer.space there was no easy way to pay to get access to GF180MCU manufacturing (unlike SKY130 which had chipIgnite). 

Hopefully you can help change that now that GF180MCU is more available.


[09/30/2025 17:23] mithro_
I believe the IEEE SCSS Chipathon has a bunch of resources but I can never find the right link to use


[09/30/2025 17:23] mithro_
https://sscs.ieee.org/technical-committees/tc-ose/sscs-pico-design-contest/

{Embed}
kressel@thinkdm2.com
https://sscs.ieee.org/technical-committees/tc-ose/sscs-pico-design-contest/
SSCS â€œPICOâ€ Open-Source Chipathon - IEEE Solid-State Circuits S...
SSCS is pleased to announce its 4th open-source integrated circuit (IC) design contest under the umbrella of its PICO Program.


[09/30/2025 17:24] mithro_
And/or https://github.com/sscs-ose/sscs-chipathon-2025 ?

{Embed}
https://github.com/sscs-ose/sscs-chipathon-2025
GitHub - sscs-ose/sscs-chipathon-2025: Blocks & Bots: An Open Chip ...
Blocks & Bots: An Open Chip Playground augmented with LLMs. Please check: https://sscs.ieee.org/technical-committees/tc-ose/sscs-pico-design-contest/ - sscs-ose/sscs-chipathon-2025
general_media/sscs-chipathon-2025-6FDCC


[09/30/2025 17:31] vks_007
Sure @Tim 'mithro' Ansell I will try to work on establishing custom analog design flow with as suggested by @mole99 and put my queries here wherever I get stuck. Hopefully this will help to streamline the flow with open source analog tools for gf180.

{Reactions}
â¤ï¸

[09/30/2025 17:34] mithro_
All help is welcome! There are also multiple different ways to do things, so having people give it a go is important.


[09/30/2025 17:37] mithro_
lol - Since launching wafer.space, I'm now getting spam for high-purity fused silica quartz boats to my info email address!

{Reactions}
ðŸ˜„

[10/01/2025 18:58] mithro_
@mole99 - I think I made you a mod which should allow you to create channels.

{Reactions}
ðŸ‘

[10/02/2025 14:23] mithro_
This live stream starts in a few hours!


[10/02/2025 14:32] 246tnt
Oh ... in the message it said 3rd october so I noted it for tomorrow ðŸ˜…


[10/02/2025 14:32] 246tnt
(I know it also said Thursday so I should have noted the discrepency but I didn't)


[10/02/2025 14:45] mole99
Yeah, there was a mix-up ðŸ˜…


[10/02/2025 14:51] mithro_
Yes, it appears I can not work a calendar ðŸ˜›


[10/02/2025 16:41] mole99


{Reactions}
ðŸŽ‰

[10/02/2025 16:41] mole99
Check out the update to the template!


[10/02/2025 17:44] mattvenn
Glad it's not just me!


[10/02/2025 17:59] mithro_
I even double checked the date.


[10/02/2025 18:59] mithro_
Just about to go live now @ https://www.youtube.com/watch?v=tEOmnN8IAjs

{Embed}
Crowd Supply
https://www.youtube.com/watch?v=tEOmnN8IAjs
Teardown Session 56: wafer.space with Tim Ansell & Leo Moser
Join Crowd Supply's Helen Leigh for a conversation with Tim Ansell about wafer.space, a new way for chip designers to easily turn a design into real, working chips.

*About Our Guests*
Tim â€œmithroâ€ Ansell builds the bridges that make open silicon real. At Google, he helped release the SkyWater SKY130 open-source PDK and launched the Open MPW...
general_media/maxresdefault_live-743AB.jpg

{Reactions}
ðŸ‘Œ

[10/02/2025 20:38] urish
Started a thread.


[10/02/2025 21:55] mithro_
Please reshare https://www.linkedin.com/feed/update/urn:li:activity:7379634646847979520/

{Embed}
https://www.linkedin.com/feed/update/urn:li:activity:7379634646847979520/
#gf180mcu | wafer.space
Tim Ansell is happy to announce that the first GF180MCU open silicon run from wafer.space is now available for purchase through Crowd Supply at https://buy.wafer.space!

For $7,000 USD you get 1,000 bare die of ~20mmÂ² GF180MCU open source silicon. There is also an option of purchasing chip-on-board wire bonded and full undiced wafers.

The fina...
general_media/1759442005157-F61B1

{Reactions}
ðŸ‘

[10/02/2025 22:12] mithro_
Appreciate upvotes on hackernews - https://news.ycombinator.com/item?id=45456229

{Embed}
mithro
https://news.ycombinator.com/item?id=45456229
Wafer.space â€“ $7k USD for 1k custom chips
Hacker News

{Reactions}
ðŸ‘

[10/02/2025 22:28] mithro_
Started a thread.


[10/02/2025 22:30] mithro_
I'd appreciate upvotes if you are part of the reddit communities in the thread https://discord.com/channels/1361349522684510449/1361349523724570941/1423436537994940456

{Reactions}
ðŸ‘

[10/03/2025 04:52] hardwall
Great live session yesterday. 

I was looking at what fits in the size / node you have , and I saw this paper.
 https://sbmicro.org.br/sforum-eventos/sforum2021/Design%20of%20Steel%20ASIC,%20a%20RISC-V%20processor.pdf

They say they used 15mm2 for the STEEL core at 180nm. 

Not a silicon guy, the nosey embedded SW eng from the live stream here. So excuse my naivete. 

Anyways that looks quite large ish? Is it true that you need that much die area for a simple RISC-V core? Using Claude to get ballpark  estimates, I was wondering if I can fit an IBEX in the area you have and the IBEX is larger than the STEEL. 

Can I eyeball what fits with some  gates/mm2 formula?


[10/03/2025 04:57] urish
IIRC tim mentioned about 1.2m gates in the wafer space area

{Reactions}
ðŸ‘

[10/03/2025 08:18] rebelmike
You can see from the image in that paper that the logic is only using a small fraction of the area. IBEX would fit easily.
For a chip focused on reasonable performance, most of the area would likely be taken up with SRAM for memory and cache.

{Reactions}
ðŸ‘†

[10/03/2025 08:32] 246tnt
It'll be interesting to see how the campaign progresses. I would actually expect it to stay very low until the very end:
* There is no mentions of any limited space / number of slots on the campaign page
* There is no incentives for early birds
* Unlike other crowdsupply campaign, the user is actually expected to do something, so I would expect most of them to hold off paying until they actually got something to submit, especially given the two items above, there is no benefit to buying early, only risks if you can't finish what you want to do in time.

{Reactions}
ðŸ‘ (2)

[10/03/2025 08:56] mole99
All good points @Tim 'mithro' Ansell

{Reactions}
ðŸŽ‰ ðŸ‘

[10/03/2025 10:26] hardwall
I noticed that as well, but I wasn't sure what die size that was.


[10/03/2025 10:49] rebelmike
I think what I would do, if I was trying to create a custom Risc-V for wafer space would be:
- 8kB internal RAM
- QSPI flash chip and QSPI PSRAM chip on separate interfaces
- 4kB cache for each of the PSRAM and flash
- Hazard3 Risc-V core in a similar config to RP2350, but single core
That should leave a decent amount of space (maybe 1/3 of the area) for peripherals and custom logic, but enough cache and RAM to give OK performance.  I'd target 3v3 so that it was easy to interface with standard QSPI chips, and hope to get it running at 30MHz.


[10/03/2025 12:55] hardwall
You can't have flash on chip, can you?


[10/03/2025 13:01] 246tnt
No


[10/03/2025 15:29] mithro_
There was one attempt at flash on gf180mcu mpw-0 but it was never tested.


[10/03/2025 15:48] 246tnt
@Tim 'mithro' Ansell How ? There are no such device in the PDK ?   I saw some floating gate experiment on sky130 that doesn't use sonos, but that was pretty big AFAIR.


[10/03/2025 15:53] 246tnt
(That's the paper for what I'm talking about in sky130 https://woset-workshop.github.io/PDFs/2021/a11.pdf )


[10/03/2025 16:13] mithro_
https://docs.google.com/document/d/1I3UOSdVONUD_IXYKU4gYSDF-LOz3-B1a-wXXivrkCnw/edit?tab=t.0#heading=h.ol6cxbt7gxt

{Embed}
https://docs.google.com/document/d/1I3UOSdVONUD_IXYKU4gYSDF-LOz3-B1a-wXXivrkCnw/edit?tab=t.0
GF180MCU Single-Poly "Flash-Like" Memory (UMich / OpenFASoC / Mehdi)
GF180MCU Single-Poly "Flash-Like" Memory (created by UMich / OpenFASoC / Mehdi) Original source document created by   Tapeout Information This design was taped out on GF180MCU as part of the Google GFMPW-0 run.  The IC was designed to be wire bonded / probed directly, however GFMPW-0 only retur...
general_media/AHkbwyIztVLvj9VgoCeNMk8D_vTjqAyT3BfGKixzgL-C45F1

{Reactions}
ðŸ‘ (2)

[10/03/2025 16:30] mithro_
No idea if that is viable or not and as I said it was never tested due to them needing bare die and only getting packaged (and then getting busy with other stuff).


[10/03/2025 16:37] 246tnt
Seems to be a similar approach to what was on sky130, just leave some poly floating connected to several transistors and some of them are used for reading and other for tunneling charge in/out of the gate. But of course the devil is in the detail so that cell could work or not ...


[10/03/2025 16:44] hardwall
Hah, could work or not.. precisely what you don't want to hear about your memory. Not a big problem  I think, but I was just curious about the constraint. It would probably use quite a bit of the die anyway,.


[10/03/2025 16:46] hardwall
I'm wondering why you recommend the hazard3 instead of the Ibex. I was under the impression ibex is better tested.


[10/03/2025 16:47] hardwall
Hazard3 is actually in commercial products though, so I guess that's worth for something.


[10/03/2025 16:48] 246tnt
yes, flash is huge and probably a good waste of real estate ... the cells are not small and then you need a ton of periphery circuitry to drive it ( to generate all the high bias voltages and switch them around for instance ).


[10/03/2025 16:53] rebelmike
Ibex looks like it would be a good choice too, but personally I think it would be cool to use the same core thatâ€™s in the RP2350.
Mainly I was trying to give an example of the kind of system that would make sense.


[10/03/2025 16:54] mithro_
Why not both! ðŸ˜›


[10/03/2025 16:55] mithro_


{Attachments}
general_media/why-not-both-why-not-53866.gif


[10/03/2025 21:50] rtimothyedwards_19428
@tnt :  Workable nonvolatile memory would still be very useful for setting some number of configuration bits that can be read at startup.  It doesn't have to be a kilobyte memory block to be useful.


[10/03/2025 21:54] rtimothyedwards_19428
Efabless got the Hazard-3 core to tapeout on Sky130 on the "Frigate" chip, but unfortunately it never got through manufacture.  I would like to revive the Frigate architecture;  didn't have time to do it for the Cadence tapeout, and don't have the analog IP for the GF180MCU tapeout.  I'm considering a Chipalooza-like contest to get analog IP for GF180MCU, with the general goal of having something like Frigate on the process.

{Reactions}
ðŸ’¯

[10/03/2025 22:03] mithro_
@Tim Edwards - Have you seen the OpenFASoC design done on MPW18H1? https://siliconpr0n.org/archive/doku.php?id=mcmaster:efabless:gf180mcu-mpw18h1-18100004

{Attachments}
general_media/Rapid-Prototyping-of-Laser-Induced-Graphen-D6CBA.pdf


[10/03/2025 22:09] mithro_
I did also send Luke Wren an email about Hazard-3 core on GF180MCU and he was talking about the launch @ https://types.pl/@wren6991/115267726230458487

{Embed}
Luke Wren (@wren6991@types.pl)
https://types.pl/@wren6991/115267726230458487
$7000 for a 20 mm^2 GF180 MPW tapeout, you get 1000 unpackaged chips ðŸ¤” maybe I should try that PDK [crowdsupply.com/wafer-space/gfâ€¦](https://www.crowdsupply.com/wafer-space/gf180mcu-run-1)

Upside\: you get to do your own padring\!

Downside\: you have to do your own padring\! \(and ESD\)
types.pl


[10/03/2025 22:10] mithro_
Also did you see the efuse stuff - http://bit.ly/ws-gf180mcu-efuses ? They could be used for configuration bits too.

{Embed}
http://bit.ly/ws-gf180mcu-efuses
wafer.space - GF180MCU eFuse Information - bit.ly/ws-gf180mcu-efuses
wafer.space - GF180MCU eFuse Information https://bit.ly/ws-gf180mcu-efuses   Current Status Egorxe has created an efure compiler @ https://github.com/egorxe/gf180_efuse_compiler These efuses were taped out on the Google GFMPW-0 free shuttle in slot-030 / Position E6. An issue with missing via's m...
general_media/AHkbwyLzAIwf8jqbBEsoOjAQ0HNC3ZjtCLaqLAS73P-F2160


[10/03/2025 22:20] rtimothyedwards_19428
@Tim 'mithro' Ansell This set of process options includes efuses?  I have done eFuse  arrays in the past (when I was working at MutiGiG).


[10/03/2025 22:21] mithro_
@Tim Edwards - ***If*** I understand correctly, we do **not** have the foundry provided efuses stuff which uses an extra mask layer. This done was done without needing that in some way?


[10/03/2025 22:29] rtimothyedwards_19428
Making a working eFuse device is not trivial.  Without a passivation window over the device, you will just melt the material in place and it will re-solidify in place.  [Warning:  misinformation.  Corrected in the discussion with Egor Lukyanchenko, below. Passivation windows are for laser-trimmed fuses.]


[10/03/2025 22:32] mithro_
@Tim Edwards - There are claims it works but it is nontrivial to test due to missing metal connections in the test chip. I recently sent Andrew Zonenberg a couple of the parts that @Egor Lukyanchenko sent me to look at.


[10/03/2025 22:38] mithro_
Also, I'm very interested in sourcing known-good-die for SPI flash parts that we can then wire bond to the custom silicon.


[10/03/2025 22:44] rebelmike
Feels like it would fairly simple just to assemble a flash chip onto the CoB PCB?


[10/03/2025 23:19] mithro_
True, I guess. Was just hoping to reduce the cost by avoiding packaging.


[10/03/2025 23:33] mithro_
BTW I'll be travelling most of next week from Sunday (going Chicago->Singapore->Adelaide).

{Reactions}
ðŸ˜¯

[10/04/2025 04:03] mithro_
I'm currently tracking a few other metrics like number of subscribers and such. 

It will be interesting to see what happens when we have a submission platform up and running. If if people submit designs to be verified without having purchased a slot or not.

{Reactions}
ðŸ‘Œ

[10/04/2025 04:05] mithro_
Seems reasonable to me. Why not give it a go? ðŸ™‚


[10/04/2025 05:13] hardwall
I think he was advising me how a reasonable risc-v would look like. I've been probing around the idea.


[10/04/2025 07:12] egorxe
Hi, @Tim Edwards and everyone else here! Why do you think a passivation window is required above the fuse? Fuse material is not melted per se but is â€œmovedâ€ by electromigration after all. I'm not by any means an expert in technology myself, but the only requirement that is present in open source DRM is that there should be no metal1 and metal2 above the fuse. I understand that the opensource DRM and DRC rules could be incomplete in rarely used aspects like eFuse, but during OpenMPW-GF0 my chip with the eFuse block adhering to these rules was accepted and manufactured, so I guess it passed an official factory DRC with Calibre or something. Unfortunately that chip had a fatal flaw with the power supply for eFuse which I missed due to device level LVS being absent from the tapeout script for GF180 at that time, and the fixed chip was not accepted for the GF1 run. The only way to test the eFuse on the GF0 chip was by decapping it and restoring eFuse power one way or another. Iâ€™ve sent @Tim 'mithro' Ansell some of my GF0 chips and described this powering and testing procedure in detail [here](https://docs.google.com/document/d/1O9qWxHJzb4RIqjDzd3Dr9FddIsH_DiyjSaHewqEm0X4/edit?tab=t.0#heading=h.oi68oexfhjcr).

{Embed}
https://docs.google.com/document/d/1O9qWxHJzb4RIqjDzd3Dr9FddIsH_DiyjSaHewqEm0X4/edit?tab=t.0
GFMPW-0 E6 chip eFuse patching
GFMPW-0 E6 chip eFuse patching  General chip description Similar to all OpenMPW chips, E6 consists of a Caravel test harness (MCU + padring) and a user area. The user area contains two parts: simple FPGA fabric organised as 14 logic blocks with 8 LUT4 in each of them (left part on fig.1) and eFus...
general_media/AHkbwyINja4c71CC6jw4-QlbASD9Rpr4h8dhKZMxw0-9C6EA


[10/04/2025 07:12] egorxe
As far as I know one of the chips was decapped but the eFuse powering was not attempted, probably Tim knows more about it. But Iâ€™ve personally tested a single chip patched this way earlier. If I remember correctly, there were 128 bits of eFuse powered, around half of which Iâ€™ve blown writing something semi-random. I had only about a day to test the chip remotely, but during this whole time period (apart from several power downs to ensure nonvolatility) eFuse was constantly being read from Caravel in cycles and all the bits kept their state. 128 bits and one day is a tiny sample for sure, but due to constant reading each bit was sensed around a billion times which is quite a lot for a eFuse and there were 0 read errors. I understand that unless someone repeats this patching procedure, there is only my word about this short testing to trust here, but personally I am sure that it works to some extent. Fuses definitely do not solidify back in place, at least most of them do not as none of my ~64 programmed ones did. A couple of days ago I was contacted by Jonas Svennebring who is planning to lead the effort of creating a chip for testing several IPs to be launched on the first wafer.space run. We agreed to work on putting several eFuse memory blocks created with my updated eFuse compiler to characterize eFuse performance and reliability. So hopefully weâ€™ll have more reliable information about eFuse after the first wafer.space chips arrive. If anyone has some knowledge which could help to make eFuse more reliable or could help in any other way I would be very grateful.


[10/04/2025 07:31] egorxe
Regarding the eFuse mask, some fuse masks are listed as optional [here](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_04_3.html). But probably these are some other fuses, cause layer numbers do not match eFuse ones and it mentions "Top plate of MIM capacitors". As my chip was manufactured during GF0 I assumed that the mask (masks?) necessary for eFuse was present during the run, not sure if it was ordered separately or was included by default. @Tim 'mithro' Ansell do you have a way to check with GF if eFuse masks will be available during planned wafer.space run? Cause if not, there is no reason for me and Jonas to work on putting eFuse on the test chip.


[10/04/2025 08:53] egorxe
As for using eFuse as a MCU ROM or something similar, I think it could be done. Although an eFuse cell has a limited number of read cycles (~10^7-10^9 depending on technology and a testing methodology based on open info) which makes it unsuitable for such tasks directly, it's quite easy to create an eFuse-SRAM hybrid. By copying whole eFuse contents to SRAM after powerup and reading only from SRAM afterwards it's possible to mitigate this limitation for read-heavy uses. Drawbacks are obvious: higher power, startup delay and ~1.5x lower density than a raw eFuse. But I estimate that it's still possible to achieve a density of ~6 kbits/mm^2 which makes small MCU ROMs feasible. Especially because if I'm not mistaken it's currently the only option for post-fabrication programmable ROM.


[10/04/2025 13:56] rebelmike
I would be up for helping create some kind of template that had a rough shape like this - with the aim of giving people a decent Risc-V SoC to add custom logic to.  Though not for this shuttle as I don't have much free time before the deadline and I'm already aiming to get a version of TinyQV using the SRAM block on to the Tiny Tapeout submission, and also a different Risc-V SoC on the next sky130 TT shuttle.


[10/04/2025 14:00] rebelmike
I think if I were to do something towards this in the timeframe of this shuttle it would be to create a cache + QSPI controller and get it into a TT slot.  I think there's an efabless project that @mole99 used in Greyhound that would make a reasonable starting point.


[10/04/2025 14:07] rebelmike
Also these projects are a hobby for me, so the price is way out of range, and I also wouldn't want 1000 chips!  So would need to either find 20+ people to split the cost and chips with Tiny Tapeout style, or for this to be sponsored on the basis that creating and proving a template like this would be useful.


[10/04/2025 14:25] tholin
I think its totally feasible for me to develop an Arduino-like single-board solution for my AS2650-2 MCU, including being able to update its flash over USB.


[10/04/2025 14:26] tholin
I'll be looking into that this weekend because I have so many of those chips and nothing to use them for as-is.


[10/04/2025 15:46] tholin
I believe its also totally possible to do so with my RISC-V core, but I don't have too many of those chips, so I'll wait until I get a wire bonder so I can use the raw dies for this instead, of which I have plenty.


[10/04/2025 18:29] rtimothyedwards_19428
@Egor Lukyanchenko :  I apologize, you are correct.  I have worked with laser trim fuses and efuses (in the long past---around 2007 or so), and I was conflating the two.  Laser trim fuses require a passivation window over the device, because the laser evaporates the material, which must have somewhere to go or it just melts and resolidifies, as I said.  But yes, eFuses involve the electromigration of the salicide off the top of the poly and are a different mechanism entirely.

The GF manual, as usual, is very difficult to read and does not help things at all by variously referring to the "eFuse", the "polyfuse", metal fuses, and OTP.  I still have not figured out what they mean by OTP.  However, by looking at the device/layer truth table, it looks to me like "polyfuse" and metal fuses both require a window and therefore one extra mask, whereas I don't see that the eFuse requires any additional mask, and is simply defined by a number of marker layers.

{Reactions}
ðŸ‘

[10/04/2025 18:32] urish
OTP = One time programable


[10/04/2025 18:32] rtimothyedwards_19428
The N+ poly fuse is apparently a laser trimmed fuse, I guess?
Also the GF manual further confuses things by referring to the MiM cap layer as "fuse top", which is a mystery to me (maybe a layer number reassignment that nobody cleanly fixed in the documentation?).

Anyway, the proof is that you have a working circuit, and as far as I know this was done on the Google/Efabless GF180MCU run without any additional masks.


[10/04/2025 18:33] rtimothyedwards_19428
@urish :  I know that OTP means "one-time programmable".  What I don't know is what OTP _device_ is being indicated by the OTP marker.  It doesn't seem to relate to anything else in the documentation.

{Reactions}
ðŸ‘

[10/04/2025 18:34] rtimothyedwards_19428
It does not seem to refer to either the eFuse or polyfuse devices, either of which could be referred to as OTP.  Reading it over again, I think it _might_ be referring to the metal (laser trim) fuse.


[10/04/2025 18:59] mithro_
@Tim Edwards / @Egor Lukyanchenko - I can take a look at the mask ordering form and see if I can figure out more info it that is useful.

{Reactions}
ðŸ‘

[10/04/2025 23:48] mithro_
Anyone able to figure out how to get the PDF linked from https://ieeexplore.ieee.org/document/11185233 ? (Which seems to be connected to a GitHub repo @ https://github.com/SJTU-YONGFU-RESEARCH-GRP/PDB-Physical-Design-Database/tree/main/layout/gf180 ).

{Embed}
https://github.com/SJTU-YONGFU-RESEARCH-GRP/PDB-Physical-Design-Database/tree/main/layout/gf180
PDB-Physical-Design-Database/layout/gf180 at main Â· SJTU-YONGFU-RE...
This repository presents the Physical Layout Database (PDB), a comprehensive collection of physical layouts encompassing diverse benchmark circuits and various layout dimensions. The layouts are me...
general_media/PDB-Physical-Design-Database-C1203


[10/05/2025 02:03] egorxe
Yeah, there are a lot of confusing terms in DRM, at least regarding OTP cells. To make things even more interesting there are some mentions of [MTP](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_10_13.html) and [NeoEE](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_10_15.html) cells. NeoEE seems to be a specific proprietary type of EEPROM, but MTP could refer to a number of things and I'm not sure if it's possible to devise a working MTP cell just from these geometry limitations in DRM.


[10/05/2025 02:17] egorxe
It's downloadable from [here](https://ieeexplore.ieee.org/xpl/tocresult.jsp?isnumber=10677474) probably cause it's early access.


[10/05/2025 05:33] mithro_
I still don't seem to be able to download a PDF from there? That second page just seems to take me back to the first page?


[10/05/2025 05:37] egorxe
For me it worked from that page. Here is the pdf.

{Attachments}
general_media/Descriptor_Physical_Design_Database_PDB-11771.pdf


[10/05/2025 05:38] mithro_
Maybe IEEE is just blocking me for some reason or something...


[10/05/2025 05:42] egorxe
It's an open access article, so should be available to everyone. May be [direct PDF link](https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=11185233) will work for you?


[10/05/2025 05:43] mithro_
That one works!

{Reactions}
ðŸ‘

[10/05/2025 20:56] dshadoff
Mithro, you had said somewhere that buying a 1,000 chip run could be broken down to 100 for first pass, 100 for validation, and then something like 500 for actual products (or something like that).
On the CrowdSupply livestream, you mentioned how it could scale up (and cost down), but how would it work for test/validaiton iterations (without forcing $7K per attempt) ?


[10/05/2025 21:01] 246tnt
I think he meant for the full product, not for the chip alone.  Like you make 1000 asic. Then you build 100 of your product using that chip for the first pass. But you can't revise the chip, only what you put around it.


[10/05/2025 21:07] dshadoff
Well, fully-digital designs can be validate in FPGA, but mixed-signal would be much more complicated


[10/05/2025 21:07] dshadoff
So I think it's reasonable to assume that initial design would need modifications.


[10/05/2025 21:11] 246tnt
Yes, I would expect so. But NRE on making 1k chips are still the bulk of the price vs the per wafers cost, so you won't get any real price cut by making only 100.


[10/05/2025 21:12] dshadoff
Don't get me wrong - I'm not complaining about $7K being a lot of money for a working design.  It's just a lot of money if the design doesn't work.


[10/05/2025 21:12] 246tnt
Testing sub-modules on real silicon at lower cost is a good use of Tiny Tapeout if you can make your IP fit its constraints.


[10/05/2025 21:13] 246tnt
That at least could allow to check it's not DOA and shows signs of life, even if you can't necessarely do full caracterization.


[10/05/2025 21:14] dshadoff
I could pull $7K out of my own pocket, but 3 iterations ... not so much.  So I'd be looking for a small team of like-minded people.


[10/05/2025 21:14] dshadoff
Anyway, I'm only asking because the comment itself piqued my interest.  If it was misunderstood, then mea culpa.


[10/06/2025 00:15] algofoogle
There will always be people (including me) who are on the lookout for sharing the cost and who only need a smaller number of parts. I (and many others here) have helped assemble single chips that contain multiple designs that share the majority of available pins. TT is the extreme of this and a great way to do it at super low cost/risk, but if you need more like 10%-25% of the total area and more like 30+ signal pins, then (say) $2000 has the potential to get you much greater value on this sort of platform than it does on TTâ€¦ itâ€™s just a higher barrier to entry in terms of integrating, and higher risk that your design could break the chip for everyone else


[10/06/2025 00:34] dshadoff
Thanks, this is helpful


[10/06/2025 00:37] algofoogle
@Tim 'mithro' Ansell maybe a dedicated â€œspace sharingâ€ channel would be in demand, unless that erodes your revenue potential. Anyone embarking on this should be prepared to accept the risk, btw, and be aware that someone will spend long hours just trying to make sure everyoneâ€™s projects cooperateâ€¦ lots of cat-herding unless you know the others involved well


[10/06/2025 00:39] algofoogle
I was lucky to have great parties to the GFMPW-1 chip I integrated and had fabbed, but Iâ€™ve seen others who clashed/struggled and some on other chips who didnâ€™t pull their weightâ€¦ or simply werenâ€™t available at the right times to answer questions about their design, etc.


[10/06/2025 03:07] mithro_
That is why I'm excited about the work with Tiny Tapeouts, gives you an even cheaper way to test out ideas and verify things before you make the larger commitment.


[10/06/2025 03:09] mithro_
As Anton also mentioned, getting you back a large number of parts allows you to share a slot with other people and still get back a useful number of parts.


[10/06/2025 03:13] mithro_
You can also probably mitigate a bunch of risks by having multiple pad frames on one chip.


[10/06/2025 03:15] mithro_
I'm also at the airport, so probably won't be responding for the next day or so.

{Reactions}
ðŸ‘ (3)

[10/06/2025 08:25] algofoogle
For people needing bonding (i.e. most customers??) it seems going with the â€œstandardâ€ pad placement (that is, the one that would be used by TT) might be the affordable way to go, if it means the engineering is already done and the chip-on-board provider is set up for it within the $8500 price. Otherwise, having each designâ€™s own padrings (for shared submissions) is probably a good idea. One idea to reduce the bonding cost in that case MIGHT be to have a quarter-size padring which is symmetrical in such a way that it is placed within each quadrant and the whole die can be rotated 0, 90, 180, and 270 degrees and the pads will end up in exactly the same place.


[10/06/2025 08:42] mole99 (pinned)
By the end of this week, I would like to send a test reticle to GF in order to receive feedback on the sealring, the filler generation and the reticle itself.

If anyone has a project ready with the [gf180mcu-project-template](https://github.com/wafer-space/gf180mcu-project-template), I can include it in this "virtual tapeout". This way, you can also get early feedback on whether your design is manufacturable or if the open source DRC deck missed an issue.

@Tholin, if I remember correctly, you were planning to have something ready? I'll improve the filler generation this week, but you can already use the template and update it on Friday to get the latest changes.


[10/06/2025 09:06] mithro_
Pinned a message.


[10/06/2025 12:43] tholin
Ah, I was busy fixing DRC errors in my SCL


[10/06/2025 12:43] tholin
Which should be done now, actually.


[10/06/2025 12:43] tholin
I even had errors inside the cells themselves, which only showed in KLayout.


[10/06/2025 12:44] tholin
Most if not all of the DRC errors should now be gone.


[10/06/2025 15:16] tholin
Iâ€™m not sure if I have enough time now. Iâ€™ve been focusing on other things. Iâ€™ll try.


[10/06/2025 15:28] tholin
Iâ€™m also kinda waiting for the template to become usable in iic-osic-tools, which it currently isnâ€™t. I work on my designs on both my PC and my Laptop and need a portable setup for all the tools without a fuss, and iic-osci-tools gives me that.


[10/06/2025 18:23] mole99
No worries, if you have something ready by then, just let me know.


[10/06/2025 18:23] mole99
It will still be a while until all of the changes have been upstreamed to both LibreLane and the PDK, and then you'll need to wait for a new release of the IIC-OSIC-TOOLS.

I would highly recommend using Nix, as it gives you a much better control over your tools. I also started out with OpenLane 1 using Docker, however, once I switched to Nix for OpenLane 2 and now LibreLane, I never looked back.

It's much easier to change the version of individual tools, you can create an environment that is reproducible, and you get the best performance :)

Please consider giving it a try: https://librelane.readthedocs.io/en/latest/getting_started/common/nix_installation/index.html


[10/06/2025 18:26] tholin
I guess I'll have to


[10/06/2025 18:30] tholin
I prefer docker images because they're easy to set up and easy to remove


[10/07/2025 14:05] tholin
Adding more cells to my 3.3v SCL again finally.


[10/07/2025 14:06] tholin
Its just gonna be a big heap of AOI and OAI parts for the next few days.


[10/08/2025 00:22] mithro_
The whole AOI/OAI/etc cells seems like ripe for some type of automation.


[10/08/2025 09:41] tholin
I don't see how. Implementing that would just take longer than me doing it myself.


[10/08/2025 09:47] tholin
If you want cells of perfect performance and density, I don't believe there is a way to get that through computer code. Not without more effort than its worth, since every PDK has its own rules and quirks and so you'll need to update the entire codebase for each new one.


[10/08/2025 10:10] algofoogle
Is automated generation of standard cell layouts something @htamas worked on, experimentally? https://github.com/htfab/cell-tester

{Embed}
https://github.com/htfab/cell-tester
GitHub - htfab/cell-tester
Contribute to htfab/cell-tester development by creating an account on GitHub.
general_media/cell-tester-2A6B9


[10/08/2025 10:10] 246tnt
C4M has some code to generate cells automatically based on rule set, but I agree with @Tholin that this won't yield the best layout possible. It's all a trade-off ...  I'll be interesting to see the delta.


[10/08/2025 13:10] mithro_
If you are in Australia, there is now a FOSSi Foundation event -> https://fossi-foundation.org/downunderflow/2026

{Embed}
https://fossi-foundation.org/downunderflow/2026
Down Underflow 2026: February 28, 2026 in Sydney, Australia
The Down Underflow conference is a weekend of presentations and networking
dedicated to free and open source silicon. It's an event for the open
source semiconductor community, and is run by volunteers from the FOSSi Foundation.

Down Underflow 2026 is on Saturday February 28, 2026 in Sydney, Australia.

{Reactions}
ðŸŽ‰ (3)

[10/09/2025 11:44] mithro_
About to give a talk in Singapore at Hackware -> https://engineers.sg/organization/hackware--111

{Embed}
https://engineers.sg/organization/hackware--111
Organization: Hackware - Engineers.SG
Hackware is a monthly meetup for hardware developers and enthusiasts to share hacks and developments in the hardware scene, promote hardware development and to build a community of hardware developers.

Our talks typically include projects by speakers on electronics, embedded system, radio communications, internet of things and much more!
general_media/square-cover-9ABFC.jpg

{Reactions}
ðŸ’œ

[10/09/2025 12:43] tholin
Iâ€™m having troubles with the template. Its been stuck on "Filler Generation" for almost an hour, I think, and thatâ€™s probably because half of its memory usage is in Swap by now.


[10/09/2025 12:44] 246tnt
I never tried on GF180 but on IHP, fill takes a while and yeah, needs a _lot_ of ram. If you don't have the physical ram for it, you can forget it. Use a VM on some cloud provider or that'll never finish.


[10/09/2025 12:45] tholin
What does this step even do?


[10/09/2025 12:45] 246tnt
It add small rectangles all over the place to meet the density requirements of each layer, making sure all those dummy rectangle don't interfere with the rest of the circuit ...


[10/09/2025 12:48] tholin
Ah yes, minimum density requirements


[10/09/2025 12:48] tholin
I think I ran into that before, but on PCB layouts. Its weird.


[10/09/2025 12:49] tholin
JLC has some obscure minimum density rules, youâ€™re just unlikely to run into them in 99% of cases.


[10/09/2025 12:53] 246tnt
The density here to meet doesn't seem too bad ( 30% ) but there rules are a bit unusual vs sky130 because you have minimum distance between dummy metals and the metals from the layer above and below which is not the case in sk130/ihp.


[10/09/2025 13:00] tholin
I donâ€™t remember a Filler Generation step being required during GFMPW


[10/09/2025 13:01] 246tnt
It was done by the foundry or efabless.


[10/09/2025 13:02] 246tnt
Same for seal ring AFAIK.


[10/09/2025 16:22] mole99
Filler generation runs in tiled mode, meaning that KLayout assigns each CPU thread a part of the layout to work on.
The size of the tile and the maximum number of threads in use define the RAM usage.

These can be changed in `gf180mcu/gf180mcuD/libs.tech/klayout/tech/drc/filler_generation/`: `tile_size` is defined individually in each script, and `$threads` is defined in `fill_all.rb`.


[10/09/2025 16:22] tholin
Its pinning all my CPU threads at 100%, so this is definitely working.


[10/09/2025 16:23] tholin
The flow completed after 2 hours of runtime.


[10/09/2025 16:23] mole99
I'll add some proper variables to LibreLane. You should already be able to limit the threads directly in LibreLane, however that would also mean you limit the threads for detailed routing etc.


[10/09/2025 16:24] mole99
If you're swapping memory, then filler generation will take much longer than necessary.


[10/09/2025 16:25] mole99
Yes, sealring and filler cells were added by GF for the GFMPW runs


[10/09/2025 16:25] 246tnt
@mole99 Does the filling respect all those rules across metal layers ? I had never seen those before.


[10/09/2025 16:26] 246tnt
Things like `DM.4` ( https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_13_3.html )


[10/09/2025 16:27] mole99
The issue with the DRC rules with the layers above and below the dummy fill is that, since all standard cells contain poly2, you cannot insert any Metal1 fill. That's why, for now, I'm ignoring those rules... I'll see how far I get with that.


[10/09/2025 16:27] 246tnt
You really shouldn't need any M1 fill though, the standard cells should provide enough metal inside themselves ?


[10/09/2025 16:28] mole99
That might be true. However, if you have dense routing on any layer, that would also prevent you from generating any fill the layers above and below it.


[10/09/2025 16:29] mole99
I would like to know what is the reasoning behind this rule, maybe GF can asnwer me that once I submit the first reticle. Capacitive coupling perhaps? Or manufacturing reasons? ðŸ¤·â€â™‚ï¸


[10/09/2025 16:30] 246tnt
My guess would be capacitive coupling.


[10/09/2025 16:37] mole99
Which might be important to consider for sensitive analog designs, but not so much for digital. At least on sky130 and ihp-sg13g2 we didn't care much ^^


[10/09/2025 23:23] mbalestrini
I took some photos of a GFMPW-1 chip @Tim 'mithro' Ansell sent me.  
It's the A8, LeoSoC project: https://mbalestrini.github.io/chip_images/GFMPW-1-LeoSoc.html


[10/09/2025 23:31] mbalestrini


{Attachments}
general_media/gfmpw1-LeoSoC-20251009_143310-DSC02918-0BCD8.jpg
general_media/gfmpw1-LeoSoC-20251005_200650-DSC02901-60FC6.jpg
general_media/gfmpw1-LeoSoC-20251005_185755-DSC02884-F8F7B.jpg
general_media/gfmpw1-LeoSoC-20251005_193852-DSC02897-729AB.jpg

{Reactions}
ðŸ¤¤ (3)

[10/10/2025 02:02] algofoogle
So good, Maximo!

{Reactions}
â¤ï¸

[10/10/2025 06:21] mole99
Beautiful photos!
Thank you for taking them, Maximo ðŸ™Œ

{Reactions}
â¤ï¸

[10/10/2025 06:26] 246tnt
What's you setup for taking those ?


[10/10/2025 10:38] tholin
@mole99 I think I do have a GDSII for you for the virtual tapeout. I donâ€™t like having standard cells in my top-level layout and prefer the efabless user project area setup where its just placing and connecting macros. So I replicated that and I can give the GDSII for that for checking.


[10/10/2025 12:53] mole99
@Tholin, that would be great! That's fine, as long as you're using the project template. The reason is, the project template prepares the GDS with everything needed for tapeout, including sealring and filler cells. It also adds a QR code in the bottom left corner of the die, which will be replaced by the precheck with the actual ID. I might do some more changes on the filler generation before sending it out, so I might need to regenerate your project locally.
Please create a fork of the project template repository, customise it to your needs and share it with me.


[10/10/2025 13:06] tholin
Running the precheck locally is kinda difficult right now, btw, because `nix-shell` starts building stuff from source.


[10/10/2025 13:52] mole99
There's no need to run the precheck now. I'll do some more work on it after the virtual tapeout.

Simply building the design using the project template is fine. However, there OpenROAD also needs to be build when calling `nix-shell`. This is because we're currently using a branch of LibreLane and therefore not all binaries are cached. This will improve once most of the changes have been upstreamed.


[10/10/2025 14:07] mbalestrini
This time I used a Sony A7C2
Most of the photos were taken with this 50mm 1.8 Sony lens and some 3d printed extension tubes (the problem is that I can't control focus or aperture with that lens and the extensions)
I also use an old Minolta macro lens which gives me more control, but I think is not that sharp
For lightning I mostly use a led flashlight and in a couple of these direct sunlight

{Attachments}
general_media/PXL_20251010_135904851-12305.jpg

{Reactions}
ðŸ‘ (3)

[10/10/2025 14:25] 246tnt
I need to get myself some extension tubes, see what I can capture wihth that.

{Reactions}
ðŸ¤ž

[10/10/2025 23:02] tholin
Here 'ya go!
https://github.com/AvalonSemiconductors/ws-submission-2025


[10/10/2025 23:03] tholin
Let me know if there is any problems with it, otherwise I will continue to develop this repo into a proper submission. Iâ€™ll (hopefully) have a slot in the december tapeout.


[10/11/2025 03:25] storborg
Do you have a process for cleaning the die before shooting?


[10/11/2025 04:36] furanfuranfuran
greetings


[10/11/2025 07:30] mithro_
Video from my talk in Singapore is now up at https://www.youtube.com/watch?v=0nqV9Eo17wA

{Embed}
Engineers.SG
https://www.youtube.com/watch?v=0nqV9Eo17wA
Open source silicon and wafer.space - $7k for 1,000 custom ICs - Ha...
Speaker: Tim Ansel

Event Page: https://www.facebook.com/events/759331036899554

Produced by Engineers.SG
general_media/maxresdefault-DD65E.jpg

{Reactions}
ðŸ‘ (4) ðŸ”¥ (2)

[10/11/2025 08:08] mole99
Started a thread.


[10/11/2025 14:01] mbalestrini
No, I have to find one. These one were decently clean so I took the photos before trying to clean them


[10/11/2025 15:40] polyfractal
just finished the Amp Hour episode, really interesting! Was fun to hear some more of the backstory and general thoughts on the project ðŸ™‚

{Reactions}
ðŸ’œ

[10/11/2025 15:51] anfroholic
:bitmap:


[10/11/2025 15:51] anfroholic
:bitmap:


[10/11/2025 15:53] anfroholic
:waferspace:

{Reactions}
waferspace

[10/11/2025 15:54] anfroholic
:waferspace:


[10/11/2025 15:55] anfroholic
Didn't realize it posted things. Anyways.. New Emoji!!

{Reactions}
waferspace (8)

[10/12/2025 03:30] mithro_
At some point I'm going to have to do an animated version of that logo.


[10/12/2025 03:31] anfroholic
That would be sweet!!


[10/12/2025 07:32] urish
Yes please


[10/14/2025 17:48] hardwall
I'm curious if you tried reaching out to other open source silicon  initiatives like ZeroRisc? There seems to be some movement in that direction from other people as well.


[10/15/2025 01:10] mithro_
I was in contact with the OpenTitan team when I was at Google but haven't really been following them since the first round of Google layoffs hit them. I did talk to someone from LowRISC at LatchUp.


[10/15/2025 01:11] mithro_
Feel free to forward things their way if you have contacts


[10/17/2025 08:44] always_ff_rohan
can we get a full 4k wallpaper version?


[10/17/2025 13:11] mbalestrini
On the web you can download the full camera resolution version: https://mbalestrini.github.io/chip_images

{Reactions}
ðŸ‘

[10/17/2025 13:12] mbalestrini
Some are cropped so they have less pixels


[10/18/2025 03:52] anfroholic
@mbalestrini These are really wonderful. 
Would you mind if we posted these other places?


[10/18/2025 13:09] mbalestrini
You can use them! 
All the photos I upload to that page have a Creative Commons CC0 license

{Reactions}
ðŸ’œ (2)

[10/18/2025 13:10] anfroholic
Thank you!!


[10/18/2025 13:12] mbalestrini
You can get the photos from the repo also: https://github.com/mbalestrini/chip_images

{Embed}
https://github.com/mbalestrini/chip_images
GitHub - mbalestrini/chip_images: Collection of photos and videos r...
Collection of photos and videos related to the Google's sponsored Open MPW Shuttle Program - mbalestrini/chip_images
general_media/chip_images-2D357

{Reactions}
ðŸ’œ

[10/26/2025 06:20] mithro_
BTW Bits of https://platform.wafer.space could use testing, checking the login works for you. Check the upload flow works, etc.

{Embed}
https://platform.wafer.space/
Welcome to wafer.space
â€¦
Platform for wafer.space low cost silicon manufacturing.


[10/26/2025 07:35] anfroholic
I created an account using Github and it all seemed to work well for me


[10/26/2025 13:53] tholin
Same


[10/26/2025 13:54] tholin
How is this platform site being developed? Is there a GitHub repo for it?


[10/26/2025 14:23] anfroholic
Afaik @Tim 'mithro' Ansell is doing most of the development. I don't believe it's open.


[10/26/2025 14:25] tholin
Ah. I was going to offer some help. I do have almost 6 years of professional web dev experience, even though its not my favorite thing.

{Reactions}
ðŸ’œ

[10/27/2025 02:39] mithro_
I do plan to have the platform public under an Apache 2.0 license.


[10/27/2025 02:39] mithro_
Mostly developed myself with Claude Code.


[10/27/2025 02:54] mithro_
@Tholin - I think it makes more sense for you to concentrate on doing more cool silicon stuff rather than boring webdev work.


[10/27/2025 12:00] tholin
Webdev isnâ€™t necessarily boring - especially when its about ensuring peopleâ€™s cool silicon project files make it to the fab safe and sound.


[10/27/2025 13:37] mole99
Started a thread.


[10/27/2025 13:45] tholin
Thrown together in two hours: python script that automatically generates a padout diagram that is *roughly* to-scale from a librelane config.
https://github.com/AvalonSemiconductors/ws-submission-2025/blob/main/padout_gen.py

{Reactions}
ðŸ‘ (2)

[10/27/2025 13:45] tholin


{Attachments}
general_media/padout-BB965.png


[10/27/2025 15:35] anfroholic
This is awesome!! 
Tim has been asking me about creating a second option for a standard padring/cob. Do you have any requests/ recommendations/ insights?


[10/27/2025 15:38] tholin
The current padring in the template is incompatible with DIP-40 ceramic carriers as there is no VDD pad aligned with Pin 40 and no VSS pad aligned with Pin 20.


[10/27/2025 15:38] tholin
Although the latter is less severe


[10/27/2025 15:38] tholin
That is my only complaint

{Reactions}
ðŸ’œ

[10/27/2025 15:39] tholin
I guess you can also put the VDD and VSS on other pins, but thatâ€™d be going against the de facto convention.


[10/27/2025 15:48] anfroholic
So you're looking to bond the die directly to a carrier like this? 
Or you're wanting a pcb that has a matching pinout (like what you have drawn before?) 

> I guess you can also put the VDD and VSS on other pins, but thatâ€™d be going against the de facto convention.
There really are no real standards yet, and that's what I'm trying to get to the bottom of. 

Even within the 74pad standard we're already seeing variations like @peterkinget and his students here: https://discord.com/channels/1361349522684510449/1429068742108909638/1429520076536811622

I guess that I'm just missing some vital information, which really needs to come from the wirebonders and their needs/ desires. 
Thank you

{Attachments}
general_media/Untitled-E3E7D.jpg


[10/27/2025 15:53] tholin
I do mean one of those carriers


[10/27/2025 15:57] tholin
Generally, VDD is in the top-right corner and VSS in the bottom-left corner of most DIP chips.


[10/27/2025 15:59] tholin
For my multi-project die, I have fully customized the padring at this point. I have three designs on there that can go into DIP-40 packages, with the added difficulty that each has to have the clock pin in a different place. So I had to get a bit creative with placement of the clock pad so bond wires can reach it from all those possible pins.


[10/27/2025 16:01] tholin
NOT to scale

{Attachments}
general_media/pads-CD341.png


[10/27/2025 16:11] tholin
Itâ€™ll probably be a while until I can get my hands on any DIP carriers. Sometimes some show up on ebay randomly, but the actual source only has "Request Quote" on the website with mandatory "Company Information" fields. Typical.


[10/27/2025 16:11] tholin
Whenever I see that, I just choose to interpret that as "Too expensive to bother anyways"


[10/27/2025 16:12] tholin
But itâ€™d be fun to experiment with if I ever manage to source some.


[10/27/2025 16:12] tholin
Would look so cool on a demo board.

{Reactions}
ðŸ’œ

[10/27/2025 17:16] markemer
8.5 bucks a chip with wirebonding or 7 bucks without is tempting as hell. I think I could sell them (provided I ship a design that works) - just gotta get that cash together.

{Reactions}
ðŸ’œ

[10/27/2025 17:17] markemer
Has anyone ever done packaging as an OEM. I did package design at IBM and wirebonding in gradschool, but never actually got like a DIP or QFN made


[10/27/2025 17:17] markemer
are their vendors for that that won't cost more than the damn chip manufacturing?


[10/27/2025 17:29] anfroholic
You can join the discussion in #cob where we're talking about packaging as a chip-on-board. 
Currently it seems the frontrunner is to have a 74pad die wirebonded to a breakout attached to a 70pin mezzanine connector.

{Reactions}
â¤ï¸

[10/27/2025 19:21] anfroholic
New update just dropped:
## Professional Design Support: Your Options for GF180MCU Success
read it [here](https://www.crowdsupply.com/wafer-space/gf180mcu-run-1/updates/getting-help)

{Embed}
https://www.crowdsupply.com/wafer-space/gf180mcu-run-1/updates/getting-help
Professional Design Support: Your Options for GF180MCU Success
Professional paid engineering services are available if you want to accelerate your timeline, get expert review, or have someone handle parts (or all) of your design.
general_media/wafer-space-getting-help_png_open-graph-600AB.jpg


[10/27/2025 19:23] tholin
Since I have the most experience with GF180MCU, I do wonder if there is any knowledge I could pass on in the form of guides. I just donâ€™t know what that would be.


[10/27/2025 19:25] tholin
I wonder if it'd be worth mentioning that tons of reference designs already exist to clone and use, whether in whole or in part. I donâ€™t license all my projects Apache 2.0 for nothing.


[10/27/2025 19:27] anfroholic
For sure! I think @Tim 'mithro' Ansell is still looking for a few more topics for updates. 
I had floated the idea of edit:*[features of]* TinyTapeout and MosBius but would love to add some of yours as well!!


[10/27/2025 19:28] tholin
The only thing I have that I am proud of that is ready to use would be the components of the AS2650v2 microcontroller.


[10/27/2025 19:28] anfroholic
Sweet!!


[10/27/2025 19:28] tholin
Its fully verified


[10/27/2025 19:28] tholin
And uses the fab SRAM macros


[10/27/2025 19:28] tholin
I think very people managed to figure out how to even use those


[10/27/2025 19:29] tholin
If anyone ever asks about the fab SRAM, I just direct them to my repo:
https://github.com/AvalonSemiconductors/AS2650

{Reactions}
ðŸ’œ (2)

[10/27/2025 19:30] anfroholic
This is ready for GF180MCU?


[10/27/2025 19:31] anfroholic
I've added this in his stuff,
Thank you!!


[10/27/2025 19:32] tholin
Yeah. I taped this out @ GFMPW-1 and Tim has samples of it. Though keep in mind that the repo was thus made with the efabless caravel user project.


[10/27/2025 19:32] tholin
I could port it to the wafer.space template if demand exists.

{Reactions}
ðŸ’œ (2)

[10/27/2025 19:32] anfroholic
Up to Tim really. I like the sound of it though!


[10/28/2025 03:25] mithro_
@Tholin / @mole99 - I just made the repo public


[10/28/2025 14:11] tholin
Okay, so, this multi-project die is going to contain replicas of old retro chips and some of those are actually clocked on the negative clock edge. I wish to be cycle-accurate, so I am wanting to preserve that behavior. But LibreLane kinda doesnâ€™t like it if I use negedge.

{Reactions}
ðŸ’œ (2)

[10/28/2025 14:11] tholin
I believe its still constraining the top-level module output ports to the positive clock edge.


[10/28/2025 18:03] rebelmike
You'll need to tweak the sdc - something like this: https://github.com/TinyTapeout/ttsky25a-tinyQV/blob/main/src/base.sdc#L25-L26


[10/30/2025 19:00] anfroholic
A really cool talk from @bunnie from Teardown where's he's talking about getting back into silicon was just uploaded.
Thanks for doing this talk bunnie, it was super cool. Love the  computer architecture and your inter-processor network, so cool!
Also a small namedrop for wafer.space at 29:21 
https://www.youtube.com/watch?v=pxQCApAAT0s

{Embed}
Crowd Supply
https://www.youtube.com/watch?v=pxQCApAAT0s
Teardown 2025 - bunnie - Trusting Hardware
Noted hacker, designer,  product creator, and author (Precursor, Novena, "The Essential Guide to Electronics in Shenzen") bunnie Huang shares his experiences researching how to establish trust in hardware.

*About the Speaker*
bunnie is best known for his work hacking the Microsoft Xbox, as well as for his efforts designing, manufacturing and wr...
general_media/maxresdefault-E02E5.jpg

{Reactions}
ðŸ’š â¤ï¸ (4)

[11/02/2025 17:54] mattvenn
Great talk thanks for sharing, I probably would have missed it otherwise


[11/03/2025 01:13] tholin
I finished porting the AS2650v2 to the wafer.space template. Although Iâ€™m not planning to tape this out, its a good reference:
https://github.com/AvalonSemiconductors/as2650-ws

{Embed}
https://github.com/AvalonSemiconductors/as2650-ws
GitHub - AvalonSemiconductors/as2650-ws: AS2650v2 on wafer.space te...
AS2650v2 on wafer.space template. Contribute to AvalonSemiconductors/as2650-ws development by creating an account on GitHub.
general_media/as2650-ws-B2F77

{Reactions}
ðŸ’œ (2)

[11/03/2025 12:50] tholin
Look how much free space there is without caravel!

{Attachments}
general_media/image-F5A5A.png

{Reactions}
ðŸŽ‰ (4)

[11/03/2025 12:51] tholin
With enough effort, you could easily double the amount of on-die RAM to 8KiB, but there is also 16 unused pads here as there is more of those too, so could fit more peripherals.


[11/03/2025 12:51] tholin
I am very happy I designed a extendable bus interface for the peripherals.


[11/03/2025 13:02] tholin
Running DRC on this takes more than the 32GB of RAM in my PC, so I have yet to actually see a top-level flow complete on this.


[11/03/2025 13:02] tholin
I will spin up an AWS instance with 128GB of RAM later and hopefully it completes.


[11/03/2025 13:02] tholin
Youâ€™ll see me commit the final outputs into the repo if I succeeded.


[11/03/2025 13:04] mole99
Maybe don't commit to the repo as it will bloat the git history, instead maybe as a release?


[11/03/2025 13:06] tholin
Or that


[11/03/2025 13:26] tholin
I did *not* take that much RAM to build user_project_wrapper during GFMPW


[11/03/2025 13:31] mole99
Steps like filler generation were done by Efabless at the time.
However, if you think a step takes too much RAM for its purpose, please let me know.


[11/03/2025 13:35] tholin
Yeah, I didnâ€™t consider that it now has to check all the fillers.


[11/03/2025 13:35] tholin
I have my own concerns about those. Like, afraid that the fillers will interfere with any artwork on the die.


[11/03/2025 13:36] tholin
Ideally, Iâ€™d like the option to block fillers on a specific layer only, instead of every layer at once using fillblock. The artwork pixels themselves would create the required density on whichever layer it is on.


[11/03/2025 13:49] mole99
Unfortunately, this PDK does not provide layers to block fill on specific layers only.
There's NDMY and PMNDMY (https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_10_08.html).


[11/03/2025 14:34] tholin
I forgot that the SRAM macros generate magic DRC errors.

{Attachments}
general_media/image-40898.png


[11/03/2025 14:34] tholin
I think the LVS errors are from the logo.


[11/03/2025 14:35] tholin
Yes


[11/03/2025 14:35] tholin
Okay, I can fix that


[11/03/2025 14:35] tholin
Just missing some config lines


[11/03/2025 14:36] tholin
There is a layer in the GDSII file called "SRAM_CORE" or something like that, that is probably a DRC exclude.


[11/03/2025 14:36] tholin
Magic seems to ignore it right now. Klayout appears aware and does not generate DRC errors.


[11/03/2025 14:37] tholin
"SramCore 108/5"


[11/03/2025 14:37] tholin
Thatâ€™s it


[11/03/2025 14:48] mole99
Yes, there are special rules for SRAM:
- [5V SRAM](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_11_1.html)
- [3.3V SRAM](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_11_2.html)


[11/03/2025 14:48] mole99
Maybe @Tim Edwards could look into adding them to the magic DRC deck, or simply ignore DRC errors in these areas (KLayout also checks them).


[11/03/2025 17:39] rtimothyedwards_19428
1) What 3.3V SRAM?
2) Yes, the usual method is to replace the SRAM with an abstract view.  For the foundry-supplied 5V SRAMs, the PDK creates a .mag view in `maglef/` that is DRC clean and points to the GDS data for the SRAM.  That is the appropriate one to have in the layout while running full DRC.


[11/03/2025 17:51] mole99
There are none in the PDK yet, but with Staf Verhaegen's SRAM generator we could try to generate them.

2. I was thinking more along the lines of excluding all areas marked by `SramCore` from the default DRC rules. This way all SRAM macros (and future generated ones) won't result in any violations. We should still check the layout with the KLayout rules, of course.
  I will try to blackbox the foundry SRAMs for now, I even created a LibreLane PR for that some time ago: https://github.com/librelane/librelane/pull/786


[11/03/2025 18:18] tholin
I opened one of the SRAM macros in magic on its own. There are DRC errors outside the region marked as "SramCore" also.


[11/03/2025 18:36] 246tnt
Those are illegal overlap but they are "fixed" by using the appropriate gds flat glob options when loading the GDS. IIRC Leo already set that up.


[11/03/2025 19:08] rtimothyedwards_19428
The abstract view is of the entire SRAM macro, so if you use that, it should resolve all issues whether or not they exist in the core cell.

{Reactions}
ðŸ‘ (2)

[11/03/2025 19:30] mole99
I've set those up for the I/O and filler cells: https://github.com/wafer-space/gf180mcu-project-template/blob/6c5025a5e572e6c65f1c677966f37575acb1e52a/librelane/config.yaml#L192
Maybe the `_CDNS_` also fixes the issue for the SRAMs.


[11/03/2025 20:17] anfroholic
Awesome video from @Matt Venn and Nanik Adnani who made some analog designs on gf180
https://www.youtube.com/watch?v=hVejMrkV-Bk

{Embed}
Zero To ASIC Course
https://www.youtube.com/watch?v=hVejMrkV-Bk
Get started with Analog - Interview with Nanik Adnani
take my analog course: https://www.zerotoasiccourse.com/analog/
Nanik's distortion ASIC: https://www.tinytapeout.com/chips/tt06/tt_um_guitar_pedal
Kelly Heaton's analog birds: https://www.kellyheatonstudio.com/deep-fake-birdsong

00:00 Intro 
00:55 Nanik Adnani 
01:52 Why analog 
03:46 Horizontal vs Vertical IP block s
09:20 Advice for getting i...
general_media/maxresdefault-F7575.jpg

{Reactions}
â¤ï¸

[11/03/2025 20:37] rtimothyedwards_19428
I changed the behavior of magic some revisions ago (after our discussion about the problem) to automatically seed the GDS reader with `flatglob "*_CDNS_*"` so that this would be taken care of by default for anyone with a sufficiently new version of magic.  But I don't think that will solve the issue with the SRAMs, because the "CDNS" string is a result of using Cadence pcells, and the SRAM module cells are not pcells.


[11/03/2025 20:41] mole99
Good to know! Then I can remove that flatglob.


[11/03/2025 23:57] mithro_
@mole99 - Any recommendation on how much memory the server needs to run the checks?


[11/04/2025 00:01] mithro_
@everyone - If people aren't already - I highly recommend signing up for the wafer.space GF180MCU Run 1 Crowd Supply campaign @ https://www.crowdsupply.com/wafer-space/gf180mcu-run-1

{Embed}
https://www.crowdsupply.com/wafer-space/gf180mcu-run-1
wafer.space GF180MCU Run 1
Fabricate 1,000 chips of your own design
general_media/gf180mcu-gelpack-dice_jpg_project-main-8DB90.jpg

{Reactions}
ðŸ’œ (3) waferspace (3) â¤ï¸ (3)

[11/04/2025 00:02] logic_anarchy
16 x SRAM 512x8 SP?


[11/04/2025 00:03] mithro_
https://docs.google.com/spreadsheets/d/1fW5ecBsLSec4hXBMaOjMUHQGslm4y-QUILgrxqS8MpA/edit?gid=0#gid=0

{Embed}
https://docs.google.com/spreadsheets/d/1fW5ecBsLSec4hXBMaOjMUHQGslm4y-QUILgrxqS8MpA/edit?gid=0
GF180MCU SRAM Sizing
general_media/AHkbwyKqD2ht0ZHWS4MwdEbyjiRfjwLzhUUEGzdYHx-2D881


[11/04/2025 00:04] mithro_
https://docs.google.com/document/d/1hk0WXCmQ8LYNhn8gIVs8vHymR2MleQx2ro_hQlyOYKU/edit?tab=t.0

{Embed}
https://docs.google.com/document/d/1hk0WXCmQ8LYNhn8gIVs8vHymR2MleQx2ro_hQlyOYKU/edit?tab=t.0
wafer.space - GF180MCU SRAM Maximizer
GF180MCU SRAM Maximizer Goal Work out the maximum amount of SRAM that is able to fit into the GF180MCU configuration.  Specification Layout as many SRAMs as possible that fit in a given die space.  Current die size - 3.88mm x 5.07mm     Die Size         Instances    Total  Wi...
general_media/AHkbwyKl3Bcw2QQwQMWE5-oRTurKo6fHLuRoA9SsGL-BDC10

{Reactions}
â¤ï¸

[11/04/2025 00:07] tholin
Could easily fit that much total, yeah

{Reactions}
â¤ï¸

[11/04/2025 00:07] tholin
But I think I will continue to rely on external memory for most things.


[11/04/2025 00:09] dnaltews
I'm definitely interested in this, but it's a little outside of my hobbyist budget at the moment (especially for pre-ordering when I don't have a specific design pretty far along).  Keeping an eye on it, but unlikely to be in on this first run.  Feedback, if useful: (a) It'd be useful to have details on the COB option (specific sizes, number of pads, etc), and (b) a partial COB option (like 30-100 or so parts) that would allow one to pursue packaging for the rest if results are good, or (c) a packaged option (QFN or the like) would make things a bit more appealing to this particular hobbyist.


[11/04/2025 00:24] tholin
I also wanna add that the magic DRC check taking dozens of gigabytes of RAM to run on the top-level is not good since not everyone has that. Even if that particular step is skipped, the rest of the flow needs enough RAM to where my laptop is struggling. And when it comes to hobbyists, these are the kinds of devices people are using.


[11/04/2025 00:27] rtimothyedwards_19428
@Tim 'mithro' Ansell :  You might consider crowdsourcing additional Tiny Tapeout runs at Tiny Tapeout prices?  I think you are better off aiming at getting many users at $100 to $200 each than indivduals putting up $7000 a run.  I would certainly put $200 down on a lark, but I'm not going to spend $7000 unless I have something obvious in mind to do with it.


[11/04/2025 00:27] dnaltews
doh.  Might be time to finally upgrade the lunix workstation.  32GB is kinda weak these days I guess ^^


[11/04/2025 00:28] mithro_
I'm hoping that when TT has finished porting that will definately be what happens.


[11/04/2025 00:29] mithro_
@Quinton / @Tim Edwards - You can also sign up for the updates even if you don't buy anything.

{Reactions}
ðŸ‘ (2)

[11/04/2025 00:29] dnaltews
something mid-way between TT and a full dedicated wafer space run in cost, number of parts, and area might be interesting too.


[11/04/2025 00:31] dnaltews
I feel like there are probably viable price steps around $500 or $1000 or so for folks interested in something a bit more than a single part on an eval board of TT but not quite as big a commitment as $7000-8500 for 1K parts of their own


[11/04/2025 00:32] rtimothyedwards_19428
@Tholin :  If anyone wants to help track down _why_ magic is taking dozens of gigabytes of RAM, I can work on thinking of ways to mitigate the resource problem.  It really should not be that bad.  A number of methods were written (including by me) without consideration of how resources might blow up, and even when that goal is kept in mind, it's not always clear how badly some random subroutine is going to scale.  From time to time I work on those issues, but recently I've been doing more PDK work and much of the magic development has been quick fixes and additions for problems that crop up when onboarding a new process.  The "quick fixes" are often responsible for the resource hogging because I was trying to solve a problem quickly and just put down what came to mind without thinking about it too deeply.

{Reactions}
â¤ï¸

[11/04/2025 00:36] rtimothyedwards_19428
@Tim 'mithro' Ansell :  The $500 range is good for a "Chipalooza test chip" type design;  those had about 14 slots for dedicated analog designs, all power gated (and $500 x 14 = $7000, conveniently).  I've been wanting to run something like that on GF but I don't have any structure set up for advertising it.


[11/04/2025 00:39] dnaltews
No matter how you slice it, it's very exciting to see ASIC design heading into viability for hobbyists, small shops, etc, the way PCB and FPGA stuff previously has.  Not just the more affordable shuttle runs, but the open toolchain.


[11/04/2025 00:40] rtimothyedwards_19428
@Tim 'mithro' Ansell :  Also I don't know how much CrowdSupply works like KickStarter but I'm willing to bet that if you had a $50 entry for just supporting the whole project and getting back some small token piece of swag, you would get a lot of takers.

{Reactions}
ðŸ‘ (3)

[11/04/2025 00:44] dnaltews
If there was an interesting project in the run that was open source (or at least open documentation), a support tier for $50-100ish for like 2-3 COB parts of that particular project, under a "can't guarantee it'll work, but you get an artifact and it *might* work" disclaimer might be a worthwhile "support the run" sort of thing


[11/04/2025 00:51] mithro_
I'm 100% supportive of people organising that type of thing.


[11/04/2025 00:52] mithro_
One of the primary reason Crowd Supply is interested is that they would like people to use Crowd Supply to raise for their own projects that use wafer.space silicon.


[11/04/2025 00:54] dnaltews
Makes sense.  Suppose that could take the form of a template/example project of a TT style interconnect and sub-project-select interface that folks wanting to do so could easily integrate.


[11/04/2025 00:54] dnaltews
oh, interesting!  Yeah that would be cool to see.


[11/04/2025 00:55] mithro_
IE If you are crowd funding a device which is a few hundred dollars and get a few hundred orders, it's reasonable to do a wafer.space run or two.


[11/04/2025 00:58] mithro_
Crowd Supply also offers a pathway to getting your stuff listed on Mouser


[11/04/2025 01:02] aedancullen
@Tholin (or others) - I have a machine (Ryzen 9950X3D, 128GB DDR5) which I was thinking I could give out a few accounts on, for people needing ways to run their stuff. Let me know if this would be helpful for you


[11/04/2025 01:02] mithro_
Sadly my machines which have >128gb memory are in a shipping container


[11/04/2025 01:16] tholin
AWS also works


[11/04/2025 01:36] dshadoff
That's a great point. I hope it is added as an option.  I don't have anything I can fab at this time, but I want to make sure it continues to be available


[11/04/2025 09:26] tholin
Or use any leftover slots to tape out chip design people might be interested in buying and make the money back that way.


[11/05/2025 11:36] mithro_
I had hope to do something like that, but need to have some designs people want to buy first


[11/05/2025 11:40] tholin
I canâ€™t really offer much. I *could* do what I did with the AS2650v2, but with a RISC-V or other architecture that actually has C compiler support.


[11/05/2025 11:40] tholin
But thatâ€™s all I can think off


[11/05/2025 11:45] mithro_
Bunnie was suggesting exploring silicon capacitors -> https://docs.google.com/document/d/1ahoCTmPvKExYtk3qqxvjMpnq5XOcIQvVWMF84zgi82k/edit?tab=t.0#heading=h.90mbdw45v39k

{Embed}
https://docs.google.com/document/d/1ahoCTmPvKExYtk3qqxvjMpnq5XOcIQvVWMF84zgi82k/edit?tab=t.0
wafer.space - GF180MCU Silicon Capacitor
GF180MCU Silicon Capacitor Goal Create software which is able to generate a "maximal silicon capacitor" for a given configuration.  Specifications  GDSFactory Uses AI to tune the capacitor capacity Initial targets are the different GF180MCU stack ups.   Why? Empty slots can be filled with silicon...
general_media/AHkbwyLXnGf_dGkbpnACqnheKV-ujqU_h-eY688Uhy-E7DF7


[11/05/2025 11:59] tholin
I am also experimenting with analog


[11/05/2025 11:59] tholin
Especially since we can do high-frequency analog stuff inside an IC


[11/05/2025 11:59] tholin
I want to make a chip that just has a bunch of analog gadgets on it


[11/05/2025 12:00] tholin
But Iâ€™m still experimenting.


[11/05/2025 12:04] mithro_
There is of course @peterkinget 's Mosbius too


[11/06/2025 01:36] rtimothyedwards_19428
See https://github.com/fossi-foundation/frigate_analog.  Basically a field-programmable analog array with DACs, ADCs, instrumentation amplifiers, temperature sensor, etc., etc.  Hard to port from sky130 to another process, but I would like to do that for GF180MCU and IHP sg13g2 eventually.

{Reactions}
ðŸ‘

[11/07/2025 00:57] rtimothyedwards_19428
By the way, I am now actively working on a 3.3V SRAM macro.  A bit of detective work which is a combination of ripping the DUALGATE layer off of the existing SRAMs and squeezing the transistors down to minimum length with the same W/L as the 5V cells have, and squeezing out additional space according to the published 3.3V SRAM design rules.

My estimate from working on the main core SRAM cell is that a 512kB block will be 255um x 285um vs. 430um x 485um for the existing 5V SRAM 512kB macro.  That's approximately 1/3 the area.

{Reactions}
ðŸ‘ (3) â¤ï¸ (4) ðŸ”¥ (2)

[11/07/2025 02:50] bailey8889
sky130's mpw_precheck has an oeb check to verify that the gpio connections make sense. 
Like:
- If the gpio output is connected, then oeb should not be fixed high.
- If the gpio input is connected, the gpio should be in input mode.
- etc.
Does wafer.space need anything similar?


[11/07/2025 04:42] mithro_
Started a thread.


[11/07/2025 07:06] mole99
Started a thread.


[11/07/2025 07:11] mole99
Started a thread.


[11/07/2025 09:34] tholin
Iâ€™m slowly getting better at throwing together these multi-project dies. Come a long way since my first one on GFMPW-1. Optimizing multiplexer timing right now.


[11/07/2025 09:34] tholin
And at this point, I understand it good enough that I can automate it, I think.


[11/07/2025 09:35] tholin
Its definitely possible to auto-generate the multiplexer RTL from some config files specifying each design.


[11/07/2025 09:37] tholin
The big thing with my setup is that any lines going to the pads, be it outputs or output enables or anything like that, have any constant values optimized. If a io_oe value, for instance, is fixed at 0, instead of that being implemented in the project macro, routed on the top-level to the multiplexer where it then passes through standard cells to the output, the constant is instead resolved inside the multiplexer RTL to remove all that overhead.


[11/07/2025 09:37] tholin
Yielding better top-level density and timings.


[11/07/2025 09:38] tholin


{Attachments}
general_media/image-B65EE.png


[11/07/2025 09:38] tholin
Like this


[11/07/2025 09:38] tholin
Actually, this may be a better example

{Attachments}
general_media/image-7B122.png


[11/07/2025 09:39] tholin
So its not as easy as generating a case-block where each entry is
```verilog
5'hxx: begin
  io_oe_sel = designname_oe;
  io_out_sel = designname_out;
  io_cs_sel = designname_cs;
  etc
```


[11/07/2025 09:40] tholin
Still, I think this is automatable with enough effort.


[11/07/2025 09:41] tholin
This is a really good setup for sharing die space between a low number of designs, like 4 or 5


[11/07/2025 09:41] tholin
Its, like, in-between TinyTapeout and utilizing the full die.

{Reactions}
ðŸ‘ (2)

[11/07/2025 09:42] tholin
I could get to work on this if there is demand for a automatic, small-scale multi-project setup.

{Reactions}
ðŸ’œ

[11/07/2025 12:01] mithro_
@Tholin - Offer still stands to put Avalon on the wafer.space design-help page -- maybe it could be focused on "help groups share multiple designs in one slot" type thing?


[11/07/2025 12:01] tholin
I mean, I at the very least have a LOAD of reference designs.


[11/07/2025 12:02] tholin
Soon even analog stuff


[11/07/2025 12:02] mithro_
Also, might be worth mentioning in the profile update that @Andrew Wingate is doing for me?


[11/07/2025 12:04] anfroholic
Sure!


[11/07/2025 12:06] tholin
Unfortunately, time is tight for me now, so I will definitely not get started on an automated multi-project setup until after december.


[11/07/2025 12:11] mithro_
I mean a "contact Tholin if you are interested in XYZ" type thing?


[11/07/2025 12:28] tholin
Probably not. That sounds like it could easily become too stressful on me.


[11/07/2025 12:36] rebelmike
I don't know if @mole99 is planning to port greyhound, but something like that on a breakout would be interesting for me to buy as a hobbyist.  Mosbius too.


[11/07/2025 12:37] tholin
My next multi-project die is going to include a few things for homebrew computer builders.

{Reactions}
ðŸ‘

[11/07/2025 12:49] mole99
I won't be porting Greyhound just yet, but I'll start with an FPGA. Just need to find the time for it while preparing the reticle :)

{Reactions}
ðŸ’œ

[11/07/2025 13:48] tholin
Iâ€™m thinking - arranging the macros of my multi-project die is a bit tedious to make sure there is enough spacing. I extended my padout graphic generator to also draw the macros, but even then, its a lot of tweaking values in the config and re-running the generator until I happen to get it right.
But I wonder if I could turn the padout generator into an interactive UI where you can click and drag the macros with your mouse?

{Attachments}
general_media/padout-D3BFA.png


[11/07/2025 15:13] tholin
Does magic not automatically generate a PR_bndry when streaming out GDSII? It didnâ€™t for one of my analog macros.


[11/07/2025 15:26] tholin
In any case, setting the bounding box manually works and I now have DACs in my submission.


[11/07/2025 15:44] 246tnt
you need the FIXED_BBOX property and then it will.


[11/07/2025 15:55] tholin


{Attachments}
general_media/image-FB91A.png


[11/07/2025 15:55] tholin
I just add DACs to this column as I need them


[11/07/2025 15:56] tholin
The outputs are not wired up to the analog pads yet because something broke and Iâ€™m still trying to figure it out.


[11/07/2025 15:59] tholin
I am going to create a layout for an op-amp next. Already have a schematic for it. I wanna use op-amps inside one of my peripherals, but Iâ€™ll also wire one straight to three analog pads for testing.


[11/07/2025 16:02] tholin
I also wanna see if I can generate a VGA signal, but using actual analog outputs for the colors.


[11/07/2025 16:05] 246tnt
Definitely need some big drivers if you're planning direct drive. Each color signal is ~ 14 mA peak. ðŸ™‚


[11/07/2025 16:06] tholin
Probably not that. Weâ€™ll see.


[11/08/2025 01:50] mithro_
@proppy - See @Tholin's multi-project stuff above.


[11/08/2025 15:18] .leonmc
How likely is it that the first run actually happens? The Crowdsupply page shows only 13% funding, and the announcement about reaching out if you're planning to buy a slot makes it seem like it's currently unlikely to happen?
And if that were the case, would there be another attempt at a later date, or would that be the end of wafer.space?


[11/08/2025 16:54] mole99
@Tim 'mithro' Ansell


[11/09/2025 03:40] mithro_
@LeonMC - The run will 100% be happening


[11/09/2025 03:41] mithro_
@LeonMC - I'm committed to running atleast two GF180MCU runs


[11/09/2025 03:42] mithro_
Getting enough people purchasing slots is important to getting us beyond these first two runs

{Reactions}
ðŸ‘

[11/09/2025 07:45] .leonmc
That's really great to hear, but it might be useful to clarify that on the website somewhere? Usually when a crowdfunding goal isn't reached, that means the project doesn't happen, so the "13% funded" on the Crowdsupply page might be deterring people from making plans to use wafer.space? (I'm just guessing though, I know very little about chip design and am just an interested spectator hoping for your success.)


[11/09/2025 10:08] rebelmike
Itâ€™s a bit different to a normal crowdfund because the thing youâ€™re buying is only worth something if youâ€™ve completed a design yourself. Doing that will take weeks and most people wouldnâ€™t have started until after the start of the campaign. So it makes sense that most of the purchases will come in at the last minute.


[11/09/2025 10:37] .leonmc
> So it makes sense that most of the purchases will come in at the last minute.
Of course, but that also means you only know if the project reaches the funding goal at the last minute. With the usual crowdfunding model (where projects without sufficient funding are cancelled), that means people have to commit to spending time and resources without knowing if they can actually have the designs produced. I imagine there are potential customers not willing to do this, for whom it would be highly relevant to know that the first two runs are certain to happen.

{Reactions}
ðŸ‘ (3)

[11/09/2025 16:47] tholin
So, my multi-project tapeout is going to have a series of DACs on it and I wish to see if I can use three of them to generate a VGA signal directly. But I donâ€™t wanna display just frames of solid color. Anyone have an existing VGA Demo from TT theyâ€™d be okay with me using for testing purposes?


[11/09/2025 17:01] urish
Happy to contribute https://github.com/TinyTapeout/tt-logo-screensaver

{Embed}
https://github.com/TinyTapeout/tt-logo-screensaver
GitHub - TinyTapeout/tt-logo-screensaver: DVD-style screen saver wi...
DVD-style screen saver with the Tiny Tapeout logo and Gamepad Pmod support - TinyTapeout/tt-logo-screensaver
general_media/23b33ab6-a705-468e-8385-e5e72a8fb21d-712D9

{Reactions}
ðŸŽ‰

[11/09/2025 17:02] urish
But all TT projects are permissively licensed, so you can choose virtually any project


[11/09/2025 17:03] urish
There are many cool projects from the TT08 demoscene compo: https://tinytapeout.com/competitions/demoscene-tt08-entries/

{Embed}
https://tinytapeout.com/competitions/demoscene-tt08-entries/
TT08 Demoscene Entries - Tiny Tapeout
All the entries to the TT08 demoscene competition


[11/09/2025 17:47] tholin
That's nice and colorfull! Perfect!

{Reactions}
â¤ï¸ (2) ttlogo (3)

[11/10/2025 13:46] tholin
Overhauling my DAC in multiple ways right now. It doesnâ€™t actually quite work as it is right now.


[11/10/2025 13:46] tholin
Resistors too small. Even a buf_20 cell cannot drive the DAC as it is.


[11/10/2025 13:47] tholin
Did an oopsie and used the wrong kind of resistor.


[11/10/2025 13:47] tholin
Its very confusing how many of them there are.


[11/10/2025 14:20] tholin
Since I have a working opamp now, may as well use it. Hereâ€™s old vs. new.

{Attachments}
general_media/image-ABC9E.png

{Reactions}
ðŸ‘

[11/10/2025 14:20] tholin
Previous version just used a FET


[11/10/2025 14:48] tholin
Oh man, am I going to need some massive transistors in that opamp just to drive a 1Kohm load on the output.


[11/10/2025 15:01] tholin
What does "number of fingers" do? If I change it from 1, nothing changes about the simulation output.


[11/10/2025 15:02] 246tnt
It's in how many finger the W you indicated will be split during layout.


[11/10/2025 15:02] tholin
Oh, so it doesnâ€™t automatically multiply the W by nf?


[11/10/2025 15:02] 246tnt
It does change some things subtly but it's mostly when trying to match devices or changing the capacitance and such, you wouldn't really see it much in the kind of graphs you're plotting.


[11/10/2025 15:03] 246tnt
No, the W is the total W, not the finger W.


[11/10/2025 15:03] tholin
Ah


[11/10/2025 15:03] tholin
Because I am trying to multiply W


[11/10/2025 15:04] tholin
While keeping the shape of the FET in the layout managable


[11/10/2025 15:05] 246tnt
Well you can inrease nf buf you also need to increase W.


[11/10/2025 15:05] tholin
I guess I just have to do it by hand


[11/10/2025 15:07] tholin
Actually, it doesnâ€™t like that

{Attachments}
general_media/image-CA216.png


[11/10/2025 15:08] tholin
If the total W gets too high, it breaks.


[11/10/2025 15:24] mole99
The models only support a W up to a certain size. You need to change the multiplier instead.

{Reactions}
ðŸ˜‘

[11/10/2025 15:47] tholin
Thatâ€™s a lot of very large transistors.

{Attachments}
general_media/image-C44FE.png


[11/10/2025 15:47] tholin
This is gonna take a minute


[11/10/2025 16:37] tholin
Iâ€™ve found that trying to set up my opamps as voltage followers (output connected to MINUS, source voltage into PLUS) strangely doesnâ€™t work. But building an inverting amplifier with a little bit of gain **does.**

{Attachments}
general_media/image-2FA52.png


[11/10/2025 16:37] tholin
No idea why


[11/10/2025 16:37] tholin
Donâ€™t question the component name.


[11/10/2025 18:03] rtimothyedwards_19428
My main problem with that schematic is not that the op-amp is chonky (chonky is in the eye of the beholder!) but that you have some pretty high currents for an on-chip amplifier.  On-chip circuits are usually meant to drive microamps, not milliamps.  Driving an off-chip load does require some beefy components, but with the right amp design, you can restrict the beefy components to just the output driver, and most of the rest of the amplifier will be reasonbly small.  A voltage follower is generally easier to get working than an inverting amplifier (all the drive current goes to the load), so it's probably a good idea to look closely at what's causing that configuration to fail.  Finally, a current bias is much better than a voltage bias, and if it's really taking a voltage bias, then you shouldn't need a milliamp current path through your voltage divider to set it.


[11/10/2025 18:04] rtimothyedwards_19428
@Tholin :  Feel free to post the amplifier schematic, or a link to the project.


[11/10/2025 18:16] tholin
Note: resistor values are not yet properly tuned, I only care about the ratios so far.


[11/10/2025 18:16] tholin
But yeah, this is meant to drive a pad.


[11/10/2025 18:18] tholin
I should share the schematic for the opamp sometime.


[11/10/2025 19:31] tholin


{Attachments}
general_media/image-F925C.png


[11/10/2025 20:45] 246tnt
I also wouldn't count too much on that working like in sim. I'm not expert, but biasing the gate of mosfet with a resistor divider seems like it could yield quite a bit of process variation.


[11/10/2025 20:47] 246tnt
Why is the gate and drain of XM6 connected together ?


[11/10/2025 20:50] 246tnt
Shouldn't the model only care about the finger width and not the total width ?


[11/10/2025 21:09] _saltypretzel
I second this. For the "adj" pin, you should definitely consider using a replica biasing scheme.


[11/10/2025 21:11] _saltypretzel
Even if your resistors are ratiometrically designed, your mosfet threshold voltage, mobility, Cox etc... will all change under process. Since mosfets have gain, you'll have a trouble keeping the bias currents the same. across chip-chip or even from one part of the chip to another.


[11/10/2025 21:12] _saltypretzel
the first stage of the amplifier can definitely be a lot smaller (length and width wise)... it seems like one side of the differential pair (and current mirror) is not equal to the other? These should be the same otherwise you will have systematic offset in your circuit.


[11/10/2025 21:21] tholin
Donâ€™t worry - I can explain all this very easily.


[11/10/2025 21:21] tholin
I donâ€™t know what Iâ€™m doing


[11/10/2025 21:21] tholin
Analog stuff is so inaccessible still :flop:


[11/10/2025 21:23] tholin
Also, yeah, I do have some weird offsets


[11/10/2025 21:30] tholin
I played with the transistor values until the output looked good. And I simulated it across all process corners and there is very little variance.


[11/11/2025 08:11] ethanmahintorabi
Been working on a 500x300 black and white camera, and I finally got the pixel array done. All done in gdsfactory https://github.com/njcoburn/OPENIMAGESENSOR/blob/main/test.py

{Attachments}
general_media/PXL_20251111_071117024-2A9D5.jpg
general_media/PXL_20251111_080326867-4D5E4.jpg

{Embed}
https://github.com/njcoburn/OPENIMAGESENSOR/blob/main/test.py
OPENIMAGESENSOR/test.py at main Â· njcoburn/OPENIMAGESENSOR
OPENIMAGESENSOR - An open source image sensor. Contribute to njcoburn/OPENIMAGESENSOR development by creating an account on GitHub.
general_media/OPENIMAGESENSOR-7F15F

{Reactions}
â¤ï¸ blobclap (2) ðŸ‘€ ðŸ‘

[11/11/2025 08:30] mole99
Very cool! Do I see round corners on the photodiode? Do the docs have DRC guidelines on that?


[11/11/2025 11:01] tholin
I built a better opamp after doing some research. This one is almost rail-to-rail!

{Attachments}
general_media/image-AEEB7.png


[11/11/2025 11:02] tholin
And will only need two big transistors.


[11/11/2025 11:03] tholin
The other opamp I designed I may keep the non-chonky version of for internal use on the die. It has some properties that made it easier to use for building that sine wave generator I showed a long time ago.


[11/11/2025 12:20] tholin
It behaves okay enough under a 1Kohm output load, so I think Iâ€™ll move ahead to the layout stage with this one.


[11/11/2025 12:25] tholin
Still a massive output stage just to drive a 1Kohm load. Am I doing this right?

{Attachments}
general_media/image-9FB2C.png


[11/11/2025 12:40] 246tnt
Check the size of the transistor in the IOs. They can drive a 1kohm load with no problem, so if you're bigger than they are, you're doing something wrong.


[11/11/2025 12:42] 246tnt
Also post the new internal schematic of your op amp.


[11/11/2025 12:44] tholin
Oh, right

{Attachments}
general_media/image-B4788.png


[11/11/2025 12:44] tholin
It looks a little weird on the right, having duplicated the transistors in the schematic. But its so that importing the SPICE into magic generates the transistors how I want them.


[11/11/2025 12:47] tholin
Since this thing at least works really good in this configuration, I do wonder if a IO pad structure specifically meant for analog output that contains this circuit would be something people would want to use. It just takes whatever analog signal comes in and boosts it to be able to drive 1kohm loads. (and inverts it, but that can be solved with a second opamp).


[11/11/2025 12:49] valgamaa
I don't know the tools you are using, but many of them will let you get multiple instances in the same way by using InstanceName<N:0> to get N+1 instances of the transistor in the netlist and layout. I would try it in the schematic then check the netlist to see if it works in your toolchain.


[11/11/2025 12:50] tholin
I can do this, but it stacks the transistors in a way I donâ€™t like.


[11/11/2025 12:51] 246tnt
So I think one issue might also be expecting it to be rail to rail using that architecture. Inherently that basic op-amp can never be and maybe you're massively oversizing the transistor to get it closer to rail and compensate for a fundamental limit of the architecture.


[11/11/2025 12:51] valgamaa
What might also be worth investigating is using shorter cascoded transistors. Shorter channels will give the same gm with shorter widths, and the cascode will raise the output impedance with lower Vds


[11/11/2025 12:52] valgamaa
With this process you can also probably interdigitate the two transistors for a very compact layout.


[11/11/2025 12:52] tholin
Oh, yeah, I stopped making the transistors larger when I hit an area of diminishing returns. But if I make them any smaller, there is a big difference in the output still.
What is nice is that its effectively rail-to-rail when used internally, not to drive an output pad.


[11/11/2025 12:55] 246tnt
See how this for instance use symmetrical Nmos/Pmos input pairs and then combine them to increase the range : https://www.xschem-viewer.com/?file=https://github.com/htfab/flash-adc/blob/main/xschem/opamp.sch   Obviously this is single stage so you'd still need to drive a power stage instead.


[11/11/2025 12:56] tholin
That xschem viewer doesnâ€™t work on firefox


[11/11/2025 12:56] 246tnt
https://github.com/htfab/flash-adc/blob/main/xschem/opamp.sch then ðŸ™‚


[11/11/2025 12:57] valgamaa
That is for increased input common-mode range (as needed in a unity-gain non-inverting amplifier), but doesn't do anything for output swing.


[11/11/2025 12:59] 246tnt
Oh yeah, I thought it was setup as a non-inverting buffer to buffer the R2R output, my bad. Rechecking the way it's used, it's indeed inverting and will mainain both input at mid range.


[11/11/2025 13:01] valgamaa
Although if the intention is to produce a general-purpose op-amp, then it is a point worth considering in the design.


[11/11/2025 13:54] _saltypretzel
Given you have two gain stages now with the diff amp, you have 3 poles which could be close to each otherâ€¦ make sure everything is stable when you build it with feedback too


[11/11/2025 14:06] _saltypretzel
Oh never mind, they seem to be in parallelâ€¦ regardless it is still something to consider


[11/11/2025 15:27] ethanmahintorabi
The docs do not have drc guidance on that, but it didn't trigger any rules so I assume it's okay. The nwell is 5x5um so I assume it's large enough to not matter


[11/11/2025 15:42] mole99
It might be okay, it might also be a missing check :)

I only found the following in [3.0 Layout Information](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_03.html):

> 3.6 Only 90 deg and 45 deg bends are allowed for poly and metal lines.

So I assume that for nwell round coners are okay (as long as all points are on-grid).

If you have a complete chip layout, please let me know and I can already include it in the reticle to send to GF for early feedback.


[11/11/2025 15:44] ethanmahintorabi
Do you need a full pad frame with density fill or can I just send you a gds with the pixel array fitting into the die area


[11/11/2025 15:47] ethanmahintorabi
Or I could just send you some rounded nwell


[11/11/2025 19:03] polyfractal
this looks amazing! have you been doing simulations to check functionality, or just YOLO'ing it? And if yes, how? That's the part that I really stumbled on when thinking about doing an imager ðŸ™‚


[11/11/2025 19:47] mole99
@Andrew Wingate Great post, Andrew! https://www.crowdsupply.com/wafer-space/gf180mcu-run-1/updates/chip-on-board

{Embed}
https://www.crowdsupply.com/wafer-space/gf180mcu-run-1/updates/chip-on-board
Community Progress on Chip-on-Board Packaging Strategy
The wafer.space community is developing a flexible chip-on-board packaging strategy, so you won't need specialized equipment or expensive packaging services to use your chips.
general_media/padframes-cob-lga-cob_png_project-main-DE6C2.jpg

{Reactions}
ðŸ’œ (3)

[11/11/2025 20:13] ethanmahintorabi
Started a thread.


[11/11/2025 20:39] urish
Started a thread.


[11/12/2025 01:17] tholin
All I did was try to include my opamp in another circuit and magic went and reset the positions of the transistors AND saved the changes to the .mag file without asking for confirmation. Why? Why did magic just destroy my work?

{Attachments}
general_media/image-28D41.png


[11/12/2025 02:40] rtimothyedwards_19428
I guess you can blame me for that one.  the SPICE import function is supposed to be re-entrant, letting you add, subtract, or change devices without messing with the existing layout.  Apparently that doesn't work?


[11/13/2025 09:44] noritsunaimamura
Hi, All.

We, ISHI-KAI( https://ishi-kai.org/links ), are a community that promotes open source PDK & EDA in Japan.  
This time, we brought together 14 novice semiconductor designers (most of whom were new to semiconductor design), each of whom created an analog circuit, such as an Inverter or OPAMP, ADC, PLL, BGR, CS, made using xschem & klayout with P-Cells for Wafer.Space GF180MCU .  
All schematics and layouts are released under an open source license.  

- Our Project
https://github.com/ishi-kai/ISHI-KAI_Multiple_Projects_WaferSapce-GF180-1


This is the development environment for analog circuits we used for Wafer.Space.  
Feel free to use it if needed.

- WSL Image
https://www.noritsuna.jp/download/ubuntu2404_waferspace_2025.zip
ID:ishikai
Pass:ishikai

   - How to Setup
Execute on the Windows command line
> cd [Unzipped directory]
> wsl --import-in-place ubuntu2404_waferspace_2025 .\ubuntu2404_waferspace_2025\ext4.vhdx

   - How to Use
Execute on the Windows
Double-click ubuntu2404_waferspace_2025.lnk

    - How to Delete
Execute on the Windows command line
> cd [Unzipped directory]
> wsl --unregister ubuntu2404_waferspace_2025

    - How to Run precheck
Execute on the WSL command line
> cd ~/tools/gf180mcu-precheck/
> nix-shell
> export PDK=gf180mcuD
> export PDK_ROOT=gf180mcu
> python3 precheck.py --input [GDS file] --top [Top Cell Name]


- Setup script for xschem & ngspice, magic, KLayout fo Wafer.Spice GF180 of Analog on Local WSL&Ubuntu&MacOS
https://github.com/ishi-kai/OpenEDA-PDK_SetupScript

    - How to Setup
> git clone https://github.com/ishi-kai/OpenEDA-PDK_SetupScript
> bash eda-setup.sh
> bash pdk_gf180-setup.sh


[11/13/2025 10:11] mole99
Started a thread.


[11/13/2025 21:40] mithro_



[11/13/2025 21:44] tholin
Oh! I can use this as the analog output VGA demo on my multi-project die.


[11/14/2025 11:41] tholin
Once I am no longer busy preparing a chip layout for the december tapeout, I am planning to spend the following months (while the fab is busy) on two things. Firstly, my custom 3.3V standard cells (including IO pad structures for 3.3V IO). Secondly, a general-purpose, easy to use toolset for creating multi-project dies. I want to make it as simple as defining a project list in a CSV and dropping it plus the source RTL for each project into a repository template, and the whole multiplexer and top-level setup is auto-generated. It would not be as advanced as TinyTapeout, but more dynamic. Better for when the die is only to be split 4 or 5 ways, with each project having a variable size, so you can do crazy splits like a 3 project die where 90% of available area goes to to project #1 and 5% to #2 and #3 each.
For bonus points, I may create a GUI for managing the project list, settings and macro arrangement.

{Reactions}
ðŸ‘

[11/14/2025 19:40] mattvenn
It's old and unmaintained but maybe there are some ideas you can take from my old https://github.com/mattvenn/multi_project_tools

{Embed}
https://github.com/mattvenn/multi_project_tools
GitHub - mattvenn/multi_project_tools: tools to help make the most ...
tools to help make the most of the limited space we have on the Google sponsored Efabless shuttles - mattvenn/multi_project_tools
general_media/multi_project_tools-1874E


[11/14/2025 21:08] anfroholic
Another CrowdSupply post. This time featuring @Tholin 
https://www.crowdsupply.com/wafer-space/gf180mcu-run-1/updates/tholin-feature

{Embed}
https://www.crowdsupply.com/wafer-space/gf180mcu-run-1/updates/tholin-feature
We Have Some Amazing Projects This Run
Our first shuttle run includes a number of incredible projects, and we wanted to take a moment to highlight one of them: an open reimplementation of the historic Signetics 2650 microprocessor.
general_media/tholin-multidie_png_project-main-6E8AB.jpg

{Reactions}
ðŸ’œ (2) ðŸŽ‰ (2)

[11/14/2025 21:35] mithro_
I got distracted and accidentally created https://discord.wafer.space archive of the discord server

{Embed}
https://discord.wafer.space/
wafer.space Discord Logs
Public archive of wafer.space Discord server


[11/16/2025 21:32] tholin
Triangle and sine/cosine wave generators work much better with the new opamp design.

{Attachments}
general_media/image-2728F.png


[11/16/2025 21:57] tholin
I wish there was time to get the NTSC color video generator demo going in time for the december tapeout, but I donâ€™t think there is.


[11/16/2025 21:57] tholin
Sad.


[11/17/2025 02:34] rtimothyedwards_19428
Update:  Work on the 3.3V SRAM block is progressing steadily.  I was hoping to finish layout at the end of last week, but it ran over into the weekend.  I now have a draft layout, DRC clean, but I have not run LVS yet (will work on that tomorrow)  The design is currently about 300 x 330 um, which makes it just slightly less than 1/2 the area of the 5V SRAM.  I have some room to shave off additional area from the bottom.  I can probably get it down to 300 x 300, but probably don't have time to do that for this tapeout.  Once I get it LVS clean, I will push the layout, netlist, and LEF.  Adjusting all the timing in the liberty and verilog files will take a lot of time and effort.

{Reactions}
ðŸ‘ (2) ðŸŽ‰ (3)

[11/17/2025 02:36] rtimothyedwards_19428
I would post a picture but it looks just like the 5V SRAM layout from a bird's-eye view, so not really worth the effort.


[11/17/2025 07:16] urish
Started a thread.


[11/17/2025 10:14] 246tnt
@mole99 How is your ground ring connected to the pads in the template ?


[11/17/2025 10:14] 246tnt
Maybe it didn't build properly for me locally but I'm looking at it and I can't find anywhere where it's attached.


[11/17/2025 10:17] mole99
LVS is clean, so it better be attached ðŸ˜„ Let me check...


[11/17/2025 10:17] 246tnt
Could be attached through substrate ...


[11/17/2025 10:17] mole99
Oh, I see


[11/17/2025 10:18] mole99
It's only attached to the top and bottom ground pad ðŸ˜…


[11/17/2025 10:19] mole99
The reason is, I made changes to the template and now `gf180mcu_fd_io__dvss` is used for all ground pads instead of my modified `gf180mcu_ws_io__dvss` which has pins on two metal layers.


[11/17/2025 10:20] mole99
I think there should be no issue with `gf180mcu_ws_io__dvss` for both horizontal and vertical I/O rows.


[11/17/2025 10:21] mole99
Thanks a lot for alerting me!

{Reactions}
ðŸ‘Œ

[11/17/2025 10:21] 246tnt
I hadn't see the one on top and bottom because I forgot I had added those in the padframe ðŸ˜…

{Reactions}
ðŸ˜

[11/17/2025 10:25] 246tnt
Although I have my rings on Metal5 / Metal4 so I'm not sure how that's going to help me ðŸ˜…


[11/17/2025 10:25] mole99
Yeah, that's another issue ðŸ˜…


==============================================================
Exported 1,086 message(s)
==============================================================
