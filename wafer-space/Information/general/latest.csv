AuthorID,Author,Date,Content,Attachments,Reactions
"709384666909507634","egorxe","2025-12-05T16:35:04.2700000+00:00","Allowing Librelane to download a PDK is probably not a good idea, as it will download it using ciel and for gf180mcu it will be outdated.","",""
"220639106915368960","tholin","2025-12-05T16:44:41.8810000+00:00","I donâ€™t know how to do this.","",""
"220639106915368960","tholin","2025-12-05T16:44:50.9090000+00:00","Trying to figure it out","",""
"220639106915368960","tholin","2025-12-05T16:45:14.6070000+00:00","But also, manually checking the coordinates a few times, its almost all on bidir_PAD2CORE lines","",""
"220639106915368960","tholin","2025-12-05T16:47:30.2170000+00:00","Here we are","general_media/image-C89C0.png",""
"1187141985530818611","ravenslofty","2025-12-05T16:48:24.9990000+00:00","that's why there's the `--manual-pdk` option to librelane","",""
"323371864074485771","mole99","2025-12-05T17:05:48.4180000+00:00","About my previous question: Does the final antenna summary in OpenROAD show these violations?
Because if it does, we just need to convince LibreLane to fix them in some way. If not, then we have a mismatch between OpenROAD's and KLayout's definition of antenna violations.","",""
"220639106915368960","tholin","2025-12-05T17:10:53.4140000+00:00","","general_media/image-8DEB0.png","ðŸŽ‰ (1)"
"709384666909507634","egorxe","2025-12-05T17:23:25.6030000+00:00","If there were no such discrepancies previously , it most likely means that it appeared due to increase in ANTENNAGATEPLUSDIFF, as OR is not overfixing with diodes anymore. If it so, it means that the mismatch is most likely related to diodes, not metals.","",""
"596068704471482370","246tnt","2025-12-05T17:29:15.1010000+00:00","@Leo Moser (mole99) Yes, discrepency is what I'd like to check. But I'm wondering if being perfect is even possible since the LEF contains only the total gate/diff are and no information about the layers to reach that gate/diff area so I'm not sure OpenROAD can always be correct.","",""
"596068704471482370","246tnt","2025-12-05T17:29:30.9080000+00:00","But I'd need to analyze the final GDS to test that theory.","",""
"220639106915368960","tholin","2025-12-05T17:29:57.4340000+00:00","So, I have KLayout antenna violations on wires that go in-between macros. I have antennas on all macro ports. So a wire with antennas on both ends is getting an antenna violation. Is that even possible?","",""
"220639106915368960","tholin","2025-12-05T17:30:23.6630000+00:00","Like, the standard cell, I mean.","",""
"596068704471482370","246tnt","2025-12-05T17:31:09.5480000+00:00","Yes, it's possible.","",""
"596068704471482370","246tnt","2025-12-05T17:31:44.6900000+00:00","Depending on routing layers, that diode could be useless.","",""
"220639106915368960","tholin","2025-12-05T17:32:30.6530000+00:00","https://files.tholin.dev/Public/GDSII/chip_top.tar.gz","",""
"596068704471482370","246tnt","2025-12-05T17:33:15.4500000+00:00","When OpenROAD inserts a diode, it takes care to put it close to where the gate to protect is. But when you manually instanciate one, OpenROAD just sees that as ""just another standard cell"" and will place it where ever convenient.

In tiny tapeout I was instanciating diodes, and I had to write a custom script to manually re-position those diode where appropriate so they are effective to fix some of my violations.","",""
"596068704471482370","246tnt","2025-12-05T17:34:27.9190000+00:00","If you're manually instanciating diodes, you could instead try to use this : https://openlane2.readthedocs.io/en/latest/reference/step_config_vars.html#diodes-on-ports-protection-routine  which should also take care of placing them well.","",""
"220639106915368960","tholin","2025-12-05T17:35:02.9420000+00:00","I have DIODE_ON_PORTS: both in all my flows","",""
"596068704471482370","246tnt","2025-12-05T17:35:13.6260000+00:00","Ah ok, nevermind then ðŸ˜…","",""
"596068704471482370","246tnt","2025-12-05T17:35:48.6560000+00:00","Could you post the antenna report xml too so I don't have to run it ðŸ˜…","",""
"220639106915368960","tholin","2025-12-05T17:40:07.2070000+00:00","","general_media/antenna.klayout-D527C.lyrdb","ðŸ‘Œ (1)"
"709384666909507634","egorxe","2025-12-05T17:49:27.9140000+00:00","Diodes on output ports of macros do not help much as there is quite low probability of them being connected to the receiving gate without going ""up"" through the metal stack.","",""
"596068704471482370","246tnt","2025-12-05T17:52:55.9320000+00:00","Mmm, something is weird. Beause I picked a random violation and looked at it and it didn't properly account for the input protection diode that's present in the IO cell.","",""
"596068704471482370","246tnt","2025-12-05T17:53:10.1360000+00:00","Are you sure that was run with the latest PDK ?","",""
"596068704471482370","246tnt","2025-12-05T17:56:07.4100000+00:00","it measures perimeter at 2139  and gate area at 3.15 ( and those looks correct ) and report ratio as 679 ( so indeed a violation ).   But there is a 1 um^2 diode that's propertly connected by a lower metal layer so this should make the effective gate area 3.15 + 15 * 1 = 18.15 and the ratio 117 which is well below the error threshold.","",""
"220639106915368960","tholin","2025-12-05T17:57:34.4660000+00:00","1.4.1?","",""
"596068704471482370","246tnt","2025-12-05T17:57:58.7600000+00:00","yes.","",""
"220639106915368960","tholin","2025-12-05T17:58:15.0740000+00:00","Thatâ€™s the tag I got checked out","",""
"220639106915368960","tholin","2025-12-05T17:59:16.0710000+00:00","But I see there have been antenna-check related commits since then","",""
"220639106915368960","tholin","2025-12-05T18:01:04.3060000+00:00","I will pull the latest and try to run the check again, since I have nothing better to try.","",""
"1365118310701600900","rtimothyedwards_19428","2025-12-05T18:03:03.4430000+00:00","@Tholin :  What am I missing here?
```
ABC: Setting driving cell to be ""gf180mcu_as_sc_mcu7t3v3__inv_2/Y"".
ABC: Setting output load to be 72.910004.
ABC: + source /home/tim/gits/gf180mcu_ocd_openframe/librelane/runs/RUN_2025-12-05_13-00-18/06-yosys-s
ynthesis/AREA_0.abc
ABC: Error: The network is combinational.
ABC: Cannot find the default PI driving cell (gf180mcu_as_sc_mcu7t3v3__inv_2/Y) in the library.
```","",""
"220639106915368960","tholin","2025-12-05T18:08:56.9940000+00:00","I donâ€™t know","",""
"220639106915368960","tholin","2025-12-05T18:09:04.7330000+00:00","Its not happening on my end either","",""
"220639106915368960","tholin","2025-12-05T18:10:09.2720000+00:00","So I canâ€™t replicate the issue","",""
"1365118310701600900","rtimothyedwards_19428","2025-12-05T18:11:52.0080000+00:00","Okay, actually that's good to know;  it's probably something in my code, then.","",""
"1365118310701600900","rtimothyedwards_19428","2025-12-05T18:21:24.4580000+00:00","It did not like synthesizing my ring oscillator, which I guess shouldn't surprise me.","",""
