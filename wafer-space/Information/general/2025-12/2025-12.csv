AuthorID,Author,Date,Content,Attachments,Reactions
"220639106915368960","tholin","2025-12-09T14:48:39.6290000+00:00","I’m taking a RISC-approach. I ran synthesis on a big RISC-V core with sky130_fd_sc_hd back when I was doing my sky130 SCL and looked only at cells that got used more than 100 times.","",""
"1187141985530818611","ravenslofty","2025-12-09T14:48:57.5770000+00:00","> I assume I could get a better synthesis if I had additional cells like a half-adder, full-adder
probably not. these cells are not inferable because they have multiple outputs.","",""
"220639106915368960","tholin","2025-12-09T14:49:06.6980000+00:00","Indeed","",""
"220639106915368960","tholin","2025-12-09T14:49:43.0390000+00:00","A vlsiffra backend for my SCL is the only thing that those would be good for.","",""
"1187141985530818611","ravenslofty","2025-12-09T14:49:59.6430000+00:00","and honestly, if you're gonna design custom cells to accelerate arithmetic, something targeted towards a more efficient parallel-prefix adder would be best, I think","",""
"220639106915368960","tholin","2025-12-09T14:50:26.3530000+00:00","But a full-adder is actually just one maj3 and one xor3 cell jammed together. So if I add xor3, that’d also work.","",""
"1365118310701600900","rtimothyedwards_19428","2025-12-09T14:52:36.2190000+00:00","@Lofty :  I was assuming that full adders and half adders would come with mapping files for yosys.","",""
"1187141985530818611","ravenslofty","2025-12-09T14:53:14.0400000+00:00","I would advise against such an approach","",""
"220639106915368960","tholin","2025-12-09T14:53:30.7110000+00:00","I’ve never seen yosys synthesize adder cells","",""
"1187141985530818611","ravenslofty","2025-12-09T14:53:52.5560000+00:00","the default structure for an adder in Yosys is Brent-Kung","",""
"220639106915368960","tholin","2025-12-09T14:54:02.9730000+00:00","Okay, if I add xor3 and oai33, I can add my SCL as a technology backend to vlsiffra.","",""
"220639106915368960","tholin","2025-12-09T14:54:18.7600000+00:00","I am actually almost there.","",""
"1187141985530818611","ravenslofty","2025-12-09T14:54:25.8330000+00:00","might be interesting to think about a csa42, but","",""
"220639106915368960","tholin","2025-12-09T14:54:45.2230000+00:00","I don’t know what csa42 is","",""
"1187141985530818611","ravenslofty","2025-12-09T14:54:55.3370000+00:00","4:2 compressor for a carry-save adder","",""
"1187141985530818611","ravenslofty","2025-12-09T14:55:04.7640000+00:00","full adders are 3:2 compressors, as such","",""
"803213471402688522","_luke_w_","2025-12-09T14:56:18.9730000+00:00","The main things I saw that were missing were DFFEs and flops with sync set/clear (the latter being useful for absorbing an OR or ANDN on non-reset datapath flops)","",""
"803213471402688522","_luke_w_","2025-12-09T14:57:20.9490000+00:00","Also ICGs, but I don't think many people are using clock gates, partly because our CTS doesn't balance through them very well","",""
"220639106915368960","tholin","2025-12-09T14:58:48.7900000+00:00","Wow, I looked up how fd_sc did its xor3 because I thought ""there has to be a more elegant solution than concatenating two xor2 cells"" but nope. Its just two xor2 cells slapped together.","",""
"1365118310701600900","rtimothyedwards_19428","2025-12-09T14:59:08.5350000+00:00","@Lofty :  I do analog stuff mostly.  I'm generally happy with whatever yosys synthesizes, because I'm not doing for ultra high performance digital.","",""
"1187141985530818611","ravenslofty","2025-12-09T14:59:31.3280000+00:00","well, unfortunately, it is my job to improve ""whatever yosys synthesises"" ^^;","",""
"1365118310701600900","rtimothyedwards_19428","2025-12-09T14:59:45.0260000+00:00","@Tholin :  Don't look for inspiration from the foundry libraries, or you'll be disappointed.","",""
"220639106915368960","tholin","2025-12-09T15:00:16.0750000+00:00","But I’m looking at the boolean logic and I don’t see a better way with less transistors either.","",""
"220639106915368960","tholin","2025-12-09T15:00:20.6910000+00:00","XOR is just weird","",""
"220639106915368960","tholin","2025-12-09T15:00:28.1780000+00:00","It eats into your transistor count no matter what you do","",""
"1365118310701600900","rtimothyedwards_19428","2025-12-09T15:00:49.4850000+00:00","@Lofty :  Understood.  I was just explaining why elegant adder solutions are not on my priorities list.  : )","",""
"1187141985530818611","ravenslofty","2025-12-09T15:01:52.0390000+00:00","(I find it interesting that in domino logic structures a xor2 is isomorphic to a mux2)","",""
"220639106915368960","tholin","2025-12-09T15:08:10.0480000+00:00","My todo list is quite small now. It turns out that aoi cells already cover most of what yosys needs for efficient outputs. I just need oai21 and oai22 and I’m done.","",""
"220639106915368960","tholin","2025-12-09T15:08:26.4320000+00:00","And oa33 if I want to add that vlsiffra backend.","",""
"169786952432746498","mithro_","2025-12-09T15:49:39.1840000+00:00","I was working on vlsiffra for gf180mcu and other technologies at the time I left Google","",""
"169786952432746498","mithro_","2025-12-09T15:50:03.1550000+00:00","https://github.com/mithro/vlsiffra/branches/all","",""
"220639106915368960","tholin","2025-12-09T16:05:37.3290000+00:00","I used vlsiffra during my tapeout here","",""
