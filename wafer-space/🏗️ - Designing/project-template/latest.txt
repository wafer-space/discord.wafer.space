==============================================================
Guild: wafer.space Community
Channel: üèóÔ∏è - Designing / project-template
After: 11/22/2025 18:57
==============================================================

[11/22/2025 19:01] rtimothyedwards_19428
@Tholin :  Sorry, I was not following this conversation until Sylvain flagged me.
I keep trying to remind people that the magic DRC deck for GF180MCU was designed in a hurry for what was a digital-only tapeout from Efabless.  I made a "good first pass" at the analog rules and layers but there were no analog designs to validate it with.  I have made some corrections since then, but it is more or less in the same state.  I suppose the same goes for the klayout deck---No real validation in practice.


[11/22/2025 19:11] rtimothyedwards_19428
@Tholin :  I found the GF handling of "5V" devices to be awkward and looked for some method to be consistent.  It has never seemed reasonable to me that the same device can be either "5V" or "6V", and requires a marker layer to specify the _intent_ of it.  But mostly the issue of the way it is currently implemented in magic comes from early on struggling with what was _meant_ by a 5V or 6V transistor, along with largely unreadable documentation trying (badly) to explain it.  There were no 5V devices in the device model files originally.  I added those to the model files recently.  I could certainly redo the magic tech file to separate the 5V and 6V transistor types (now that there is a device model for each of them) and use the V5_XTOR ("FET5VDEF" in the magic techfile) to distinguish them (and apply the device length rules separately for each of them).


[11/22/2025 19:13] 246tnt
IMHO it's fine to only have `mv` to represent 5V/6V , but the `V5_XTOR` layer still need to be generated if length is too small to be 6V to comply with the DRC requirement ...  I'm not sure if that's something doable in the magic tech file ?


[11/22/2025 19:13] rtimothyedwards_19428
So it's not so much a bug as an implementation decision.  Given that (at the time I implemented it) there was only one device model, I just had magic extract that one device model and discarded the information from the V5_XTOR mask.  Either way, it's the same device, same model (my 5V model is just a copy of the 6V model, with a restriction on device length applied to the 6V model).


[11/22/2025 19:15] rtimothyedwards_19428
@tnt :  It can be done.  I assume the purpose is to have magic-generated GDS pass DRC in klayout?


[11/22/2025 19:15] 246tnt
Yes. But also potentially any DRC GF themselves are running since this is in the design manual.


[11/22/2025 19:16] rtimothyedwards_19428
But I think that just implementing, say, "mvpfet" = 5V pfet and "hvpfet" = 6V pfet would be more consistent with the PDK overall.


[11/22/2025 19:16] 246tnt
Sure, I have no strong opinion on that.


[11/22/2025 19:17] 246tnt
The 10V one are `ld` if I read the tech file correctly.


[11/22/2025 19:34] rtimothyedwards_19428
Are there any published rules for V5_XTOR?  I can't find any in the open PDK documentation.  In the vendor libraries, it appears to cover entire cells, although I would assume it is only meaningful over the gate of the device.


==============================================================
Exported 10 message(s)
==============================================================
