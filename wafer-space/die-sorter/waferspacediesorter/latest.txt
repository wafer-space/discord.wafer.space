==============================================================
Guild: wafer.space Community
Channel: üèóÔ∏è - Designing / die-sorter / waferspace_die_sorter/discussions/id_fid...
==============================================================

[10/02/2025 07:48] mole99



[10/02/2025 07:48] mole99
Hi @Andrew Wingate, why do you prefer a data matrix over a QR code?

```
Data matrix is my personal choice for now. 

At macro scales this can also be used as pin 1 designator

They also can be dots and not full squares.
```

This all applies to QR-codes as well, doesn't it? I would say that the orientation is easier to decode in a QR-code.
If there's no major benefit to a data matrix, I would choose a QR-Code. Simply because for "normal" users this is much easier to read (it is supported by a lot of software nowadays). What is the maximum ECC you can get for a data matrix?


[10/02/2025 07:54] anfroholic
> This all applies to QR-codes as well, doesn't it?
It does yes

I also believe data matrix does not need an orientation to read. 

Seems you can lose 30% with [Data_Matrix_ECC_200](https://en.wikipedia.org/wiki/Data_Matrix#Data_Matrix_ECC_200) 
I think the benefit is size but I  have not done the math

{Attachments}
https://cdn.discordapp.com/attachments/1423197534037479514/1423216640790761532/image.png?ex=691b7d89&is=691a2c09&hm=a0546f10ef600529a654a17f31dda6765ec9a073e2f903303df2d43d3fd0e51e&
https://cdn.discordapp.com/attachments/1423197534037479514/1423216641159856169/image.png?ex=691b7d89&is=691a2c09&hm=7e40ce89951b104e3fcddb90c483a6849ec3142f160084c139f4a7da4841d424&

{Embed}
https://en.wikipedia.org/wiki/Data_Matrix
Data Matrix
A Data Matrix is a two-dimensional code consisting of black and white "cells" or dots arranged in either a square or rectangular pattern, also known as a matrix. The information to be encoded can be text or numeric data. The usual data size is from a few bytes up to 1556 bytes. The length of the encoded data depends on the number of cells in the...
https://images-ext-1.discordapp.net/external/20rLlmAt4lBEH-kgRTDC8DTvQwmjrtP0AHQha7tzeSs/https/upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Datamatrix.svg/1200px-Datamatrix.svg.png


[10/02/2025 07:57] anfroholic
QR codes are similar but need more dots per stored bit

{Attachments}
https://cdn.discordapp.com/attachments/1423197534037479514/1423217315335639110/image.png?ex=691b7e2a&is=691a2caa&hm=2f5348214acb33be4315ee47a3257c2a643b1cdba1ec5580228cb75c5d951f2a&


[10/02/2025 07:57] anfroholic


{Attachments}
https://cdn.discordapp.com/attachments/1423197534037479514/1423217359178432563/QR_Code_Structure_Example_3.svg.png?ex=691b7e34&is=691a2cb4&hm=777db2593733d92c7fa79791458c4fd704cef6869867001c31a227efc0554a32&


[10/02/2025 08:07] mole99
I thought your main concern was being able to reliable read these? If so, I would go with QR-codes, lowest density and highest ECC.
I would just store the first 8 places of a hash ("AABBCCDD") to distinguish the dies like Efabless did.

People can always add more "Chip art" if they feel like it.


[10/02/2025 08:17] anfroholic
I think the bar has slid towards a url. 

Machine readability makes things super easy for me. 
With a cheap microscope you should be able to read one if we get to use the whole area in that corner. (That is the 125um square, correct) example in pasted pic 

This choice may make things a little harder for me, but that can remain my problem, but should be easy enough for someone with cheap tools to resolve--keep in mind that I was unable to resolve any of the numbers with the Efabless versions of the numbers.

{Attachments}
https://cdn.discordapp.com/attachments/1423197534037479514/1423222394553761863/image.png?ex=691b82e5&is=691a3165&hm=a7875699a0d12582b39c85a695512e2e76d283bddc1bdd21db2719941158515a&


[10/02/2025 08:23] mole99
Whatever you do, please don't use a URL shortener. It wouldn't be great to scan the dies after 10 years have passed, just to see that the URL is dead üôÉ


[10/02/2025 08:23] mole99
Yes, we can use that area.

{Attachments}
https://cdn.discordapp.com/attachments/1423197534037479514/1423223948635668591/image.png?ex=691b8457&is=691a32d7&hm=f5d37d4629a9dafa7642d2c196c9cd8634e7e28b5159235fd82b199b670d3f71&


[10/02/2025 08:24] mole99
Although, I'm wondering why the corner is differently colored...


[10/02/2025 08:24] mole99
We might even get 140x140um

{Attachments}
https://cdn.discordapp.com/attachments/1423197534037479514/1423224113933062225/Bildschirmfoto_vom_2025-10-02_10-20-57.png?ex=691b847e&is=691a32fe&hm=d3aa82fb89dee887c5cd85f41295aa75d77a36be401132d7beb161687dc7b0ee&


[10/02/2025 08:24] anfroholic
The density may be very similar, so I am going to say it makes little difference to me. 
I suppose more people would recognize a qr code as something they can get information from, so that may be the best choice in the end.

{Attachments}
https://cdn.discordapp.com/attachments/1423197534037479514/1423224117175255091/image.png?ex=691b847f&is=691a32ff&hm=f75fa9fb0b2082bba4b548d5cdb964d4181d908a2010680a82a6119bced455ec&

{Reactions}
üëç

[10/02/2025 08:26] anfroholic
Thanks! I can try testing a few things, but my gut says there is enough resolution here not to worry

You mentioned something about the dots causing problems? What would work best?


[10/02/2025 08:28] mole99
Arbitrary angles aren't allowed in the GDS afaik. We can use 45¬∞ angles however. I'll look into it.


[10/02/2025 08:28] anfroholic
Something like this is a compromise, but there will always be single dots some places


[10/02/2025 08:28] anfroholic


{Attachments}
https://cdn.discordapp.com/attachments/1423197534037479514/1423225078438428692/image.png?ex=691b8564&is=691a33e4&hm=cff08b168ecc2b44027d04db091abd5b35195c5807534d7ea5b7ff78e9217816&


[10/02/2025 08:29] mole99
Yes, but with 45¬∞ angles the corners won't touch, so it should be fine :)


[10/02/2025 08:29] anfroholic
I'm sure octagons could work

{Attachments}
https://cdn.discordapp.com/attachments/1423197534037479514/1423225293761413160/image.png?ex=691b8598&is=691a3418&hm=331d209f91d99d170ec12b06e902e0595b636da00c73210b242f0e8241290ee7&


[10/02/2025 08:29] mole99
No, here you have edges touching üòÖ


[10/02/2025 08:30] anfroholic
These are diamonds, but was just showing a few of the options


[10/02/2025 08:30] mole99


{Attachments}
https://cdn.discordapp.com/attachments/1423197534037479514/1423225614969733140/image.png?ex=691b85e4&is=691a3464&hm=94c106e5de149144ba8daab6eb6c6a8d03956dcc6b04fabc4f86345e45bfec4c&

{Reactions}
üíú

[10/02/2025 08:30] mole99
Ignore my artistic skills ^^


[10/02/2025 08:31] anfroholic
haha yes, if those are easy for you, I don't see why that's not viable.

{Reactions}
üëå

[10/02/2025 08:32] mole99
Nevertheless, I would still use the lowest density QR-code.

As you said, having such a small ID will make your life difficult, so why make it even harder by increasing the density? If the URL fits in the given encoding, use it. Otherwise, use a hash.


[10/02/2025 08:32] anfroholic
This is another example, but figure some regular pattern is easiest for you

{Attachments}
https://cdn.discordapp.com/attachments/1423197534037479514/1423226127169880075/image.png?ex=691b865e&is=691a34de&hm=67ce17fbe429bda96ca5d9caded37a0f3b025a1fa6679391034a551b41581305&


[10/02/2025 08:32] mole99
Yes, a regular pattern would be nice.


[10/02/2025 08:33] mole99
Whatever will be decided on, I can already get started with the QR-code generator.


[10/02/2025 08:33] anfroholic
Tim has told me to get over myself üòú 
So we can disregard a lot of that.


[10/02/2025 08:42] mole99
The main purpose of the ID is to enable automatic sorting of the dies. Therefore, we should use what works the best for this. A hash would suffice. If not, you need to be ready to invest a bit more into microscope equipment to be able to read the ID. (And some people might not be able to read it with their equipment.)

If you want a URL in the layout just for "coolness" (I get it üòâ) you can simply add it to some projects. In the core are you're not limited by size and can scale it up so that even a phone camera can read it.

@Tim 'mithro' Ansell something to think about.

{Reactions}
üíú

[10/02/2025 12:59] mole99


{Attachments}
https://cdn.discordapp.com/attachments/1423197534037479514/1423293248117674014/image.png?ex=691b1c21&is=6919caa1&hm=a7884970f06018c44ae6ffceb63805cfd778784c927256607795208b90240bfa&

{Reactions}
üëç

[10/02/2025 13:10] mithro_
I think the die ID for sorting can be different to any url / project info ID?


[10/02/2025 13:33] mole99
I agree. And the die ID should be the only requirement for tapeout.

Users can include a project URL or ID in their core area if they wish and if applicable. For example, I don't think a URL would make sense for proprietary designs.


[10/02/2025 13:40] mithro_
@mole99 - Here is a potentially horrific idea -- Librelane should have a (optional) pass which adds an "Open Silicon Chip Identifier" into the top metal fill?


[10/02/2025 13:49] mole99
That's not a horrific idea, that's actually what I'm doing the precheck flow :)
I added a custom step that replaces the ID in the dummy macro with the actual ID that we want to set.


[10/02/2025 14:17] mithro_
@mole99 - I mean one which is kind of like the OSHWA registered ID or something?


[10/02/2025 14:19] mithro_
BTW I was thinking it would be good if the chip ID was something like `<processtech><runid><projectid><checksum>` - `processtech` == 1 character, `runid` == 2 characters, `projectid` == ??? character -- "Character" could be a-z0-1 eliminating the confusing ones like l/1 and 0/O ?


[10/02/2025 14:26] mole99
LibreLane already has the functionality to add macros to your design. I'll push my changes soon so that you can see how that is done.
If you like, I can create some DRC-clean logos that users can add to their designs if they wish (e.g. wafer.space, OSHW).


[10/02/2025 14:27] mole99
That should be possible. I think we have 8-10 characters with the highest ECC rate. I'll have to check again later.


==============================================================
Exported 38 message(s)
==============================================================
